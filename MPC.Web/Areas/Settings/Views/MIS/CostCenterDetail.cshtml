@{
    ViewBag.Title = "Cost Center Detail";
}
@section leftmenue {

}
<div class="row" data-bind="visible: $root.isEditorVisible()" style="display: none">
    <div class="col-lg-12">
        <form method="post" enctype="multipart/form-data" id="fileUploadForm">
            <div class="row" data-bind="with: selectedCostCenter()">
                <div class="col-lg-12">
                    <div class="clearfix">
                        <div class="pull-left validationSummaryContainer">
                            <a class="validationSummaryLink" data-bind="visible: $root.errorList().length > 0, bootstrapPopover: { html: true, title: 'Please fix following errors', elementNode: 'validationSummaryPopupForItem', popoverId: 'validationSummaryPopoverBodyForItem' }" style="display: none">Invalid data: Click here to see details.</a>
                            @* ReSharper disable UnknownCssClass *@
                            <div class="well well-small validationSummaryModal" id="validationSummaryPopupForItem" style="display: none">
                                @* ReSharper restore UnknownCssClass *@
                                <div id="validationSummaryPopoverBodyForItem">
                                    <ul data-bind="foreach: $root.errorList">
                                        <li>
                                            <a data-bind="click: $root.gotoElement.bind($data.element)"><span data-bind="text: name"></span></a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div class="col-lg-12">
                    <ol class="breadcrumb" style="padding-left:8px;">
                        <li><a href="~/Dashboard/Index">Home</a></li>
                        <li><span>Settings</span></li>
                        <li><a href="~/Settings/MIS/CostCenters">Cost Centers</a></li>
                        <li class="active"><span>Cost Center Detail</span></li>
                    </ol>
                    <div class="col-lg-12">
                        <h1 class="pull-left" style="padding-left:0px;" data-bind="text: name()"></h1>
                    </div>
                    <div class="col-lg-12">
                        &nbsp;
                    </div>
                    <div class="clearfix" style="margin-bottom:20px;margin-right:8px;">
                        
                        <div class="pull-right top-page-ui">

                            <button class="btn btn-danger" data-bind="click: $root.onDeletePermanent, enable: $root.selectedCostCenter().costCentreId() > 0">Delete</button>
                            <button class="btn btn-success" data-bind="click: $root.onCopyCostCenter, enable: $root.selectedCostCenter().costCentreId() > 0">Copy Cost Center</button>

                            <button type="button" class="btn btn-primary" data-bind="click: $root.saveCostCenter, enable: hasChanges, css: { 'btn-warning': hasChanges }">
                                Save
                            </button>
                            <button type="button" class="btn btn-primary" data-bind="click: $root.closeCostCenterDetail">
                                Close
                            </button>

                        </div>
                    </div>
                </div>
                <div class="row" id="divCostCenterDetail" style="margin-left:1px;margin-right:0px;">
                    <div class="col-lg-12 col-md-12 col-sm-12" style="padding-left:18px;padding-right:18px;margin-top:10px;">
                        <div class="main-box clearfix">
                            <div class="tabs-wrapper profile-tabs">
                                <ul class="nav nav-tabs">
                                    <li class="active" id="generalInfoTab"><a href="#tab-generalinfo" data-toggle="tab">Cost Center Details</a></li>
                                    @*<li><a href="#tab-CostSetup" data-toggle="tab">Cost Setup</a></li>*@
                                    @*<li><a href="#tab-FixedCalculation" data-toggle="tab" data-bind="visible: calculationMethodType() === 1">Fixed Calculation</a></li>*@
                                    <li><a href="#tab-QtyBaseCalculation" data-toggle="tab" data-bind="visible: calculationMethodType() === 3">Per Quantity Cost</a></li>
                                    <li><a href="#tab-HourBaseCalculation" data-toggle="tab" data-bind="visible: calculationMethodType() === 2">Per Hour Cost</a></li>
                                    @*<li><a href="#tab-PlantCalculation" data-toggle="tab" data-bind="visible: calculationMethodType() === 4">Plant Calculation</a></li>
                            <li><a href="#tab-StockCalculation" data-toggle="tab" data-bind="visible: calculationMethodType() === 4">Stock Calculation</a></li>*@
                                    <li><a href="#tab-LabourCalculation" data-toggle="tab" data-bind="visible: calculationMethodType() === 4">Formula String Cost</a></li>
                                    @*<li><a href="#tab-TimeCalculation" data-toggle="tab" data-bind="visible: calculationMethodType() === 4">Time Calculation</a></li>*@
                                    <li><a href="#tab-WorkInstruction" data-toggle="tab">Work Instruction</a></li>
                                </ul>
                                <div class="tab-content">
                                    <div class="tab-pane fade in active" id="tab-generalinfo">
                                        <div class="col-lg-12 form-horizontal">
                                            @*<h3 class="group-header">Cost Center Details</h3>*@
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        @*<div>
                                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Name of the cost center." data-original-title="" title="">
                                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                        </a>
                                                    </div>
                                                <label for="txtCostCenterName" class="control-label text-right tooltip-float" style="margin-right: 35px;">Cost Center Name</label>*@
                                                    </div>
                                                    <div class="col-lg-7">
                                                        <input type="text" class="form-control font24px height60" id="txtCostCenterName" placeholder="Enter Cost Center Name" data-bind="value: name, validationTooltip: name">
                                                        @*<span class="help-block text-right">Cost Center Name required to display in lists.</span>*@
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="There are three types of calculation methods you can choose from, hourly based, quantity bases, and formula based, hourly and quantity based been the simplest or formula based allowing you to create complex if/and or calculations" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="ddlbCostCenterType" class="control-label text-right tooltip-float">Calculation Method</label>
                                                    </div>
                                                    <div class="col-lg-7">
                                                        <select id="ddlbCostCenterType" class="form-control" data-bind="options: $root.costCenterTypes, optionsText: 'TypeName', optionsValue: 'TypeId',value:calculationMethodType, enable :isCalculationMethodEnable"></select>

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Select if this category is before or after the printing process. Pre-Press is any category that happens before the printing process and post press occurs after or during the printing process" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="ddlbCostCenterCategory" class="control-label text-right tooltip-float">Cost Center Category</label>
                                                    </div>
                                                    <div class="col-lg-7">
                                                        <select id="ddlbCostCenterCategory" class="form-control" data-bind="options: $root.costCenterCategories, optionsText: 'TypeName', optionsValue: 'TypeId',value:type"></select>

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div>
                                                        <div class="col-lg-5 text-right">
                                                            @*<div class="bs-example-tooltips tooltip-float-width">
                                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Web Store Description." data-original-title="" title="">
                                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                        </a>
                                                    </div>
                                                    <label for="txtWebDesc" class="control-label text-right tooltip-float">Web Store Description</label>*@
                                                        </div>
                                                        <div class="col-lg-7">
                                                            <textarea class="form-control" id="txtWebDesc" placeholder="Enter Web Store Description" rows="5" data-bind="value: webStoreDesc"></textarea>
                                                            @*<span class="help-block text-right">Web description required to display on website.</span>*@
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Enables or Disables the cost center from being used in a webstore or on an estimate" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="switchisDisabled" class="control-label text-right tooltip-float">Is Cost Center enable</label>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="onoffswitch">
                                                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="switchisDisabled" data-bind="checked:isDisabled">
                                                            <label class="onoffswitch-label" for="switchisDisabled">
                                                                <div class="onoffswitch-inner"></div>
                                                                <div class="onoffswitch-switch"></div>
                                                            </label>
                                                        </div>

                                                    </div>
                                                </div>
                                                @*<div class="form-group">
                                            <div class="col-lg-5 text-right">

                                                <label class="control-label text-right tooltip-float">Is Cost Center a Direct Cost</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="onoffswitch">
                                                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="switchDirectCost" data-bind="checked:isDirectCost">
                                                    <label class="onoffswitch-label" for="switchDirectCost">
                                                        <div class="onoffswitch-inner"></div>
                                                        <div class="onoffswitch-switch"></div>
                                                    </label>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-5 text-right">

                                                <label class="control-label text-right tooltip-float">Can Cost Center be scheduled</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <div class="onoffswitch">
                                                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="switchScheduled" data-bind="checked:isScheduleable">
                                                    <label class="onoffswitch-label" for="switchScheduled">
                                                        <div class="onoffswitch-inner"></div>
                                                        <div class="onoffswitch-switch"></div>
                                                    </label>
                                                </div>

                                            </div>
                                        </div>*@
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Enables or disables if the cost center will appear on work tickets or job cards" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label class="control-label text-right tooltip-float">Print Cost Center on Job card</label>
                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="onoffswitch">
                                                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="switchPrintOnJob" data-bind="checked:isPrintOnJobCard">
                                                            <label class="onoffswitch-label" for="switchPrintOnJob">
                                                                <div class="onoffswitch-inner"></div>
                                                                <div class="onoffswitch-switch"></div>
                                                            </label>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">

                                                        <label for="txtPriority" class="control-label text-right tooltip-float">Job Card Print Sort Order</label>
                                                    </div>
                                                    <div class="col-lg-5">
                                                        <input type="text" class="form-control text-right" id="txtPriority" placeholder="" style="width:50%;float: left;margin-right: 5px;" data-bind="autoNumeric:priority, settings:{mDec:0,vMin:0,vMax:9}">
                                                        <span class="help-block" style="  margin-top: 8px;">(0-High, 9-Low)</span>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">

                                                        <label for="txtProductionTime" class="control-label text-right tooltip-float">Est. Production Time</label>
                                                    </div>
                                                    <div class="col-lg-5">
                                                        <input type="text" class="form-control text-right" id="txtProductionTime" placeholder="" style="width:50%;float: left;margin-right: 5px;" data-bind="autoNumeric:estimateProductionTime, settings:{mDec:0}">
                                                        <span class="help-block" style="  margin-top: 8px;">day(s)</span>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <div class="col-md-4 text-right">
                                                        @*<div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Appears on Web Store Option Page." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>

                                                <label class="control-label text-right tooltip-float">Thumbnail</label>*@
                                                    </div>
                                                    <div class="col-md-6">
                                                        <div class="clearfix">


                                                            <img style="width:220px;" id="idCostcenterimage" data-bind="visible:costcentreImageFileBinary()==undefined ,attr: { src: '@Url.Content("~/")' + thumbnailImageUrl() }" />
                                                            <img style="width:220px;" data-bind="visible:costcentreImageFileBinary()!==undefined,attr: { src: costcentreImageFileBinary }" />

                                                            <div class="col-lg-12" style="margin-top:10px;text-align:center;width:220px;">
                                                                <div class="fileUpload btn btn-primary">
                                                                    <span>Upload </span>
                                                                    <input type="file" class="upload" id="image_files" multiple data-bind="files: { onLoaded: $root.costcenterImageFilesLoadedCallback, fileFilter: 'image.*'}" />
                                                                </div>

                                                            </div>
                                                            <div class="col-lg-11 ThoumbnailCostCenter" style="text-align:center;margin-top:10px !important;width:220px;">Select an icon image ( PNG, GIF, JPG) of 50x50 dimension which will be displayed on Store’s Product Option page. </div>
                                                            <div class="profile-stars">
                                                                <span data-bind="value: type"></span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-md-4 text-right">
                                                        @*<div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Web Store Description" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtInternalDesc" class="control-label text-right tooltip-float">Notes</label>*@
                                                    </div>
                                                    <div class="col-md-6" style="width:235px;">
                                                        <textarea class="form-control" id="txtInternalDesc" placeholder="Notes" rows="5" data-bind="value: description" style="background-color: rgb(254, 254, 198);position: relative;"></textarea>
                                                        <span class="help-block text-right"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                    @*<div class="tab-pane fade" id="tab-FixedCalculation">
                                <div class="col-lg-12 form-horizontal">
                                    <h3 class="group-header">Cost</h3>
                                    <div class="col-lg-7">
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Cost prompt question." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtPromptCostQuestion" class="control-label text-right tooltip-float">Prompt Question</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <input type="text" class="form-control" id="txtPromptCostQuestion" placeholder="Enter minimum cost" data-bind="value: costQuestionString, validationTooltip: costQuestionString">
                                                <span class="help-block text-right">Prompt question for cost</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Cost prompt question." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtCostDefault" class="control-label text-right tooltip-float">Default Value</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtCostDefault" placeholder="Enter minimum cost" data-bind="value: costDefaultValue, validationTooltip: costDefaultValue">
                                                <span class="help-block text-right">Prompt question for cost</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 form-horizontal">
                                    <h3 class="group-header">Price</h3>
                                    <div class="col-lg-7">
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Price prompt question." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtPromptPriceQuestion" class="control-label text-right tooltip-float">Prompt Question</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <input type="text" class="form-control" id="txtPromptPriceQuestion" placeholder="Enter minimum cost" data-bind="value: priceQuestionString, validationTooltip: priceQuestionString">
                                                <span class="help-block text-right">Prompt question for price</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Price Default Value." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtPriceDefault" class="control-label text-right tooltip-float">Default Value</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtPriceDefault" placeholder="Enter minimum cost" data-bind="value: priceDefaultValue, validationTooltip: priceDefaultValue">
                                                <span class="help-block text-right">Prompt question for price</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 form-horizontal">
                                    <h3 class="group-header">Time</h3>
                                    <div class="col-lg-7">
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Time prompt question." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtPromptTimeQuestion" class="control-label text-right tooltip-float">Prompt Question</label>
                                            </div>
                                            <div class="col-lg-6">
                                                <input type="text" class="form-control" id="txtPromptTimeQuestion" placeholder="Enter question" data-bind="value: estimatedTimeQuestionString, validationTooltip: estimatedTimeQuestionString">
                                                <span class="help-block text-right">Prompt question for time</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Time Default Value." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtTimeDefault" class="control-label text-right tooltip-float">Default Value</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtTimeDefault" placeholder="Enter default value" data-bind="value: estimatedTimeDefaultValue, validationTooltip: estimatedTimeDefaultValue">
                                                <span class="help-block text-right">Time default value</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>*@
                                    @*<div class="tab-pane fade" id="tab-CostSetup">
                                <div class="col-lg-12 form-horizontal">
                                    <h3 class="group-header">Cost Setup</h3>
                                    <div class="col-lg-7">

                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Run On Cost." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtRunonCost" class="control-label text-right tooltip-float">Run On Cost</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtRunonCost" placeholder="Enter Run On cost" data-bind="value: costPerThousand">
                                                <span class="help-block text-right">Run On Cost</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Hourly Rate." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtHourlyRate" class="control-label text-right tooltip-float">Hourly Rate</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtHourlyRate" placeholder="Enter hourly rate" data-bind="value: hourlyCharge">
                                                <span class="help-block text-right">Hourly Rate</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Hourly Overhead Rate." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtHourlyOverheadRate" class="control-label text-right tooltip-float">Hourly Overhead Rate</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtHourlyOverheadRate" placeholder="Enter hourly rate" data-bind="value: overHeadRate">
                                                <span class="help-block text-right">Hourly Overhead Rate</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Minimum Time" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtMinimumTime" class="control-label text-right tooltip-float">Minimum Time</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtMinimumTime" placeholder="Enter Minimum Time" data-bind="value: completionTime">
                                                <span class="help-block text-right">Minimum Time</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Setup Time" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtSetupTime" class="control-label text-right tooltip-float">Setup Time</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtSetupTime" placeholder="Enter Setup Time" data-bind="value: setupTime">
                                                <span class="help-block text-right">Setup Time</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-lg-12 form-horizontal">
                                    <h3 class="group-header">Spoilage</h3>
                                    <div class="col-lg-7">
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Minimum Cost." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtSetupSpoilage" class="control-label text-right tooltip-float">Setup Spoilage</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtSetupSpoilage" placeholder="Enter minimum cost" data-bind="value: setupSpoilage">
                                                <span class="help-block text-right">Setup Spoilage</span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Running Spoilage" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtRunningSpoilage" class="control-label text-right tooltip-float">Running Spoilage</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtRunningSpoilage" placeholder="Enter minimum cost" data-bind="value: runningSpoilage">
                                                <span class="help-block text-right">Running Spoilage</span>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-lg-12 form-horizontal">
                                    <h3 class="group-header">Resources</h3>
                                    <div class="col-lg-7">
                                        <div class="col-lg-3"></div>
                                        <div class="col-lg-6">
                                            <div class="main-box-body clearfix">
                                                <div class="table-responsive">
                                                    <table class="table table-striped table-hover">
                                                        <thead>
                                                            <tr>
                                                                <th><span>Full Name</span></th>
                                                                <th>Select</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            <!-- ko template: { name: 'itemResourcesTemplate' , foreach: $root.costCenterResources() } -->
                                                            <!-- /ko -->
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>*@
                                    <div class="tab-pane clearfix fade" id="tab-QtyBaseCalculation">
                                        <div class="col-lg-12 form-horizontal">
                                            @*<h3 class="group-header">Quantity Base Calculation</h3>*@
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="The minimum charge is applied to the cost center, it means that the selling price will never fall below this cost" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="txtMinimumCost" class="control-label text-right tooltip-float">Minimum Charge</label>
                                                    </div>
                                                    <div class="col-lg-3 input-group">
                                                        <span class="input-group-addon" data-bind="text:$root.CurrencySymbol"></span>
                                                        <input type="text" class="form-control" id="txtMinimumCost" placeholder="Enter minimum cost" data-bind="numberValue:minimumCost, settings:{mDec:3}, validationTooltip: minimumCost">
                                                        @*<span class="help-block text-right">minimum cost</span>*@
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="the setup charge is the starting value for the cost center then multiplied by the per hour or per item charge" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="txtSetupCost" class="control-label text-right tooltip-float">Setup Charge</label>
                                                    </div>
                                                    <div class="col-lg-3  input-group">
                                                        <span class="input-group-addon" data-bind="text:$root.CurrencySymbol"></span>
                                                        <input type="text" class="form-control" id="txtSetupCost" placeholder="Enter setup cost" data-bind="numberValue:setupCost, settings:{mDec:3} , validationTooltip: setupCost">
                                                        @*<span class="help-block text-right"> setup time</span>*@
                                                    </div>
                                                </div>
                                                @*<div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Cost per unit quantity" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtPerUnitQty" class="control-label text-right tooltip-float">Cost per unit quantity</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtPerUnitQty" placeholder="Enter Cost" data-bind="value: costPerUnitQuantity, validationTooltip: costPerUnitQuantity">
                                                <span class="help-block text-right">Cost per unit quantity</span>
                                            </div>
                                        </div>*@
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Price per unit quantity." data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="txtPricePerUnitQty" class="control-label text-right tooltip-float">Unit Charge</label>
                                                    </div>
                                                    <div class="col-lg-3 input-group">
                                                        <span class="input-group-addon" data-bind="text:$root.CurrencySymbol"></span>
                                                        <input type="text" class="form-control" id="txtPricePerUnitQty" placeholder="Enter Price" data-bind="numberValue:pricePerUnitQuantity,numberFormat: ist.lengthFormat , validationTooltip: pricePerUnitQuantity">
                                                        @*<span class="help-block text-right">Price per unit quantity</span>*@
                                                    </div>
                                                </div>
                                                @*<div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Time per unit quantity." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtTimePerUnitQty" class="control-label text-right tooltip-float">Time per unit quantity</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtTimePerUnitQty" placeholder="Enter Price" data-bind="value: timePerUnitQuantity, validationTooltip: timePerUnitQuantity">
                                                <span class="help-block text-right">Time per unit quantity</span>
                                            </div>
                                        </div>*@
                                            </div>
                                        </div>
                                        <div class="col-lg-12 form-horizontal">
                                            <h3 class="group-header">Multiply the "Unit Charge" by the Quantity used from : </h3>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <div class="col-lg-4 text-right" style="padding-right:0px !important;">
                                                        <label for="rdioVariableInputQty">
                                                            A run-time variable
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-1 text-right radio" style="padding-left:0px;">
                                                        <input type="radio" name="optionsinputQty" id="rdioVariableInputQty" value="1" style="margin:0px" data-bind="checked: isQtyVariable">


                                                        <label for="rdioVariableInputQty">
                                                            &nbsp;
                                                        </label>
                                                        @*</div>
                                                <div class="col-md-1 text-left label-radio">*@

                                                    </div>
                                                    <div class="col-md-6">
                                                        <select id="ddlbVariablesList" class="form-control" data-bind="options: $root.costCenterVariables, optionsText: 'Name', optionsValue: 'VarId',value:quantityVariableId, visible: isQtyVariable() === '1'"></select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-4 text-right" style="padding-right:0px;">
                                                        <label for="rdioPromptInputQty" style="margin-top: 9px;">
                                                            Prompting a Question
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-1 text-right radio">
                                                        <input type="radio" name="optionsinputQty" id="rdioPromptInputQty" value="2" style="margin:0px" data-bind="checked: isQtyVariable">

                                                        <label for="rdioPromptInputQty">
                                                            &nbsp;
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-7" style="padding-left:0px">
                                                        <input type="text" class="form-control" id="txtInputPrompt" placeholder="Type the question you want to ask the Estimator." data-bind="value: quantityQuestionString,validationOnElement:quantityQuestionString, validationTooltip: quantityQuestionString, visible: isQtyVariable() === '2'">
                                                    </div>
                                                </div>
                                                <div class="form-group" data-bind="visible: isQtyVariable() === '2'">
                                                    <div class="col-lg-5 text-right">


                                                    </div>
                                                    <div class="col-lg-7" style="padding-left:0px">

                                                        <input type="text" class="form-control" id="txtVariablePromptDefault" placeholder="Enter Default Value" data-bind="autoNumeric:quantityQuestionDefaultValue, settings:{mDec:2} , validationTooltip: quantityQuestionDefaultValue">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane clearfix fade" id="tab-HourBaseCalculation">
                                        <div class="col-lg-12 form-horizontal">
                                            @*<h3 class="group-header">Per Hour Calculation</h3>*@
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="The minimum charge is applied to the cost center, it means that the selling price will never fall below this cost" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="txtMinimumCost" class="control-label text-right tooltip-float">Minimum Charge</label>
                                                    </div>
                                                    <div class="col-lg-3 input-group">
                                                        <span class="input-group-addon" data-bind="text:$root.CurrencySymbol"></span>
                                                        <input type="text" class="form-control" id="txtMinimumCost" placeholder="Enter minimum cost" data-bind="autoNumeric:minimumCost, settings:{aDec: '.',mDec: 5, wEmpty: 'zero'}, validationTooltip: minimumCost">
                                                        @*<span class="help-block text-right">minimum cost</span>*@
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="the setup charge is the starting value for the cost center then multiplied by the per hour or per item charge" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="txtSetupCost" class="control-label text-right tooltip-float">Setup Charge</label>
                                                    </div>
                                                    <div class="col-lg-3 input-group">
                                                        <span class="input-group-addon" data-bind="text:$root.CurrencySymbol"></span>
                                                        <input type="text" class="form-control" id="txtSetupCost" placeholder="Enter setup cost" data-bind="autoNumeric:setupCost, settings:{aDec: '.',mDec: 3, wEmpty: 'zero'}, validationTooltip: setupCost">
                                                        @*<span class="help-block text-right"> setup time</span>*@
                                                    </div>
                                                </div>
                                                @*<div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Per Hour Cost" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtPerUnitHr" class="control-label text-right tooltip-float">Per Hour Cost</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtPerUnitHr" placeholder="Enter Cost" data-bind="value: perHourCost, validationTooltip: perHourCost">
                                                <span class="help-block text-right">Per Hour Cost</span>
                                            </div>
                                        </div>*@
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        <div class="bs-example-tooltips tooltip-float-width">
                                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="this is multiplied by the value either defined by prompting a question or multiplied by a cost center multiplier i.e. number of finished units" data-original-title="" title="">
                                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                            </a>
                                                        </div>
                                                        <label for="txtPricePerUnitHr" class="control-label text-right tooltip-float">Per Hour Charge</label>
                                                    </div>
                                                    <div class="col-lg-3 input-group">
                                                        <span class="input-group-addon" data-bind="text:$root.CurrencySymbol"></span>
                                                        <input type="text" class="form-control" id="txtPricePerUnitHr" placeholder="Enter Price" data-bind="autoNumeric:perHourPrice, settings:{aDec: '.',mDec: 3, wEmpty: 'zero'}, validationTooltip: perHourPrice">
                                                        @*<span class="help-block text-right">Per Hour Price</span>*@
                                                    </div>
                                                </div>
                                                @*<div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Quantity Per Hour" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtTimePerUnitHr" class="control-label text-right tooltip-float">Quantity Per Hour</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtTimePerUnitHr" placeholder="Enter Price" data-bind="value: unitQuantity, validationTooltip: unitQuantity">
                                                <span class="help-block text-right">Quantity Per Hour</span>
                                            </div>
                                        </div>*@
                                                @*<div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Number of Passes" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtPassesNumber" class="control-label text-right tooltip-float">Number of Passes</label>
                                            </div>
                                            <div class="col-lg-3">
                                                <input type="text" class="form-control" id="txtPassesNumber" placeholder="Enter Price" data-bind="value: timeNoOfPasses, validationTooltip: timeNoOfPasses">
                                                <span class="help-block text-right">Number of Passes</span>
                                            </div>
                                        </div>*@
                                            </div>
                                        </div>
                                        <div class="col-lg-12 form-horizontal">
                                            <h3 class="group-header">Multiply the "Per Hour Charge" by the number of hours used from: </h3>
                                            <div class="col-lg-6">
                                                <div class="form-group">
                                                    <div class="col-lg-4 text-right" style="padding-right:0px;">
                                                        <label for="optionsinput" style="margin-top: 9px;">
                                                            A run-time variable
                                                        </label>
                                                    </div>

                                                    <div class="col-lg-1 text-right radio" style="padding-left:18px;">
                                                        <input type="radio" name="optionsinputTime" id="rdioVariableInputTime" value="1" style="margin:0px" data-bind="checked: isTimeVariable">
                                                        <label for="rdioVariableInputTime">
                                                            &nbsp;
                                                        </label>
                                                    </div>
                                                    <div class="col-md-7" style="padding-left:0px;">
                                                        <select id="ddlbVariablesList" class="form-control" data-bind="options: $root.costCenterVariables, optionsText: 'Name', optionsValue: 'VarId',value:timeVariableId, visible: isTimeVariable() === '1'"></select>
                                                    </div>
                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-4 text-right" style="padding-right:0px;">
                                                        <label for="optionsinput" style="margin-top: 9px;">
                                                            Prompting a Question
                                                        </label>
                                                    </div>
                                                    <div class="col-md-1 text-left radio" style="padding-left:18px;">
                                                        <input type="radio" name="optionsinputTime" id="rdioPromptInputTime" value="2" style="margin:0px" data-bind="checked: isTimeVariable">
                                                        <label for="rdioPromptInputTime">
                                                            &nbsp;
                                                        </label>
                                                    </div>
                                                    <div class="col-lg-7" style="padding-left:0px">
                                                        <input type="text" class="form-control" id="txtInputPrompt" placeholder="Type the question you want to ask the Estimator." data-bind="value: timeQuestionString, validationOnElement: timeQuestionString, validationTooltip: timeQuestionString, visible: isTimeVariable() === '2'">
                                                    </div>
                                                </div>
                                                <div class="form-group" data-bind="visible: isTimeVariable() === '2'">
                                                    <div class="col-lg-5 text-right">


                                                    </div>
                                                    <div class="col-lg-7" style="padding-left:0px">

                                                        <input type="text" class=" form-control" id="txtVariablePromptDefault" placeholder="Enter Default Value" data-bind="autoNumeric:timeQuestionDefaultValue, settings:{mDec:2} , validationTooltip: timeQuestionDefaultValue">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @*<div class="tab-pane clearfix fade Empty-Tabs-Heights" id="tab-PlantCalculation">
                            <div class="col-lg-12 form-horizontal">
                                <h3 class="group-header">Plant Calculation</h3>
                                <div class="col-lg-7">*@
                                    @*Estimated Cost*@
                                    @*<div class="form-group">
                                    <div class="col-lg-3 text-right">
                                        <div class="bs-example-tooltips tooltip-float-width">
                                            <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Estimated Cost." data-original-title="" title="">
                                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                            </a>
                                        </div>
                                        <label for="chkPlantEstimatedCost" class="control-label text-right tooltip-float">Edit</label>
                                    </div>
                                    <div class="col-lg-8">
                                        <div class="col-md-3">
                                            <div class="onoffswitch">
                                                <input type="checkbox" name="chkPlantEstimatedCost" class="onoffswitch-checkbox" id="chkPlantEstimatedCost" data-bind="checked: isEditPlantCost">
                                                <label class="onoffswitch-label" for="chkPlantEstimatedCost">
                                                    <div class="onoffswitch-inner"></div>
                                                    <div class="onoffswitch-switch"></div>
                                                </label>
                                            </div>
                                        </div>
                                        <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtEstimatePlantCost'">
                                            <!-- ko template: { name: 'OperatorButtonsTemplate'} -->
                                            <!-- /ko -->
                                        </div>


                                    </div>

                            </div>
                                <div class="form-group">
                                    <div class="col-lg-3">
                                        <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Generate string for estimated plant cost by dropping variables or type manually." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="chkPlantEstimatedCost" class="control-label text-right tooltip-float">Estimated Cost</label></div>
                                    <div class="col-md-9">
                                        <textarea class="form-control" id="txtEstimatePlantCost" rows="8" data-bind="value: strCostPlantUnParsed, click: $root.selectVariableString, enable: isEditPlantCost,  drop: $root.dropped"></textarea>

                                    </div>
                                </div>*@
                                    @*Quoted Charge*@
                                    @*<div class="form-group">
                                <div class="col-lg-3 text-right">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Would you like to edit formula string?" data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="chkPlantQuotedCharge" class="control-label text-right tooltip-float">Edit</label>
                                </div>
                                <div class="col-lg-8">
                                    <div class="col-md-3">
                                        <div class="onoffswitch">
                                            <input type="checkbox" name="chkPlantQuotedCharge" class="onoffswitch-checkbox" id="chkPlantQuotedCharge" data-bind="checked: isEditPlantQuote">
                                            <label class="onoffswitch-label" for="chkPlantQuotedCharge">
                                                <div class="onoffswitch-inner"></div>
                                                <div class="onoffswitch-switch"></div>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtEstimatePlantPrice'">
                                        <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                        <!-- /ko -->
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="If you want to have a different cost for your quote you can write a formula for quoting." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="txtEstimatePlantPrice" class="control-label text-right tooltip-float">Quoted Charge</label>
                                </div>
                                <div class="col-md-9">
                                    <textarea class="form-control" id="txtEstimatePlantPrice" rows="10" data-bind="value: strPricePlantUnParsed, click: $root.selectVariableString, enable: isEditPlantQuote, drop: $root.dropped"></textarea>

                                </div>
                            </div>*@
                                    @*Actual Cost*@
                                    @*<div class="form-group">
                                <div class="col-lg-3 text-right">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Actual Cost." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="chkPlantEstimatedCost" class="control-label text-right tooltip-float">Edit</label>
                                </div>
                                <div class="col-lg-8">
                                    <div class="col-md-3">
                                        <div class="onoffswitch">
                                            <input type="checkbox" name="chkPlantActualCost" class="onoffswitch-checkbox" id="chkPlantActualCost" data-bind="checked: isEditPlantActualCost">
                                            <label class="onoffswitch-label" for="chkPlantActualCost">
                                                <div class="onoffswitch-inner"></div>
                                                <div class="onoffswitch-switch"></div>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtPlantActualCost'">
                                        <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                        <!-- /ko -->
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Generate string for estimated plant cost by dropping variables or type manually." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="txtPlantActualCost" class="control-label text-right tooltip-float">Actual Cost</label>
                                </div>
                                <div class="col-md-9">
                                    <textarea class="form-control" id="txtPlantActualCost" rows="8" data-bind="value: strActualCostPlantUnParsed, click: $root.selectVariableString, enable: isEditPlantActualCost,  drop: $root.dropped"></textarea>

                                </div>
                            </div>*@
                                    @*</div>
                                    <div class="col-md-5">
                                        <div class="clearfix">
                                            <div style="padding-right: 5px;width:auto;padding-bottom:10px;max-height:700px;overflow-y:scroll;" id="nestable2">
                                                <ol class="dd-list">
                                                    <!-- ko template: { name: 'costCenterVariableTree' , foreach: $root.variablesTreePrent } -->
                                                    <!-- /ko -->
                                                </ol>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>*@
                                    @*<div class="tab-pane clearfix fade" id="tab-StockCalculation">
                            <div class="col-lg-12 form-horizontal">
                                <h3 class="group-header">Stock Calculation</h3>
                                <div class="col-lg-7">*@
                                    @*Estimated Cost*@
                                    @*<div class="form-group">
                                <div class="col-lg-3 text-right">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Estimated Cost." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="chkPlantEstimatedCost" class="control-label text-right tooltip-float">Edit</label>
                                </div>
                                <div class="col-lg-8">
                                    <div class="col-md-3">
                                        <div class="onoffswitch">
                                            <input type="checkbox" name="chkStockEstimatedCost" class="onoffswitch-checkbox" id="chkStockEstimatedCost" data-bind="checked: isEditStockCost">
                                            <label class="onoffswitch-label" for="chkStockEstimatedCost">
                                                <div class="onoffswitch-inner"></div>
                                                <div class="onoffswitch-switch"></div>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtEstimateStockCost'">
                                        <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                        <!-- /ko -->
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Generate string for estimated plant cost by dropping variables or type manually." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="txtEstimateStockCost" class="control-label text-right tooltip-float">Estimated Cost</label>
                                </div>
                                <div class="col-md-9">
                                    <textarea class="form-control" id="txtEstimateStockCost" rows="8" data-bind="value: strCostMaterialUnParsed, click: $root.selectVariableString, enable: isEditStockCost,  drop: $root.dropped"></textarea>

                                </div>
                            </div>*@
                                    @*Quoted Charge*@
                                    @*<div class="form-group">
                                <div class="col-lg-3 text-right">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Would you like to edit formula string?" data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="chkStockQuotedCharge" class="control-label text-right tooltip-float">Edit</label>
                                </div>
                                <div class="col-lg-8">
                                    <div class="col-md-3">
                                        <div class="onoffswitch">
                                            <input type="checkbox" name="chkStockQuotedCharge" class="onoffswitch-checkbox" id="chkStockQuotedCharge" data-bind="checked: isEditStockQuote">
                                            <label class="onoffswitch-label" for="chkStockQuotedCharge">
                                                <div class="onoffswitch-inner"></div>
                                                <div class="onoffswitch-switch"></div>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtQuoteStockCost'">
                                        <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                        <!-- /ko -->
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Write a quoted charge by adding markups to your formula and using materials price instead of cost." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="txtQuoteStockCost" class="control-label text-right tooltip-float">Quoted Charge</label>
                                </div>
                                <div class="col-md-9">
                                    <textarea class="form-control" id="txtQuoteStockCost" rows="10" data-bind="value: strPriceMaterialUnParsed, click: $root.selectVariableString, enable: isEditStockQuote,  drop: $root.dropped"></textarea>

                                </div>
                            </div>*@
                                    @*Actual Cost*@
                                    @*<div class="form-group">
                                <div class="col-lg-3 text-right">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Actual Cost." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="chkPlantEstimatedCost" class="control-label text-right tooltip-float">Edit</label>
                                </div>
                                <div class="col-lg-8">
                                    <div class="col-md-3">
                                        <div class="onoffswitch">
                                            <input type="checkbox" name="chkStockActualCost" class="onoffswitch-checkbox" id="chkStockActualCost" data-bind="checked: isEditStockActualCost">
                                            <label class="onoffswitch-label" for="chkStockActualCost">
                                                <div class="onoffswitch-inner"></div>
                                                <div class="onoffswitch-switch"></div>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtStockActualCost'">
                                        <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                        <!-- /ko -->
                                    </div>
                                </div>

                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">
                                    <div class="bs-example-tooltips tooltip-float-width">
                                        <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Generate string for estimated plant cost by dropping variables or type manually." data-original-title="" title="">
                                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                        </a>
                                    </div>
                                    <label for="txtStockActualCost" class="control-label text-right tooltip-float">Actual Cost</label>
                                </div>
                                <div class="col-md-9">
                                    <textarea class="form-control" id="txtStockActualCost" rows="8" data-bind="value: strActualCostMaterialUnParsed, click: $root.selectVariableString, enable: isEditStockActualCost,  drop: $root.dropped"></textarea>

                                </div>
                            </div>*@
                                    @*</div>
                                    <div class="col-md-5">
                                        <div class="clearfix">
                                            <div style="padding-right: 5px;width:auto;padding-bottom:10px;max-height:700px;overflow-y:scroll;" id="nestable2">
                                                <ol class="dd-list">
                                                    <!-- ko template: { name: 'costCenterVariableTree' , foreach: $root.variablesTreePrent } -->
                                                    <!-- /ko -->
                                                </ol>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>*@
                                    <div class="tab-pane clearfix fade" id="tab-LabourCalculation">
                                        <div class="col-lg-12 form-horizontal">
                                            <h3 class="group-header">Create Formula String to work out Cost Center Charge</h3>
                                            <div class="col-lg-7">
                                                @*Estimated Cost*@
                                                @*<div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Estimated Cost." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="chkLabourEstimatedCost" class="control-label text-right tooltip-float">Edit</label>
                                            </div>
                                            <div class="col-lg-8">
                                                <div class="col-md-3">
                                                    <div class="onoffswitch">
                                                        <input type="checkbox" name="chkLabourEstimatedCost" class="onoffswitch-checkbox" id="chkLabourEstimatedCost" data-bind="checked: isEditLabourCost">
                                                        <label class="onoffswitch-label" for="chkLabourEstimatedCost">
                                                            <div class="onoffswitch-inner"></div>
                                                            <div class="onoffswitch-switch"></div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtEstimateLabourCost'">
                                                    <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                                    <!-- /ko -->
                                                </div>
                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Generate string for estimated plant cost by dropping variables or type manually." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtEstimateLabourCost" class="control-label text-right tooltip-float">Estimated Cost</label>
                                            </div>
                                            <div class="col-md-9">
                                                <textarea class="form-control" id="txtEstimateLabourCost" rows="8" data-bind="value: strCostLabourUnParsed, click: $root.selectVariableString, enable: isEditLabourCost,  drop: $root.dropped"></textarea>

                                            </div>
                                        </div>*@
                                                @*Quoted Charge*@
                                                <div class="form-group">
                                                    <div class="col-lg-5 text-right">
                                                        @*<div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Would you like to edit formula string?" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>*@
                                                        <label for="chkLabourQuotedCharge" class="control-label text-right tooltip-float">Edit Formula String</label>
                                                    </div>
                                                    <div class="col-lg-7">
                                                        <div class="col-md-3">
                                                            <div class="onoffswitch">
                                                                <input type="checkbox" name="chkLabourQuotedCharge" class="onoffswitch-checkbox" id="chkLabourQuotedCharge" data-bind="checked: isEditLabourQuote">
                                                                <label class="onoffswitch-label" for="chkLabourQuotedCharge">
                                                                    <div class="onoffswitch-inner"></div>
                                                                    <div class="onoffswitch-switch"></div>
                                                                </label>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="form-group" style="margin-bottom: 7px !important;">
                                                    <div class="col-lg-6" style="float: left;padding-left: 10px;">
                                                        <div class="bs-example-tooltips tooltip-float-width ">
                                                        </div>
                                                        <label for="txtQuotedLabourCost" style="float: left;" class="control-label tooltip-float">Cost Center Charge  </label>
                                                    </div>
                                                    <div style="float:right;" class="col-lg-6" data-bind="visible: isEditLabourQuote() && $root.selectedVariableString() === 'txtQuotedLabourCost'">
                                                        <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                                        <!-- /ko -->

                                                    </div>

                                                </div>
                                                <div class="form-group">
                                                    <div class="col-lg-1"> </div>
                                                    <div class="col-md-12">

                                                        <textarea class="form-control" id="txtQuotedLabourCost" rows="10" data-bind="value: strPriceLabourUnParsed, click: $root.selectVariableString, enable: isEditLabourQuote,  drop: $root.dropped"></textarea>
                                                        <span class="help-block text-left" data-bind="visible: $root.selectedVariableString() === 'txtQuotedLabourCost'"> Click an operator symbol to insert in Formula String on cursor position.</span>
                                                    </div>
                                                </div>
                                                @*<div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Actual Cost." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="chkLabourActualCost" class="control-label text-right tooltip-float">Edit</label>
                                            </div>
                                            <div class="col-lg-8">
                                                <div class="col-md-3">
                                                    <div class="onoffswitch">
                                                        <input type="checkbox" name="chkLabourActualCost" class="onoffswitch-checkbox" id="chkLabourActualCost" data-bind="checked: isEditLabourActualCost">
                                                        <label class="onoffswitch-label" for="chkLabourActualCost">
                                                            <div class="onoffswitch-inner"></div>
                                                            <div class="onoffswitch-switch"></div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtLabourActualCost'">
                                                    <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                                    <!-- /ko -->
                                                </div>
                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Generate string for estimated plant cost by dropping variables or type manually." data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtLabourActualCost" class="control-label text-right tooltip-float">Actual Cost</label>
                                            </div>
                                            <div class="col-md-9">
                                                <textarea class="form-control" id="txtLabourActualCost" rows="8" data-bind="value: strActualCostLabourUnParsed, click: $root.selectVariableString, enable: isEditLabourActualCost,  drop: $root.dropped"></textarea>

                                            </div>
                                        </div>*@
                                            </div>
                                            <div class="col-md-5">
                                                <div style="margin-top:20px;"></div>
                                                <div class="clearfix">
                                                    Drag variables inside the Charge String (formula).<br />
                                                    Click on nodes to expand list.<br />
                                                    Double click on Questions to edit what will be Prompted as run time.

                                                    <div style="padding-right: 5px;width:auto;padding-bottom:10px;max-height:700px;overflow-y:scroll;" id="nestable2">
                                                        <ol class="dd-list">
                                                            <li class="dd-item dd-item-list">
                                                                <div class="dd-handle-list" data-bind="click: $root.getQuestionsVariableTreeChildItems"><i id="idQuestionsVariable" class="fa fa-chevron-circle-right drop-icon"></i></div>
                                                                <div class="dd-handle togglelink open">
                                                                    <span style="cursor: not-allowed;">Questions</span>
                                                                    <a href="#" class="nested-link" style="float: right; font-size: 16px;" title="Add Question" data-bind="click:$root.addQuestionVariable"><i class="fa fa-plus"></i></a>
                                                                </div>
                                                                <ol data-bind="visible:$root.showQuestionVariableChildList">
                                                                    <!-- ko template: { name: 'QuestionVariableTemplate' , foreach: $root.questionVariableNodes } -->
                                                                    <!-- /ko -->
                                                                </ol>
                                                            </li>
                                                            <li class="dd-item dd-item-list">
                                                                <div class="dd-handle-list" data-bind="click: $root.getMatricesVariableTreeChildItems"><i id="idMatricesVariable" class="fa fa-chevron-circle-right drop-icon"></i></div>
                                                                <div class="dd-handle">
                                                                    <span style="cursor: not-allowed;">Matrices</span>
                                                                </div>
                                                                <ol data-bind="visible:$root.showMatricesVariableChildList">
                                                                    <!-- ko template: { name: 'MatricesVariableTemplate' , foreach: $root.matrixVariableNodes } -->
                                                                    <!-- /ko -->
                                                                </ol>
                                                            </li>
                                                            <li class="dd-item dd-item-list">
                                                                <div class="dd-handle-list" data-bind="click: $root.openStockItemDialog"><i class="fa fa-minus-square drop-icon"></i></div>
                                                                <div class="dd-handle">
                                                                    <span style="cursor: not-allowed;">Stock Items</span>
                                                                </div>
                                                            </li>
                                                            <!-- ko template: { name: 'costCenterVariableTree' , foreach: $root.variablesTreePrent } -->
                                                            <!-- /ko -->
                                                            <li class="dd-item dd-item-list">
                                                                <div class="dd-handle-list" data-bind="click: $root.getZonesVariableTreeChildItems"><i id="idZonesVariable" class="fa fa-chevron-circle-right drop-icon"></i></div>
                                                                <div class="dd-handle togglelink open">
                                                                    <span style="cursor: not-allowed;">Click Charge Zones</span>
                                                                    <a href="#" class="nested-link" style="float: right; font-size: 16px;" title="Add Click Charge Zone" data-bind="click:$root.addClickChargeZone"><i class="fa fa-plus"></i></a>
                                                                </div>
                                                                <ol data-bind="visible:$root.showZoneVariableChildList">
                                                                    <!-- ko template: { name: 'ZoneVariableTemplate' , foreach: $root.zoneVariableNodes } -->
                                                                    <!-- /ko -->
                                                                </ol>
                                                            </li>
                                                        </ol>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    @*<div class="tab-pane clearfix fade Empty-Tabs-Heights" id="tab-TimeCalculation">
                                <div class="col-lg-12 form-horizontal">
                                    <h3 class="group-header">Time Calculation</h3>
                                    <div class="col-lg-7">

                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Would you like to edit formula string?" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="chkTimeCost" class="control-label text-right tooltip-float">Edit</label>
                                            </div>
                                            <div class="col-lg-8">
                                                <div class="col-md-3">
                                                    <div class="onoffswitch">
                                                        <input type="checkbox" name="chkTimeCost" class="onoffswitch-checkbox" id="chkTimeCost" data-bind="checked: isEditTime">
                                                        <label class="onoffswitch-label" for="chkTimeCost">
                                                            <div class="onoffswitch-inner"></div>
                                                            <div class="onoffswitch-switch"></div>
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-9" data-bind="visible: $root.selectedVariableString() === 'txtEstimateTimeCost'">
                                                    <!-- ko template: { name: 'OperatorButtonsTemplate' } -->
                                                    <!-- /ko -->
                                                </div>
                                            </div>

                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-3">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Create a formula to calculate how long jobs will take to run on this cost center. Example: Folding(quantity + spoilage / speed table) - (number of folds - 1 * 10%)" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtLabourActualCost" class="control-label text-right tooltip-float">Estimated Cost</label>
                                            </div>
                                            <div class="col-md-9">
                                                <textarea class="form-control" id="txtEstimateTimeCost" rows="10" data-bind="value: strTimeUnParsed, click: $root.selectVariableString, enable: isEditTime,  drop: $root.dropped"></textarea>

                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-md-5">
                                        <div class="clearfix">
                                            <div style="padding-right: 5px;width:auto;padding-bottom:10px;max-height:700px;overflow-y:scroll;" id="nestable2">
                                                <ol class="dd-list">
                                                    <!-- ko template: { name: 'costCenterVariableTree' , foreach: $root.variablesTreePrent } -->
                                                    <!-- /ko -->
                                                </ol>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>*@
                                    <div class="tab-pane clearfix fade Empty-Tabs-Heights" id="tab-WorkInstruction">
                                        <div class="col-lg-12 form-horizontal">

                                            <div class="form-horizontal">
                                                <div class="filter-block pull-right">
                                                    <a href="#" class="btn btn-primary pull-right" data-bind="click: $root.createWorkInstruction">
                                                        Add Instruction
                                                    </a>
                                                </div>
                                                <div class="clearfix">
                                                    <div class="table-responsive">
                                                        <table id="costTablle" class="table table-striped table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th> <span>Instructions</span></th>
                                                                    <th>&nbsp;</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <!-- ko template: { name: 'WorkInstructionTemplate' , foreach: $root.selectedCostCenter().costCenterInstructions} -->
                                                                <!-- /ko -->
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                                <br />
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                @Html.Partial("_ClickChargeZoneDialog")
            </div>
        </form>
    </div>
</div>
<script id="costCenterVariableTree" type="text/html">
    <li class="dd-item dd-item-list" data-bind="attr: {id: Id}">

        <div class="dd-handle-list" data-bind="click: $root.getVariableTreeChildListItems"><i id="idVariablesByType" class="fa fa-chevron-circle-right drop-icon"></i></div>
        <div class="dd-handle togglelink">
            <span style="cursor: not-allowed;" data-bind="text: Text"></span>
        </div>


    </li>

</script>
<script id="WorkInstructionTemplate" type="text/html">
    <tr>
        <td style="width: 75%">
            <input class="form-control" style="padding-right: 0px;padding-left: 5px;" placeholder="Type the Question that will be prompted to the user" data-bind="value: instruction, validationTooltip: instruction" />
           <br />
            <table id="costTablle" class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th style="width: 75%;vertical-align: middle;"> <span>Answers</span></th>
                        <th style="width: 10%;vertical-align: middle;">
                            
                            <a href="#" class="btn btn-primary pull-right" data-bind="click: $root.createWorkInstructionChoice">
                                Add Answers
                            </a>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <!-- ko template: { name: 'InstructionChoiceTemplate' , foreach:workInstructionChoices} -->
                    <!-- /ko -->
                </tbody>
            </table>
        </td>
        <td style="width: 25%; vertical-align:top">
            <!-- ko template: { name: 'InstructionEditTemplate' } -->
            <!-- /ko -->
        </td>
    </tr>
</script>
<script id="InstructionEditTemplate" type="text/html">
    <div class="row">
        <a href="#" class="table-link danger" title="Delete Instruction" data-bind="click: $root.deleteWorkInstruction">
            <span class="fa-stack">
                <i class="fa fa-square fa-stack-2x"></i>
                <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
            </span>
        </a>
        
    </div>

</script>
<script id="InstructionChoiceTemplate" type="text/html">
    <tr>
        <td>
           <input class="form-control" style="padding-right: 0px;padding-left: 10px;" placeholder="Add An Answer" data-bind="value: choice, validationTooltip: choice" />
        </td>
        <td style="width: 25%">
            <a href="#" class="table-link danger" title="Delete Choice" data-bind="click: $root.deleteWorkInstructionChoice">
                <span class="fa-stack">
                    <i class="fa fa-square fa-stack-2x"></i>
                    <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </td>
    </tr>
</script>
<script id="itemResourcesTemplate" type="text/html">
    <tr>
        <td data-bind="text: UserName"></td>
        <td>
            <div class="form-group">
                <div class="checkbox-nice text-center">
                    <input type="checkbox" data-bind="checked: isSelected, attr: { id: SystemUserId}">
                    <label data-bind="attr: { for: SystemUserId}">
                    </label>
                </div>
            </div>
        </td>

    </tr>
</script>
<script  id="OperatorButtonsTemplate" type="text/html">
    <div class="col-md-1 iconplus iconFormulaCost" data-bind="click:$root.iconClick" id="icoAdd"></div>
    <div class="col-md-1 iconsubtract iconFormulaCost" data-bind="click:$root.iconClick" id="icoSub"></div>
    <div class="col-md-1 iconmultiply iconFormulaCost" data-bind="click:$root.iconClick" id="icoMul"></div>
    <div class="col-md-1 icondivide iconFormulaCost" data-bind="click:$root.iconClick" id="icoDiv"></div>

    <div class="col-md-1 iconif iconFormulaCost" data-bind="click:$root.iconClick" id="icoIf"></div>
    <div style="width: 63px;" class="col-md-1 iconifelse iconFormulaCost" data-bind="click:$root.iconClick" id="icoIfEl"></div>
    <div style="width: 42px;" class="col-md-1 iconmode iconFormulaCost" data-bind="click:$root.iconClick" id="icoMod"></div>
    <div class="col-md-1 iconpercent iconFormulaCost" data-bind="click:$root.iconClick" id="icoPer"></div>
    <div class="col-md-1 iconstartbrace iconFormulaCost" data-bind="click:$root.iconClick" id="icoBrace1"></div>
    <div class="col-md-1 iconendbrace iconFormulaCost" data-bind="click:$root.iconClick" id="icoBrace2"></div>
</script>

<script id="QuestionVariableTemplate" type="text/html">
    <ol class="dd-list">
        <li class="dd-item dd-item-list">
            <div class="dd-handle-list"> <i class="fa fa-minus-square"> </i> </div>
            <div class="dd-handle AddEditQuestion" style="cursor: move;z-index: 1000">
                <span data-bind="text:QuestionString,drag: $root.draggedVariableString, click: $root.OnEditQuestionVariable, attr: {id: Id}">
                </span>
                @*<div class="nested-links">
            </div>*@
            </div>
        </li>
    </ol>
</script>

<script id="MatricesVariableTemplate" type="text/html">
    <ol class="dd-list">
        <li class="dd-item dd-item-list">
            <div class="dd-handle-list">
                <i class="fa fa-minus-square"> </i>
            </div>
            <div class="dd-handle">
                <span style="cursor: move;z-index: 1000" class="AddEditMatrix" data-bind="text:Name,drag: $root.draggedVariableString, click: $root.OnEditMatrixVariable, attr: {id: MatrixId}">
                </span>
                <div class="nested-links">
                </div>
            </div>
        </li>
    </ol>
</script>
<script id="ZoneVariableTemplate" type="text/html">
    <ol class="dd-list">
        <li class="dd-item dd-item-list">
            <div class="dd-handle-list"> <i class="fa fa-minus-square"> </i> </div>
            <div class="dd-handle addEditClickChargeZone" style="cursor: move;z-index: 1000">
                <span data-bind="text:ZoneName,drag: $root.draggedVariableString, click: $root.OnEditClickChargeZone, attr: {id: Id}">
                </span>
                
            </div>           
        </li>
    </ol>
</script>
<ul id="contextMenu" class="dropdown-menu" role="menu" style="display:none">
    <li><a tabindex="-1" data-bind="click:$root.addQuestionVariable">Add</a></li>
    <li><a tabindex="-1" data-bind="click:$root.OnEditQuestionVariable">Edit</a></li>
    <li><a tabindex="-1" data-bind="click:$root.DeleteQuestionVariable">Delete</a></li>

</ul>
<ul id="contextMenuMatrix" class="dropdown-menu" role="menu" style="display:none">
    <li><a tabindex="-1" data-bind="click:$root.addMatrixVariable">Add</a></li>
    <li><a tabindex="-1" data-bind="click:$root.OnEditMatrixVariable">Edit</a></li>
    <li><a tabindex="-1" data-bind="click:$root.DeleteMatrixVariable">Delete</a></li>

</ul>
<ul id="contextMenuZone" class="dropdown-menu" role="menu" style="display:none">
    <li><a tabindex="-1" data-bind="click:$root.addClickChargeZone">Add</a></li>
    <li><a tabindex="-1" data-bind="click:$root.editZoneByContextMenu">Edit</a></li>
    <li><a tabindex="-1" data-bind="click:$root.onDeleteClickChargeZone">Delete</a></li>

</ul>

<script src="http://mpc/Scripts/jquery.min.js"></script>

<script type="text/javascript">
    $(document).ready(function () {
        debugger;
        (function ($, window) {
            $.fn.contextMenu = function (settings) {

                return this.each(function () {
                    debugger;
                    // Open context menu
                    $(this).on("contextmenu", function (e) {
                        // return native menu if pressing control
                        if (e.ctrlKey) return;

                        //open menu
                        $(settings.menuSelector)
                            .data("invokedOn", $(e.target.childNodes[1]))
                            .show()
                            .css({
                                position: "absolute",
                                left: getLeftLocation(e) - 300,
                                top: getTopLocation(e) - 40
                            })
                            .off('click')
                            .on('click', function (e) {
                                $(this).hide();

                                //    var $invokedOn = $(this).data("invokedOn");
                                //     var $selectedMenu = $(e.target);

                                //  settings.menuSelected.call(this, $invokedOn, $selectedMenu);
                            });

                        return false;
                    });
                    
                    //make sure menu closes on any click
                    $(document).click(function () {
                        $(settings.menuSelector).hide();
                    });
                });

                function getLeftLocation(e) {
                    var mouseWidth = e.pageX;
                    var pageWidth = $(window).width();
                    var menuWidth = $(settings.menuSelector).width();

                    // opening menu would pass the side of the page
                    if (mouseWidth + menuWidth > pageWidth &&
                        menuWidth < mouseWidth) {
                        return mouseWidth - menuWidth;
                    }
                    return mouseWidth;
                }

                function getTopLocation(e) {
                    var mouseHeight = e.pageY;
                    var pageHeight = $(window).height();
                    var menuHeight = $(settings.menuSelector).height();

                    // opening menu would pass the bottom of the page
                    if (mouseHeight + menuHeight > pageHeight &&
                        menuHeight < mouseHeight) {
                        return mouseHeight - menuHeight;
                    }
                    return mouseHeight;
                }

            };
        })(jQuery, window);


    });

</script>