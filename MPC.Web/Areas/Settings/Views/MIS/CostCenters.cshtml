@{
    ViewBag.Title = "Cost Centers";
}
@section leftmenue {

}
<div class="row" id="CostCentersBinding">
    <div class="col-lg-12" data-bind="visible: !isEditorVisible()">
        <div class="row">
            <div class="col-lg-12">
                <ol class="breadcrumb">
                    <li><a href="~/Dashboard/Index">Home</a></li>
                    <li><span>Settings</span></li>
                    <li class="active"><span>Cost Centers</span></li>
                </ol>
                <div class="clearfix">
                    <h1 class="pull-left">Cost Centers</h1>
                    <div class="pull-right top-page-ui">
                        <a class="btn btn-primary" data-bind="click:createCostCenter">
                            <i class="fa fa-plus-circle fa-lg"></i>&nbsp;Add Cost Center
                        </a>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="main-box no-header clearfix">
                        <div class="main-box-body clearfix">
                            <div class="table-responsive">
                                <table class="table user-list">
                                    <thead>
                                        <tr id="ccList" class="span12">
                                            <th class="col-lg-3"><span>Name</span></th>
                                            <th class="col-lg-4"><span>Description</span></th>
                                            <th class="col-lg-2"><span>Type</span></th>
                                            <th class="col-lg-1"><span>Calculation</span></th>
                                            <th class="col-lg-2">&nbsp;</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- ko template: { name: 'itemCostCenterTemplate' , foreach: $root.costCentersList } -->
                                        <!-- /ko -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div id="pagerDiv">
                        <!-- ko with: pager -->
                        @Html.Partial("~/Areas/Common/Views/Shared/_Pager.cshtml")
                        <!-- /ko -->
                    </div>
                </div>
            </div>
        </div>
        <script id="actionsTemplate" type="text/html">
            <a href="#" class="table-link danger" data-bind="click : $root.onDeleteCostCenter" style="float: right">
                <span class="fa-stack ">
                    <i class="fa fa-square fa-stack-2x"></i>
                    <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                </span>
            </a>
            <a class="table-link" data-bind="click : $root.onEditItem" style="float: right">
                <span class="fa-stack">
                    <i class="fa fa-square fa-stack-2x "></i>
                    <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </script>
        <script id="itemCostCenterTemplate" type="text/html">
            <tr data-bind="click: $root.selectItem, css: { selectedRow: $data === $root.selectedCostCenter}">
                <td>
                    <a href="#" data-bind="text: name,click : $root.onEditItem"></a>
                </td>
                <td data-bind="text: description"></td>
                <td data-bind="text: type"></td>
                <td>
                    <!-- ko if: calculationMethodType() == 1 -->
                    <span class="label label-success">Fixed</span>
                    <!-- /ko -->
                    <!-- ko if: calculationMethodType() == 2 -->
                    <span class="label label-default">Per Hour</span>
                    <!-- /ko -->
                    <!-- ko if: calculationMethodType() == 3 -->
                    <span class="label label-default">Quantity Base</span>
                    <!-- /ko -->
                    <!-- ko if: calculationMethodType() == 4 -->
                    <span class="label label-danger">Formula Base</span>
                    <!-- /ko -->
                    </td>

                <td id="actionColumn">
                    @*<!-- ko template: { name: "actionsTemplate",templateEngine: new ko.nativeTemplateEngine() } -->
                    <!-- /ko -->*@
                </td>
            </tr>
        </script>
        @* Filter Template *@
        <script id="filterTemplate" type="text/html">
            <div class="filter-body">
                <div class="filter-block pull-left">
                    <div class="pull-left spanfilterlbl">
                        Search &nbsp;
                    </div>
                    <div class="form-group pull-left">
                        <input type="text" class="form-control" placeholder="Search..." data-bind="value: $root.searchFilter">
                        <i class="fa fa-search search-icon"></i>
                    </div>

                    <div class="pull-right">
                        <button type="submit" class="btn btn-primary" data-bind="click:$root.getCostCenters">Search</button>
                        <button type="reset" class="btn btn-default" data-bind="click:$root.resetFilterSection">Reset</button>
                    </div>
                </div>
                <div class="clearfix">
                </div>
            </div>
        </script>
    </div>
    @Html.Partial("~/Areas/Settings/Views/MIS/CostCenterDetail.cshtml")

</div>
<!-- ko stopBinding: true -->
@Html.Partial("~/Areas/Common/Views/Shared/_ConfirmationDialog.cshtml")
<!-- /ko -->
@section Scripts{
    <script src="~/Scripts/jquery.form.js"></script>
    <script>
        require(["costcenter/costcenter.view", "common/confirmation.view"]);
        var CostCenterType = 0;
        $(function () {
            $('#lisettings').addClass('active');
            $('#limissettings').addClass('active');
            $('#liCostCenters').addClass('active');
        });

    </script>
}
