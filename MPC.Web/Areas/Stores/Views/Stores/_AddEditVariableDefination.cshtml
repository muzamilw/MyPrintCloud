
<div class="modal fade my-modal" id="veriableDefinationModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div style="width: 838px;" class="modal-dialog" data-bind="with:$root.selectedFieldVariable">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Add/Edit Variable</h4>
            </div>
            <div class="row">
                <div class="col-lg-12 form-horizontal outerDiv-Padding">
                    <div class="form-group">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Internal name of variable" data-original-title="" title="">
                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                </a>
                            </div>
                            <label for="name" class="control-label text-right tooltip-float">Variable Name</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="text" class="form-control" id="name" data-bind="enable:!isSystem(),value:variableName,validationTooltip:variableName">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Title of variable/field which is displayed in Smart form as Label" data-original-title="" title="">
                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                </a>
                            </div>
                            <label for="title" class="control-label text-right tooltip-float">Title</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="text" class="form-control" id="title" data-bind="enable:!isSystem(),value:variableTitle,validationTooltip:variableTitle">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Watermark text which is displayed when the variable/field is empty in smartform " data-original-title="" title="">
                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                </a>
                            </div>
                            <label for="waterMark" class="control-label text-right tooltip-float">Watermark Value</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="text" class="form-control" id="waterMark" data-bind="enable:!isSystem(),value:waterMark">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Variable placeholder tag which is used to drop/insert this variable inside a Template text Objects,which then resolves into the actual value entered by user or it's default value." data-original-title="" title="">
                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                </a>
                            </div>
                            <label for="vTag" class="control-label text-right tooltip-float">Variable Tag</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="text" class="form-control" id="vTag" data-bind="enable:!isSystem(),value:variableTag,validationTooltip:variableTag">
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="What level this variable is attached, Contact profile, Store profile, Address or a Territory." data-original-title="" title="">
                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                </a>
                            </div>
                            <label for="vTag" class="control-label text-right tooltip-float">Context</label>
                        </div>
                        <div class="col-lg-6">
                            <!--ko if: !isSystem()-->
                            <select class="form-control" id="vTag" data-bind="enable:!isSystem(),options: $root.contextTypes, optionsText: 'name', optionsValue: 'id', value:scope"></select>
                            <!-- /ko -->
                            <!--ko if: isSystem()-->
                            <select class="form-control" id="vTag" data-bind="enable:!isSystem(),options: $root.systemVariableContextTypes, optionsText: 'name', optionsValue: 'id', value:scope"></select>
                            <!-- /ko -->
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Type of the input field this variable appears in smartform for user input." data-original-title="" title="">
                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                </a>
                            </div>
                            <label for="vType" class="control-label text-right tooltip-float">Type</label>
                        </div>
                        <div class="col-lg-6">
                            <select class="form-control" id="vType" data-bind="enable:!isSystem(),options: $root.varibaleTypes, optionsText: 'name', optionsValue: 'id',value:variableType"></select>
                        </div>
                    </div>
                    <div class="form-group" data-bind="visible:variableType()=== 1">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                </a>
                            </div>
                            <label for="vTag" class="control-label text-right tooltip-float">Dropdown Options</label>
                        </div>
                        <div class="col-lg-3">
                            <a class="btn btn-primary pull-left" data-bind="enable:!isSystem(),click:$root.onAddFieldOption">
                                Add Option
                            </a>
                        </div>
                    </div>
                    <div class="form-group" data-bind="visible:variableType()=== 1">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                    @*<span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>*@
                                </a>
                            </div>
                            <label for="vTag" class="control-label text-right tooltip-float"></label>
                        </div>
                        <div class="col-lg-6" data-bind="visible:variableOptions().length > 0">
                            <div class="inlineGrid" style="border: 1px solid silver">
                                <div class="table-responsive">
                                    <table id="variableOptionTablle" class="table table-striped table-hover">
                                        <thead>
                                            @*<tr>
                                        <th>&nbsp;</th>
                                        <th>&nbsp;</th>
                                    </tr>*@
                                        </thead>
                                        <tbody>
                                            <!-- ko template: { name: $root.templateToUseForVariableOption , foreach: variableOptions } -->
                                            <!-- /ko -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group" data-bind="visible:variableType()===1">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                @*  <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-content="Select Default Value" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                        </a>*@
                            </div>
                            <label for="vTag" class="control-label text-right tooltip-float">Default Value</label>
                        </div>
                        <div class="col-lg-6">
                            <select class="form-control" id="vTag" data-bind="enable:!isSystem(),options: variableOptions, optionsText: 'value', optionsValue: 'value', value:defaultValue"></select>
                        </div>
                    </div>
                    <div class="form-group" data-bind="visible:variableType()===2">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                @*<a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-content="Select
                            " data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                            <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                        </a>*@
                            </div>
                            <label for="vTag" class="control-label text-right tooltip-float">Default Value</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="text" class="form-control" id="vTag" data-bind="enable:!isSystem(),value:defaultValueForInput">
                        </div>
                    </div>
                    <div class="form-group" data-bind="visible:variableType()===2">
                        <div class="col-lg-3 text-right">
                            <div class="bs-example-tooltips tooltip-float-width">

                                <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-html="true" data-content="a  Represents an alpha character (A-Z,a-z)
                                <br />9  Represents a numeric character (0-9) <br />*  Represents an alphanumeric character (A-Z,a-z,0-9) <br />? Any mask filter placed after this symbol is not mandatory input <br />Any other symbol than the above will form part of the input string <br /><br />Examples <br />[Phone] (999) 999-9999    valid input could be (123) 456-7890 <br />[Phone + Extension] (999) 999-9999? x99999   valid input could be (123) 456-7890 x234 <br />[Date] 99/99/9999    valid input could be 12/04/2015 <br />[Tax ID]  99-9999999   valid input could be 87-1234567<br />[Product ID]  a*-999-a999  valid input could be sD-123-f123<br />" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                            </a>
                            </div>
                            <label for="mask" class="control-label text-right tooltip-float">Input Mask</label>
                        </div>
                        <div class="col-lg-6">
                            <input type="text" class="form-control" id="mask" data-bind="enable:!isSystem(),value:inputMask" placeholder="xxx-xxxxx-xxxxx">
                        </div>
                    </div>
                    <div data-bind="with:variableExtension">
                        <div class="form-group">
                            <div class="col-lg-3 text-right">
                                <div class="bs-example-tooltips tooltip-float-width">

                                    <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Prefix" data-original-title="" title="">
                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                    </a>
                                </div>
                                <label for="prefix" class="control-label text-right tooltip-float">Prefix</label>
                            </div>
                            <div class="col-lg-6">
                                <input type="text" class="form-control" id="prefix" data-bind="value:prefix">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-3 text-right">
                                <div class="bs-example-tooltips tooltip-float-width">

                                    <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Postfix" data-original-title="" title="">
                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                    </a>
                                </div>
                                <label for="postFix" class="control-label text-right tooltip-float">Postfix</label>
                            </div>
                            <div class="col-lg-6">
                                <input type="text" class="form-control" id="postFix" data-bind="value:postfix">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-3 text-right">
                                <div class="bs-example-tooltips tooltip-float-width">

                                    <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Collapse Prefix" data-original-title="" title="">
                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                    </a>
                                </div>
                                <label for="cpostFix" class="control-label text-right tooltip-float">Collapse Prefix</label>
                            </div>
                            <div class="col-lg-6">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="switchCPrefix" data-bind="checked:collapsePrefix">
                                    <label class="onoffswitch-label" for="switchCPrefix">
                                        <div class="onoffswitch-inner"></div>
                                        <div class="onoffswitch-switch"></div>
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-3 text-right">
                                <div class="bs-example-tooltips tooltip-float-width">

                                    <a class="input-group-addon" tabindex="-1" href="#" data-bind="click: function(){}" data-trigger="focus" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Collapse Prefix" data-original-title="" title="">
                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                    </a>
                                </div>
                                <label for="cpostFix" class="control-label text-right tooltip-float">Collapse Postfix</label>
                            </div>
                            <div class="col-lg-6">
                                <div class="onoffswitch">
                                    <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="switchCPostfix" data-bind="checked:collapsePostfix">
                                    <label class="onoffswitch-label" for="switchCPostfix">
                                        <div class="onoffswitch-inner"></div>
                                        <div class="onoffswitch-switch"></div>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
           
            <div class="modal-footer" style="padding-right:0;padding-left:0;">
                <div style="padding-left:8px;padding-right:8px;">
                    <button type="button" class="btn btn-danger pull-left" data-bind="enable:id()!== undefined,visible:!isSystem() ,click:$root.onRemoveFieldVariable">Delete</button>
                    <button type="button" class="btn btn-primary" data-bind="click:$root.onSaveFieldVariable, css: { 'btn-warning': hasChanges() }, enable: hasChanges()">Save</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left: 0px;">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script id="editVariableOptionTemplate" type="text/html">
    <tr>
        <td style="width:80%">
            <input class="form-control" data-bind="enable:!$root.selectedFieldVariable().isSystem(),value: value, validationTooltip:value" />
        </td>
        <td>
            <a href="#" class="table-link" data-bind="visible:!$root.selectedFieldVariable().isSystem(),click: $root.onEditVariableOption" title="Edit">
                <span class="fa-stack">
                    <i class="fa fa-square fa-stack-2x"></i>
                    <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                </span>
            </a>
            <a href="#" class="table-link danger" data-bind="visible:!$root.selectedFieldVariable().isSystem(),click: $root.onDeleteVariableOption" title="Delete">
                <span class="fa-stack">
                    <i class="fa fa-square fa-stack-2x"></i>
                    <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </td>
    </tr>
</script>
<script id="itemVariableOptionTemplate" type="text/html">
    <tr>
        <td data-bind="text: value" style="width:80%"></td>
        <td>
            <a href="#" class="table-link" data-bind="visible:!$root.selectedFieldVariable().isSystem(),click: $root.onEditVariableOption" title="Edit">
                <span class="fa-stack">
                    <i class="fa fa-square fa-stack-2x"></i>
                    <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                </span>
            </a>
            <a href="#" class="table-link danger" data-bind="visible:!$root.selectedFieldVariable().isSystem(),click: $root.onDeleteVariableOption" title="Delete">
                <span class="fa-stack">
                    <i class="fa fa-square fa-stack-2x"></i>
                    <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </td>
    </tr>
</script>
@* Wizard Popup ends here*@
