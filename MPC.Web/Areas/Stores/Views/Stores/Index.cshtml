@{
    ViewBag.Title = "Stores";
}
@section leftmenue {

}
<div class="row" id="storesBinding">
    <div class="col-lg-12" data-bind="visible: !$root.isEditorVisible()">
        <div class="row">
            <div class="col-lg-12">
                <ol class="breadcrumb">
                    <li><a href="~/Dashboard/Index">Home</a></li>
                    <li class="active"><span>Stores</span></li>
                </ol>
                <div class="clearfix">
                    <h1 class="pull-left">Stores</h1>
                    <div class="pull-right top-page-ui">
                        <a href="~/CRM/AddStore" class="btn btn-primary">
                            <i class="fa fa-plus-circle fa-lg"></i>&nbsp;Add Store
                        </a>
                    </div>
                    <div class="filter-block ">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="main-box no-header clearfix">
                                    <h1 class="pull-left">
                                        Search Store
                                        <input type="text" data-bind="value: $root.searchFilter" />
                                    </h1>
                                    <span class="pull-right">
                                        <button type="submit" class="btn btn-primary" data-bind="click: $root.getStores">Search</button>
                                        <button type="reset" class="btn btn-default" data-bind="click: $root.resetFilterSection">Reset</button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <div class="main-box no-header clearfix">
                        <div class="main-box-body clearfix">
                            <div class="table-responsive">
                                <table class="table user-list">
                                    <thead>
                                        <tr>
                                            <th><span>All Stores</span></th>
                                            <th><span>Type</span></th>
                                            <th><span>Status</span></th>

                                            <th>&nbsp;</th>
                                        </tr>
                                    </thead>
                                    <tbody>

                                        <!-- ko template: { name: $root.templateToUse , foreach: $root.stores } -->
                                        <!-- /ko -->

                                    </tbody>
                                </table>

                            </div>

                        </div>
                    </div>
                    <div id="pagerDiv">
                        <!-- ko with: pager -->
                        @Html.Partial("~/Areas/Common/Views/Shared/_Pager.cshtml")
                        <!-- /ko -->
                    </div>

                </div>
            </div>

            @*<ul data-bind="sortable: { data: $root.highPriorityTasks }">
                    <li>
                        <span data-bind="text: Text"></span>

                    </li>
                </ul>*@
        </div>
        <script id="actionsTemplate" type="text/html">
            <a class="table-link" data-bind="click : $root.onEditItem">
                <span class="fa-stack">
                    <i class="fa fa-square fa-stack-2x"></i>
                    <i class="fa fa-pencil fa-stack-1x fa-inverse"></i>
                </span>
            </a>
            <a href="#" class="table-link danger" data-bind="click : $root.deleteStore">
                <span class="fa-stack">
                    <i class="fa fa-square fa-stack-2x"></i>
                    <i class="fa fa-trash-o fa-stack-1x fa-inverse"></i>
                </span>
            </a>
        </script>
        <script id="itemStoreTemplate" type="text/html">
            <tr data-bind="click: $root.selectStore, css: { selectedRow: $data === $root.selectedStore}">
                <td>
                    <img src="~/Content/themes/Centaurus/img/samples/logos/1.jpg" alt="" />
                    <a href="#" class="user-link" data-bind="text: name,click : $root.onEditItem"></a>
                    <a href="#" style="font-size: 0.875em; color: black;" data-bind="text: url"><i class="fa fa-external-link-square"></i></a>
                </td>

                <td data-bind="text: type"></td>

                <td>
                    <!-- ko if: status() == 1 -->
                    <span class="label label-success">Active</span>
                    <!-- /ko -->
                    <!-- ko if: status() != 1 -->
                    <span class="label label-danger">DeActive</span>
                    <!-- /ko -->
                </td>

                <td id="actionColumn">
                    <!-- ko template: { name: "actionsTemplate",templateEngine: new ko.nativeTemplateEngine() } -->
                    <!-- /ko -->
                </td>
            </tr>
        </script>

    </div>
    
    @Html.Partial("~/Areas/Stores/Views/Stores/ContactCompanyDetail.cshtml")

</div>
<!-- ko stopBinding: true -->
@Html.Partial("~/Areas/Common/Views/Shared/_ConfirmationDialog.cshtml")
<!-- /ko -->
@section Scripts{
    @*<link href="~/Content/colorpicker.css" rel="stylesheet" />
        <link href="~/RichTextEditor/skins/moono/editor.css" rel="stylesheet" />
        <script src="~/Content/themes/Centaurus/js/wizard.js"></script>
        <script src="~/Content/themes/Centaurus/js/jquery.maskedinput.min.js"></script>
        <script src="~/Scripts/Ace/ace.js"></script>
        <script src="~/Scripts/Ace/colorpicker.js"></script>*@
    @*<link href="~/RichTextEditor/skins/moono/editor.css" rel="stylesheet" />*@
    <script src="~/Scripts/jquery.form.js"></script>
    @*<script src="~/Content/themes/Centaurus/js/ckeditor/ckeditor.js"></script>*@
    <script>

        require(["stores/stores.view", "common/confirmation.view"]);
        //$(document).ready(function () {
        //    // This call can be placed at any point after the
        //    // <textarea>, or inside a <head><script> in a
        //    // window.onload event handler.

        //    // Replace the <textarea id="editor"> with an CKEditor
        //    // instance, using default configurations.

        //    CKEDITOR.replace("editor");
        //});

        //alert(CKEDITOR.basePath);
        $(function () {
            $('#lisettings').addClass('active');
            $('#ligeneralsettings').addClass('active');
            $('#listore').addClass('active');
        });

    </script>
}
