
<div class="modal fade my-modal" id="addEditCampaignEmailModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div style="width: 838px;" class="modal-dialog" data-bind="with:$root.selectedEmail">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Email Detail</h4>
            </div>

            <div class="col-lg-12 form-horizontal outerDiv-Padding">
                <div class="clearfix" id="tabsHeader" style="margin-bottom:10px;">
                    <div class="tabs-wrapper profile-tabs">
                        <ul class="nav nav-tabs">
                            <li class="active"><a href="#tab-CampaignInformation" data-toggle="tab">Campaign Information</a></li>
                            <li><a href="#tab-dataSource" data-toggle="tab">Data Source</a></li>
                            <li><a href="#tab-emailProcessing" data-toggle="tab">Email Processing</a></li>
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane fade in active" id="tab-CampaignInformation">
                                <div class="col-lg-12 form-horizontal">
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="txtBannerHead" class="control-label text-right tooltip-float">Campaign Name</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <input type="text" class="form-control" id="txtBannerHead" data-bind="value:campaignName, validationTooltip:campaignName">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="description" class="control-label text-right tooltip-float">Description</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <textarea class="form-control" rows="4" id="description" data-bind="value:description,valueUpdate: 'keyup'"></textarea>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label class="control-label text-right tooltip-float">Enable Email Campaign</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <div class="radio">
                                                <input type="radio" id="enableEmailCompaign" data-bind="value:isEnabled">
                                                <label for="enableEmailCompaign">&nbsp;</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label class="control-label text-right tooltip-float">Type Scheduling</label>
                                        </div>
                                        <div class="col-lg-7">
                                            <div class="col-lg-3 radio">
                                                <input class="radio" type="radio" id="typeScheduling" value="1" checked="checked" disabled>
                                                <label for="typeScheduling" data-bind="visible:campaignType() === 1">Send Email on Event</label>
                                                <label for="typeScheduling" data-bind="visible:campaignType() === 3">Start Campaign at</label>
                                                <label for="typeScheduling" data-bind="visible:campaignType() === 2">Send Email</label>
                                            </div>

                                            <div class="col-lg-4" data-bind="visible:campaignType() === 3">
                                                <input class="form-control" type="text" data-bind="datepicker:startDateTime, validationTooltip:startDateTime">
                                            </div>
                                            <div class="col-lg-2" data-bind="visible:campaignType() === 2">
                                                <input class="form-control" type="text" data-bind="value:sendEmailAfterDays, validationTooltip:sendEmailAfterDays">
                                            </div>
                                            <div class="col-lg-2">
                                                <label class="control-label" data-bind="visible:campaignType() === 2">Days After</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    @*<span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>*@
                                                </a>
                                            </div>
                                            <label class="control-label text-right tooltip-float"></label>
                                        </div>
                                        <div class="col-lg-5" data-bind="visible:(campaignType() === 2 ||campaignType() === 1)">
                                            <select class="form-control" data-bind="options: $root.emailEvents, optionsText: 'EventName', optionsValue: 'EmailEventId',value:emailEventId, validationTooltip: emailEventId"></select>
                                        </div>
                                    </div>

                                    <div class="form-group" data-bind="visible:campaignType() === 3">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label class="control-label text-right tooltip-float">Type Scheduling</label>
                                        </div>
                                        <div class="col-lg-7">
                                            <div class="col-lg-3 checkbox-nice">
                                                <input type="checkbox" id="customer" data-bind="checked: includeCustomers">
                                                <label for="customer">Customers</label>
                                            </div>
                                            <div class="col-lg-4 checkbox-nice">
                                                <input type="checkbox" id="prospects" data-bind="checked: includeProspects">
                                                <label for="prospects">Prospects</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" data-bind="visible:campaignType() === 3">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    @*<span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>*@
                                                </a>
                                            </div>
                                            <label class="control-label text-right tooltip-float"></label>
                                        </div>
                                        <div class="col-lg-7">
                                            <div class="col-lg-3 checkbox-nice">
                                                <input type="checkbox" id="supplier" data-bind="checked: includeSuppliers">
                                                <label for="supplier">Supplier</label>
                                            </div>
                                            <div class="col-lg-4 checkbox-nice">
                                                <input type="checkbox" id="contactGroups" data-bind="checked: includeCorporateCustomers">
                                                <label for="contactGroups">Contact Groups</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" data-bind="visible:campaignType() === 3">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    @*<span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>*@
                                                </a>
                                            </div>
                                            <label class="control-label text-right tooltip-float"></label>
                                        </div>
                                        <div class="col-lg-7">
                                            <div class="col-lg-3 checkbox-nice">
                                                <input type="checkbox" id="flag" data-bind="checked: includeFlag">
                                                <label for="flag">Flag</label>
                                            </div>
                                            <div class="col-lg-4 checkbox-nice">
                                                <input type="checkbox" id="customerType" data-bind="checked: includeType">
                                                <label for="customerType">Customer Type</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" data-bind="visible:campaignType() === 3">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    @*<span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>*@
                                                </a>
                                            </div>
                                            <label class="control-label text-right tooltip-float"></label>
                                        </div>
                                        <div class="col-lg-7">
                                            <div class="col-lg-7 checkbox-nice">
                                                <input type="checkbox" id="newsLetterSubscription" data-bind="checked: includeNewsLetterSubscribers">
                                                <label for="newsLetterSubscription">News Letter Subscriber</label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <div class="col-lg-4" data-bind="visible:includeFlag()">
                                            <div class="col-lg-12" style="border:1px solid silver">
                                                <div class="clearfix" style="max-height: 223px;min-height: 20px;overflow-y: auto">
                                                    <div class="table-responsive">
                                                        <table id="campaignSection" class="table table-striped table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>&nbsp;</th>
                                                                    <th> <span>Customer Flag<span></span></span></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <!-- ko template: { name: 'campaignSectionFlagItemTemplate' , foreach:$root.campaignSectionFlags   } -->
                                                                <!-- /ko -->
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4" data-bind="visible:includeType()">
                                            <div class="col-lg-12" style="border:1px solid silver">
                                                <div class="clearfix" style="max-height: 223px;min-height: 20px;overflow-y: auto">
                                                    <div class="table-responsive">
                                                        <table id="campaignSection" class="table table-striped table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>&nbsp;</th>
                                                                    <th> <span>Customer Types<span></span></span></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <!-- ko template: { name: 'campaignCompanyTypeItemTemplate' , foreach:$root.campaignCompanyTypes   } -->
                                                                <!-- /ko -->
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-4" data-bind="visible:includeCorporateCustomers()">
                                            <div class="col-lg-12" style="border:1px solid silver">
                                                <div class="clearfix" style="max-height: 223px;min-height: 20px;overflow-y: auto">
                                                    <div class="table-responsive">
                                                        <table id="campaignSection" class="table table-striped table-hover">
                                                            <thead>
                                                                <tr>
                                                                    <th>&nbsp;</th>
                                                                    <th> <span>Customer Groups<span></span></span></th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                <!-- ko template: { name: 'campaignGroupTemplate' , foreach:$root.campaignGroups   } -->
                                                                <!-- /ko -->
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab-dataSource">
                                <div class="col-lg-12 form-horizontal">
                                    <div class="col-lg-8">
                                        <div class="form-group">
                                            <div class="col-lg-3 text-right">
                                                <div class="bs-example-tooltips tooltip-float-width">
                                                    <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                        <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                    </a>
                                                </div>
                                                <label for="txtBannerHead" class="control-label text-right tooltip-float">Subject</label>
                                            </div>
                                            <div class="col-lg-9">
                                                <input type="text" class="form-control" id="txtBannerHead" data-bind="value:subjectA">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-lg-12">
                                                <textarea name="html_link_content" id="content" data-bind="editor: hTMLMessageA, valueUpdate: 'afterkeydown',drop: $root.droppedEmailSection"></textarea>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <div class="col-lg-4" style="margin-left: 7px;">
                                                <div class="fileUpload btn btn-primary">
                                                    <span>Upload Images</span>
                                                    <input type="file" class="upload" multiple id="campaignImages" data-bind="files: { onLoaded: $root.campaignEmailImagesLoadedCallback, fileFilter: 'image.*'}" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-12" style="border:1px solid silver;max-height: 523px;overflow-y: auto">
                                            <div style="max-height: 350px;min-height: 50px;">
                                                <div class="main-box-body">
                                                    <div id="gallery-photos-lightbox">
                                                        <ul class="clearfix gallery-photos">
                                                            <!-- ko template: { name: 'campaignImageItemTemplate' , foreach:campaignImages    } -->
                                                            <!-- /ko -->
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <hr />
                                            <div style="padding-right: 5px;" id="nestable2">
                                                <ol class="dd-list">
                                                    <!-- ko template: { name: 'sectionIemTemplate', foreach: $root.emailCampaignSections  }-->
                                                    <!-- /ko -->
                                                </ol>
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            &nbsp;<br />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="tab-emailProcessing">
                                <div class="col-lg-12 form-horizontal">
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="txtBannerHead" class="control-label text-right tooltip-float">From Name</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <input type="text" class="form-control" id="txtBannerHead" data-bind="value:fromName">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="txtBannerHead" class="control-label text-right tooltip-float">From Address</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <input type="text" class="form-control" id="txtBannerHead" data-bind="value:fromAddress">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="txtBannerHead" class="control-label text-right tooltip-float">Return Path Address</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <input type="text" class="form-control" id="txtBannerHead" data-bind="value:returnPathAddress">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="txtBannerHead" class="control-label text-right tooltip-float">Reply to Address</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <input type="text" class="form-control" id="txtBannerHead" data-bind="value:replyToAddress">
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="txtBannerHead" class="control-label text-right tooltip-float">Email Summary Report To</label>
                                        </div>
                                        <div class="col-lg-7">
                                            <div class="col-lg-5 checkbox-nice">
                                                <input type="checkbox" id="emailSummary" data-bind="checked:enableLogFiles">
                                                <label for="emailSummary">&nbsp;</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group" data-bind="visible:enableLogFiles()">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="txtBannerHead" class="control-label text-right tooltip-float">Email Address 1</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <input type="text" class="form-control" id="txtBannerHead" data-bind="value:emailLogFileAddress3, validationTooltip:emailLogFileAddress3">
                                        </div>
                                    </div>
                                    <div class="form-group" data-bind="visible:enableLogFiles()">
                                        <div class="col-lg-5 text-right">
                                            <div class="bs-example-tooltips tooltip-float-width">
                                                <a class="input-group-addon" style="text-decoration: none; border: 0; cursor: pointer;" data-container="body" data-toggle="popover" data-placement="right" data-content="Sort Order in Category" data-original-title="" title="">
                                                    <span class="label label-circle-question">&nbsp;&nbsp;?&nbsp;&nbsp;</span>
                                                </a>
                                            </div>
                                            <label for="txtBannerHead" class="control-label text-right tooltip-float">Email Address 2</label>
                                        </div>
                                        <div class="col-lg-5">
                                            <input type="text" class="form-control" id="txtBannerHead" data-bind="value:emailLogFileAddress2, validationTooltip:emailLogFileAddress2">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <hr />
                <button type="button" class="btn btn-primary" data-bind="click:$root.onSaveEmail">Save</button>
                <button type="button" class="btn btn-default" data-dismiss="modal" style="margin-left: 0px;">Close</button>
            </div>
        </div>
    </div>
</div>
<script id="sectionIemTemplate" type="text/html">
    <li class="dd-item dd-item-list" data-id="15">
        <div class="dd-handle-list" data-bind="click: $root.selectSection, css: { selectedSection: $root.selectedSection() === $data }"><i class="fa fa-bars"></i></div>
        <div class="dd-handle">
            <span data-bind="text: $data.sectionName(),drag: $root.draggedSection" style="cursor: move;z-index: 8000"></span>
            <div class="nested-links">
                <a href="#" class="nested-link"></a>
            </div>
        </div>
        <ol class="dd-list" data-bind="visible:isExpanded()">
            <!-- ko template: { name: 'emailVariableIemTemplate', foreach: campaignEmailVariables }-->
            <!-- /ko -->
        </ol>
    </li>
</script>

<script id="emailVariableIemTemplate" type="text/html">
    <li class="dd-item dd-item-list" data-id="16">
        <div class="dd-handle-list"><i class="fa fa-bars"></i></div>
        <div class="dd-handle">
            <span data-bind="text: $data.variableName(),drag: $root.draggedEmailVaribale" style="cursor: move;z-index: 8000"></span>
            <div class="nested-links">
            </div>
        </div>
    </li>
</script>

<script id="campaignImageItemTemplate" type="text/html">
    <li class="col-md-4 col-sm-4 col-xs-4">
        <img class="photo-box image-link" data-bind="attr: { src: imageSource },drag: $root.draggedImage" style="padding-top: 0px;cursor: move;z-index: 8000" />
    </li>
</script>

<script id="campaignSectionFlagItemTemplate" type="text/html">
    <tr>
        <td>
            <div class="checkbox-nice">
                <input type="checkbox" data-bind="checked: isChecked,attr: { id: 'section' + $index() }">
                <label data-bind="attr: { for: 'section' + $index() }"></label>
            </div>
        </td>
        <td data-bind="text:name"></td>
    </tr>
</script>

<script id="campaignCompanyTypeItemTemplate" type="text/html">
    <tr>
        <td>
            <div class="checkbox-nice">
                <input type="checkbox" data-bind="checked: isChecked,attr: { id: 'type' + $index() }">
                <label data-bind="attr: { for: 'type' + $index() }"></label>
            </div>
        </td>
        <td data-bind="text:name"></td>
    </tr>
</script>

<script id="campaignGroupTemplate" type="text/html">
    <tr>
        <td>
            <div class="checkbox-nice">
                <input type="checkbox" data-bind="checked: isChecked,attr: { id: 'group' + $index() }">
                <label data-bind="attr: { for: 'group' + $index() }"></label>
            </div>
        </td>
        <td data-bind="text:name"></td>
    </tr>
</script>