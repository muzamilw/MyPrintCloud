var $spc,$btn,oldW,newW,timer,updateCartCount;if(typeof(maxQty)==="undefined"){var maxQty=25;}var cart_is_active=(location.hostname.indexOf("myshopify.com")>=0||location.hostname.indexOf("fiftythree.com")>=0);
jQuery(document).ready(function(){$("input#tcs").prop("checked",false);var f=function(){var j;$.ajax({url:"/cart.html",dataType:"html",async:false,success:function(l,m,k){j=$(l).find("form#cartform").hide();
}});return j;};var g=function(){var j=0;$("img#loading").show();timer=setInterval(function(){j+=3;$("img#loading").rotate(j);},1);};var h=function(j){$("img#loading").hide();
clearInterval(timer);};updateCartCount=function(j){$(".cart_count").each(function(){$(this).text(j);var l=$(this).parent("a").contents().last()[0];var k=typeof(l.textContent)==="undefined"?l.innerText:l.textContent;
k="Item";if(j!=1){k+="s";}});};var e=function(o,q){if(typeof(o)==="undefined"){if(typeof(q)==="function"){q();}else{return;}}if(typeof(o.items)!="undefined"){if($("fieldset.line-item").length<o.items.length){var n=f();
$("article.cart .row").append(n);$("form#cartform:visible").fadeOut(500).remove();$("form#cartform:hidden").fadeIn(500);}else{if($(".item_total[data-id]").length>0){for(var k=0;
k<o.items.length;k++){var m=o.items[k];var p=m.id;var l=Shopify.formatMoney(m.line_price).replace(" ","");$('.item_total[data-id="'+p+'"]').text(l);}}}if(typeof(o.total_price)!="undefined"){var j=Shopify.formatMoney(o.total_price).replace(" ","");
$(".cart_total").each(function(){$(this).text(j);});}}if(typeof(o.item_count)!="undefined"){updateCartCount(o.item_count);}if(typeof(q)==="function"){q();
}else{return;}};var i=function(k,p){var o=k.data("id");var l=k.find('input[type="hidden"]');var n=parseInt(l.val());if(n===0){return false;}if(n===1&&p!=true){var j=$(".dialog-container#cart-remove");
j.data("id",o);j.on("click","a.remove",function(q){i(k,true);hide_all_dialogs();});show_dialog(j);return false;}n--;l.val(n);k.find("div.qty").children("strong").text(n);
if(!cart_is_active){return false;}g();if(n>0){Shopify.changeItem(o,n,function(q){e(q,function(){h();});});return false;}var m=k.next("hr");Shopify.removeItem(o,function(q){k.fadeOut("slow").remove();
m.fadeOut("slow").remove();e(q,function(){h();});if(q.item_count===0){$("fieldset.empty").fadeIn("fast");$("form#cartform header, form#cartform fieldset.line-item, form#cartform hr, form#cartform footer").fadeOut("fast").remove();
}$('button[data-id="'+o+'"][disabled]').removeAttr("disabled style").removeClass("adding added").addClass("add").find("span").remove();a();});};var c=function(k){var n=k.data("id");
var l=k.find('input[type="hidden"]');var m=parseInt(l.val());if(m===maxQty){var j=$(".dialog-container#cart-max-qty");show_dialog(j);return false;}m++;
l.val(m);k.find("div.qty").children("strong").text(m);if(!cart_is_active){return false;}g();Shopify.changeItem(n,m,function(o){e(o,function(){h();});});
};$("article.cart").on("click","form#cartform button.minus",function(k){k.preventDefault();if(Modernizr.touch){$("form#cartform button.minus").css({backgroundColor:"#fff"});
$("form#cartform button.minus").animate({backgroundColor:"transparent"},500);}var j=$(this).parents("fieldset.line-item");i(j);return false;});$("article.cart").on("click","form#cartform button.plus",function(k){k.preventDefault();
if(Modernizr.touch){$("form#cartform button.plus").css({backgroundColor:"#fff"});$("form#cartform button.plus").animate({backgroundColor:"transparent"},500);
}var j=$(this).parents("fieldset.line-item");c(j);return false;});$("article.cart").on("click","form#cartform input#tcs",function(j){if($(this).is(":checked")){$(".checkout button").removeClass("disabled");
}else{$(".checkout button").addClass("disabled");}});var b=function(){var l=$("fieldset.agree");var k="#fffcf5";var o="#eb5e28";var j="0";var m="6px";var p="0";
var n="2px";l.animate({paddingLeft:m,paddingRight:m,borderLeftWidth:n,borderRightWidth:n,borderColor:o},300,function(q){setTimeout(function(){l.animate({paddingLeft:j,paddingRight:j,borderLeftWidth:p,borderRightWidth:p,borderColor:k},300);
},1200);});};var a=function(){$btn=$(".btn.add").first();if($btn.length===0){return;}$spc=$(".btn.spacer");oldW=$btn.outerWidth().toString()+"px";newW=$spc.outerWidth().toString()+"px";
$btn.css({width:oldW,overflow:"hidden"});};a();var d=function(m){$btn.toggleClass("adding add").attr("disabled","disabled");var j="#ccc5b9";var l="#fffcf5";
var k=$('<span style="opacity:0">ed</span>');$btn.append(k);$btn.animate({color:l,backgroundColor:j,width:newW},400,m);k.animate({opacity:1},200);};$("form#extrasForm").on("submit",function(j){j.preventDefault();
if(cart_is_active){Shopify.addItemFromForm("extrasForm",function(k){d(function(){Shopify.getCart(function(l){e(l);});});});return;}d();return false;});
$("article.cart").on("click",".checkout button.disabled",function(j){j.preventDefault();b();return false;});$("article.cart").on("submit","form#cartform",function(j){if($(".checkout button").hasClass("disabled")){j.preventDefault();
return false;}if(!cart_is_active){location.href="/checkout.html";return false;}return true;});});