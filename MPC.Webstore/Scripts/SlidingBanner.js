/*!
 * Bootstrap v3.1.1 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
;if(typeof jQuery==="undefined"){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(b){function a(){var e=document.createElement("bootstrap");var d={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in d){if(e.style[c]!==undefined){return{end:d[c]}}}return false}b.fn.emulateTransitionEnd=function(e){var d=false,c=this;b(this).one(b.support.transition.end,function(){d=true});var f=function(){if(!d){b(c).trigger(b.support.transition.end)}};setTimeout(f,e);return this};b(function(){b.support.transition=a()})}(jQuery);+function(d){var c='[data-dismiss="alert"]';var b=function(e){d(e).on("click",c,this.close)};b.prototype.close=function(l){var k=d(this);var g=k.attr("data-target");if(!g){g=k.attr("href");g=g&&g.replace(/.*(?=#[^\s]*$)/,"")}var h=d(g);if(l){l.preventDefault()}if(!h.length){h=k.hasClass("alert")?k:k.parent()}h.trigger(l=d.Event("close.bs.alert"));if(l.isDefaultPrevented()){return}h.removeClass("in");function f(){h.trigger("closed.bs.alert").remove()}d.support.transition&&h.hasClass("fade")?h.one(d.support.transition.end,f).emulateTransitionEnd(150):f()};var a=d.fn.alert;d.fn.alert=function(e){return this.each(function(){var g=d(this);var f=g.data("bs.alert");if(!f){g.data("bs.alert",(f=new b(this)))}if(typeof e=="string"){f[e].call(g)}})};d.fn.alert.Constructor=b;d.fn.alert.noConflict=function(){d.fn.alert=a;return this};d(document).on("click.bs.alert.data-api",c,b.prototype.close)}(jQuery);+function(c){var b=function(e,d){this.$element=c(e);this.options=c.extend({},b.DEFAULTS,d);this.isLoading=false};b.DEFAULTS={loadingText:"loading..."};b.prototype.setState=function(g){var k="disabled";var e=this.$element;var h=e.is("input")?"val":"html";var f=e.data();g=g+"Text";if(!f.resetText){e.data("resetText",e[h]())}e[h](f[g]||this.options[g]);setTimeout(c.proxy(function(){if(g=="loadingText"){this.isLoading=true;e.addClass(k).attr(k,k)}else{if(this.isLoading){this.isLoading=false;e.removeClass(k).removeAttr(k)}}},this),0)};b.prototype.toggle=function(){var e=true;var d=this.$element.closest('[data-toggle="buttons"]');if(d.length){var f=this.$element.find("input");if(f.prop("type")=="radio"){if(f.prop("checked")&&this.$element.hasClass("active")){e=false}else{d.find(".active").removeClass("active")}}if(e){f.prop("checked",!this.$element.hasClass("active")).trigger("change")}}if(e){this.$element.toggleClass("active")}};var a=c.fn.button;c.fn.button=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.button");var e=typeof d=="object"&&d;if(!f){g.data("bs.button",(f=new b(this,e)))}if(d=="toggle"){f.toggle()}else{if(d){f.setState(d)}}})};c.fn.button.Constructor=b;c.fn.button.noConflict=function(){c.fn.button=a;return this};c(document).on("click.bs.button.data-api","[data-toggle^=button]",function(f){var d=c(f.target);if(!d.hasClass("btn")){d=d.closest(".btn")}d.button("toggle");f.preventDefault()})}(jQuery);+function(b){var c=function(e,d){this.$element=b(e);this.$indicators=this.$element.find(".carousel-indicators");this.options=d;this.paused=this.sliding=this.interval=this.$active=this.$items=null;this.options.pause=="hover"&&this.$element.on("mouseenter",b.proxy(this.pause,this)).on("mouseleave",b.proxy(this.cycle,this))};c.DEFAULTS={interval:5000,pause:"hover",wrap:true};c.prototype.cycle=function(d){d||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval(b.proxy(this.next,this),this.options.interval));return this};c.prototype.getActiveIndex=function(){this.$active=this.$element.find(".item.active");this.$items=this.$active.parent().children();return this.$items.index(this.$active)};c.prototype.to=function(f){var e=this;var d=this.getActiveIndex();if(f>(this.$items.length-1)||f<0){return}if(this.sliding){return this.$element.one("slid.bs.carousel",function(){e.to(f)})}if(d==f){return this.pause().cycle()}return this.slide(f>d?"next":"prev",b(this.$items[f]))};c.prototype.pause=function(d){d||(this.paused=true);if(this.$element.find(".next, .prev").length&&b.support.transition){this.$element.trigger(b.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};c.prototype.next=function(){if(this.sliding){return}return this.slide("next")};c.prototype.prev=function(){if(this.sliding){return}return this.slide("prev")};c.prototype.slide=function(m,f){var o=this.$element.find(".item.active");var d=f||o[m]();var l=this.interval;var n=m=="next"?"left":"right";var g=m=="next"?"first":"last";var h=this;if(!d.length){if(!this.options.wrap){return}d=this.$element.find(".item")[g]()}if(d.hasClass("active")){return this.sliding=false}var k=b.Event("slide.bs.carousel",{relatedTarget:d[0],direction:n});this.$element.trigger(k);if(k.isDefaultPrevented()){return}this.sliding=true;l&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");this.$element.one("slid.bs.carousel",function(){var e=b(h.$indicators.children()[h.getActiveIndex()]);e&&e.addClass("active")})}if(b.support.transition&&this.$element.hasClass("slide")){d.addClass(m);d[0].offsetWidth;o.addClass(n);d.addClass(n);o.one(b.support.transition.end,function(){d.removeClass([m,n].join(" ")).addClass("active");o.removeClass(["active",n].join(" "));h.sliding=false;setTimeout(function(){h.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(o.css("transition-duration").slice(0,-1)*1000)}else{o.removeClass("active");d.addClass("active");this.sliding=false;this.$element.trigger("slid.bs.carousel")}l&&this.cycle();return this};var a=b.fn.carousel;b.fn.carousel=function(d){return this.each(function(){var h=b(this);var g=h.data("bs.carousel");var e=b.extend({},c.DEFAULTS,h.data(),typeof d=="object"&&d);var f=typeof d=="string"?d:e.slide;if(!g){h.data("bs.carousel",(g=new c(this,e)))}if(typeof d=="number"){g.to(d)}else{if(f){g[f]()}else{if(e.interval){g.pause().cycle()}}}})};b.fn.carousel.Constructor=c;b.fn.carousel.noConflict=function(){b.fn.carousel=a;return this};b(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(l){var k=b(this),f;var d=b(k.attr("data-target")||(f=k.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,""));var g=b.extend({},d.data(),k.data());var h=k.attr("data-slide-to");if(h){g.interval=false}d.carousel(g);if(h=k.attr("data-slide-to")){d.data("bs.carousel").to(h)}l.preventDefault()});b(window).on("load",function(){b('[data-ride="carousel"]').each(function(){var d=b(this);d.carousel(d.data())})})}(jQuery);+function(b){var c=function(e,d){this.$element=b(e);this.options=b.extend({},c.DEFAULTS,d);this.transitioning=null;if(this.options.parent){this.$parent=b(this.options.parent)}if(this.options.toggle){this.toggle()}};c.DEFAULTS={toggle:true};c.prototype.dimension=function(){var d=this.$element.hasClass("width");return d?"width":"height"};c.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in")){return}var e=b.Event("show.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return}var h=this.$parent&&this.$parent.find("> .panel > .in");if(h&&h.length){var f=h.data("bs.collapse");if(f&&f.transitioning){return}h.collapse("hide");f||h.data("bs.collapse",null)}var k=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[k](0);this.transitioning=1;var d=function(){this.$element.removeClass("collapsing").addClass("collapse in")[k]("auto");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!b.support.transition){return d.call(this)}var g=b.camelCase(["scroll",k].join("-"));this.$element.one(b.support.transition.end,b.proxy(d,this)).emulateTransitionEnd(350)[k](this.$element[0][g])};c.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in")){return}var e=b.Event("hide.bs.collapse");this.$element.trigger(e);if(e.isDefaultPrevented()){return}var f=this.dimension();this.$element[f](this.$element[f]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse").removeClass("in");this.transitioning=1;var d=function(){this.transitioning=0;this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!b.support.transition){return d.call(this)}this.$element[f](0).one(b.support.transition.end,b.proxy(d,this)).emulateTransitionEnd(350)};c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=b.fn.collapse;b.fn.collapse=function(d){return this.each(function(){var g=b(this);var f=g.data("bs.collapse");var e=b.extend({},c.DEFAULTS,g.data(),typeof d=="object"&&d);if(!f&&e.toggle&&d=="show"){d=!d}if(!f){g.data("bs.collapse",(f=new c(this,e)))}if(typeof d=="string"){f[d]()}})};b.fn.collapse.Constructor=c;b.fn.collapse.noConflict=function(){b.fn.collapse=a;return this};b(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(l){var n=b(this),d;var m=n.attr("data-target")||l.preventDefault()||(d=n.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,"");var f=b(m);var h=f.data("bs.collapse");var k=h?"toggle":n.data();var o=n.attr("data-parent");var g=o&&b(o);if(!h||!h.transitioning){if(g){g.find('[data-toggle=collapse][data-parent="'+o+'"]').not(n).addClass("collapsed")}n[f.hasClass("in")?"addClass":"removeClass"]("collapsed")}f.collapse(k)})}(jQuery);+function(g){var e=".dropdown-backdrop";var b="[data-toggle=dropdown]";var a=function(h){g(h).on("click.bs.dropdown",this.toggle)};a.prototype.toggle=function(n){var m=g(this);if(m.is(".disabled, :disabled")){return}var l=f(m);var k=l.hasClass("open");d();if(!k){if("ontouchstart" in document.documentElement&&!l.closest(".navbar-nav").length){g('<div class="dropdown-backdrop"/>').insertAfter(g(this)).on("click",d)}var h={relatedTarget:this};l.trigger(n=g.Event("show.bs.dropdown",h));if(n.isDefaultPrevented()){return}l.toggleClass("open").trigger("shown.bs.dropdown",h);m.focus()}return false};a.prototype.keydown=function(n){if(!/(38|40|27)/.test(n.keyCode)){return}var m=g(this);n.preventDefault();n.stopPropagation();if(m.is(".disabled, :disabled")){return}var l=f(m);var k=l.hasClass("open");if(!k||(k&&n.keyCode==27)){if(n.which==27){l.find(b).focus()}return m.click()}var o=" li:not(.divider):visible a";var p=l.find("[role=menu]"+o+", [role=listbox]"+o);if(!p.length){return}var h=p.index(p.filter(":focus"));if(n.keyCode==38&&h>0){h--}if(n.keyCode==40&&h<p.length-1){h++}if(!~h){h=0}p.eq(h).focus()};function d(h){g(e).remove();g(b).each(function(){var l=f(g(this));var k={relatedTarget:this};if(!l.hasClass("open")){return}l.trigger(h=g.Event("hide.bs.dropdown",k));if(h.isDefaultPrevented()){return}l.removeClass("open").trigger("hidden.bs.dropdown",k)})}function f(l){var h=l.attr("data-target");if(!h){h=l.attr("href");h=h&&/#[A-Za-z]/.test(h)&&h.replace(/.*(?=#[^\s]*$)/,"")}var k=h&&g(h);return k&&k.length?k:l.parent()}var c=g.fn.dropdown;g.fn.dropdown=function(h){return this.each(function(){var l=g(this);var k=l.data("bs.dropdown");if(!k){l.data("bs.dropdown",(k=new a(this)))}if(typeof h=="string"){k[h].call(l)}})};g.fn.dropdown.Constructor=a;g.fn.dropdown.noConflict=function(){g.fn.dropdown=c;return this};g(document).on("click.bs.dropdown.data-api",d).on("click.bs.dropdown.data-api",".dropdown form",function(h){h.stopPropagation()}).on("click.bs.dropdown.data-api",b,a.prototype.toggle).on("keydown.bs.dropdown.data-api",b+", [role=menu], [role=listbox]",a.prototype.keydown)}(jQuery);+function(c){var b=function(e,d){this.options=d;this.$element=c(e);this.$backdrop=this.isShown=null;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,c.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};b.DEFAULTS={backdrop:true,keyboard:true,show:true};b.prototype.toggle=function(d){return this[!this.isShown?"show":"hide"](d)};b.prototype.show=function(g){var d=this;var f=c.Event("show.bs.modal",{relatedTarget:g});this.$element.trigger(f);if(this.isShown||f.isDefaultPrevented()){return}this.isShown=true;this.escape();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this));this.backdrop(function(){var k=c.support.transition&&d.$element.hasClass("fade");if(!d.$element.parent().length){d.$element.appendTo(document.body)}d.$element.show().scrollTop(0);if(k){d.$element[0].offsetWidth}d.$element.addClass("in").attr("aria-hidden",false);d.enforceFocus();var h=c.Event("shown.bs.modal",{relatedTarget:g});k?d.$element.find(".modal-dialog").one(c.support.transition.end,function(){d.$element.focus().trigger(h)}).emulateTransitionEnd(300):d.$element.focus().trigger(h)})};b.prototype.hide=function(d){if(d){d.preventDefault()}d=c.Event("hide.bs.modal");this.$element.trigger(d);if(!this.isShown||d.isDefaultPrevented()){return}this.isShown=false;this.escape();c(document).off("focusin.bs.modal");this.$element.removeClass("in").attr("aria-hidden",true).off("click.dismiss.bs.modal");c.support.transition&&this.$element.hasClass("fade")?this.$element.one(c.support.transition.end,c.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()};b.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(d){if(this.$element[0]!==d.target&&!this.$element.has(d.target).length){this.$element.focus()}},this))};b.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.bs.modal",c.proxy(function(d){d.which==27&&this.hide()},this))}else{if(!this.isShown){this.$element.off("keyup.dismiss.bs.modal")}}};b.prototype.hideModal=function(){var d=this;this.$element.hide();this.backdrop(function(){d.removeBackdrop();d.$element.trigger("hidden.bs.modal")})};b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};b.prototype.backdrop=function(f){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=c.support.transition&&e;this.$backdrop=c('<div class="modal-backdrop '+e+'" />').appendTo(document.body);this.$element.on("click.dismiss.bs.modal",c.proxy(function(g){if(g.target!==g.currentTarget){return}this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this));if(d){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!f){return}d?this.$backdrop.one(c.support.transition.end,f).emulateTransitionEnd(150):f()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(c.support.transition.end,f).emulateTransitionEnd(150):f()}else{if(f){f()}}}};var a=c.fn.modal;c.fn.modal=function(d,e){return this.each(function(){var h=c(this);var g=h.data("bs.modal");var f=c.extend({},b.DEFAULTS,h.data(),typeof d=="object"&&d);if(!g){h.data("bs.modal",(g=new b(this,f)))}if(typeof d=="string"){g[d](e)}else{if(f.show){g.show(e)}}})};c.fn.modal.Constructor=b;c.fn.modal.noConflict=function(){c.fn.modal=a;return this};c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(k){var h=c(this);var f=h.attr("href");var d=c(h.attr("data-target")||(f&&f.replace(/.*(?=#[^\s]+$)/,"")));var g=d.data("bs.modal")?"toggle":c.extend({remote:!/#/.test(f)&&f},d.data(),h.data());if(h.is("a")){k.preventDefault()}d.modal(g,this).one("hide",function(){h.is(":visible")&&h.focus()})});c(document).on("show.bs.modal",".modal",function(){c(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){c(document.body).removeClass("modal-open")})}(jQuery);+function(c){var b=function(e,d){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",e,d)};b.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};b.prototype.init=function(l,h,f){this.enabled=true;this.type=l;this.$element=c(h);this.options=this.getOptions(f);var k=this.options.trigger.split(" ");for(var g=k.length;g--;){var e=k[g];if(e=="click"){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if(e!="manual"){var m=e=="hover"?"mouseenter":"focusin";var d=e=="hover"?"mouseleave":"focusout";this.$element.on(m+"."+this.type,this.options.selector,c.proxy(this.enter,this));this.$element.on(d+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?(this._options=c.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.getOptions=function(d){d=c.extend({},this.getDefaults(),this.$element.data(),d);if(d.delay&&typeof d.delay=="number"){d.delay={show:d.delay,hide:d.delay}}return d};b.prototype.getDelegateOptions=function(){var d={};var e=this.getDefaults();this._options&&c.each(this._options,function(f,g){if(e[f]!=g){d[f]=g}});return d};b.prototype.enter=function(e){var d=e instanceof this.constructor?e:c(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="in";if(!d.options.delay||!d.options.delay.show){return d.show()}d.timeout=setTimeout(function(){if(d.hoverState=="in"){d.show()}},d.options.delay.show)};b.prototype.leave=function(e){var d=e instanceof this.constructor?e:c(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(d.timeout);d.hoverState="out";if(!d.options.delay||!d.options.delay.hide){return d.hide()}d.timeout=setTimeout(function(){if(d.hoverState=="out"){d.hide()}},d.options.delay.hide)};b.prototype.show=function(){var r=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(r);if(r.isDefaultPrevented()){return}var q=this;var m=this.tip();this.setContent();if(this.options.animation){m.addClass("fade")}var l=typeof this.options.placement=="function"?this.options.placement.call(this,m[0],this.$element[0]):this.options.placement;var v=/\s?auto?\s?/i;var w=v.test(l);if(w){l=l.replace(v,"")||"top"}m.detach().css({top:0,left:0,display:"block"}).addClass(l);this.options.container?m.appendTo(this.options.container):m.insertAfter(this.$element);var s=this.getPosition();var d=m[0].offsetWidth;var o=m[0].offsetHeight;if(w){var k=this.$element.parent();var h=l;var t=document.documentElement.scrollTop||document.body.scrollTop;var u=this.options.container=="body"?window.innerWidth:k.outerWidth();var p=this.options.container=="body"?window.innerHeight:k.outerHeight();var n=this.options.container=="body"?0:k.offset().left;l=l=="bottom"&&s.top+s.height+o-t>p?"top":l=="top"&&s.top-t-o<0?"bottom":l=="right"&&s.right+d>u?"left":l=="left"&&s.left-d<n?"right":l;m.removeClass(h).addClass(l)}var g=this.getCalculatedOffset(l,s,d,o);this.applyPlacement(g,l);this.hoverState=null;var f=function(){q.$element.trigger("shown.bs."+q.type)};c.support.transition&&this.$tip.hasClass("fade")?m.one(c.support.transition.end,f).emulateTransitionEnd(150):f()}};b.prototype.applyPlacement=function(k,l){var g;var m=this.tip();var f=m[0].offsetWidth;var p=m[0].offsetHeight;var e=parseInt(m.css("margin-top"),10);var h=parseInt(m.css("margin-left"),10);if(isNaN(e)){e=0}if(isNaN(h)){h=0}k.top=k.top+e;k.left=k.left+h;c.offset.setOffset(m[0],c.extend({using:function(q){m.css({top:Math.round(q.top),left:Math.round(q.left)})}},k),0);m.addClass("in");var d=m[0].offsetWidth;var n=m[0].offsetHeight;if(l=="top"&&n!=p){g=true;k.top=k.top+p-n}if(/bottom|top/.test(l)){var o=0;if(k.left<0){o=k.left*-2;k.left=0;m.offset(k);d=m[0].offsetWidth;n=m[0].offsetHeight}this.replaceArrow(o-f+d,d,"left")}else{this.replaceArrow(n-p,n,"top")}if(g){m.offset(k)}};b.prototype.replaceArrow=function(f,e,d){this.arrow().css(d,f?(50*(1-f/e)+"%"):"")};b.prototype.setContent=function(){var e=this.tip();var d=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](d);e.removeClass("fade in top bottom left right")};b.prototype.hide=function(){var f=this;var h=this.tip();var g=c.Event("hide.bs."+this.type);function d(){if(f.hoverState!="in"){h.detach()}f.$element.trigger("hidden.bs."+f.type)}this.$element.trigger(g);if(g.isDefaultPrevented()){return}h.removeClass("in").css("display","none");c.support.transition&&this.$tip.hasClass("fade")?h.one(c.support.transition.end,d).emulateTransitionEnd(150):d();this.hoverState=null;return this};b.prototype.fixTitle=function(){var d=this.$element;if(d.attr("title")||typeof(d.attr("data-original-title"))!="string"){d.attr("data-original-title",d.attr("title")||"").attr("title","")}};b.prototype.hasContent=function(){return this.getTitle()};b.prototype.getPosition=function(){var d=this.$element[0];return c.extend({},(typeof d.getBoundingClientRect=="function")?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},this.$element.offset())};b.prototype.getCalculatedOffset=function(d,g,e,f){return d=="bottom"?{top:g.top+g.height,left:g.left+g.width/2-e/2}:d=="top"?{top:g.top-f,left:g.left+g.width/2-e/2}:d=="left"?{top:g.top+g.height/2-f/2,left:g.left-e}:{top:g.top+g.height/2-f/2,left:g.left+g.width}};b.prototype.getTitle=function(){var f;var d=this.$element;var e=this.options;f=d.attr("data-original-title")||(typeof e.title=="function"?e.title.call(d[0]):e.title);return f};b.prototype.tip=function(){return this.$tip=this.$tip||c(this.options.template)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};b.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};b.prototype.enable=function(){this.enabled=true};b.prototype.disable=function(){this.enabled=false};b.prototype.toggleEnabled=function(){this.enabled=!this.enabled};b.prototype.toggle=function(f){var d=f?c(f.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;d.tip().hasClass("in")?d.leave(d):d.enter(d)};b.prototype.destroy=function(){clearTimeout(this.timeout);this.hide();this.$element.off("."+this.type).removeData("bs."+this.type)};var a=c.fn.tooltip;c.fn.tooltip=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.tooltip");var e=typeof d=="object"&&d;if(!f&&d=="destroy"){return}if(!f){g.data("bs.tooltip",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.tooltip.Constructor=b;c.fn.tooltip.noConflict=function(){c.fn.tooltip=a;return this}}(jQuery);+function(c){var b=function(e,d){this.init("popover",e,d)};if(!c.fn.tooltip){throw new Error("Popover requires tooltip.js")}b.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});b.prototype=c.extend({},c.fn.tooltip.Constructor.prototype);b.prototype.constructor=b;b.prototype.getDefaults=function(){return b.DEFAULTS};b.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();var d=this.getContent();f.find(".popover-title")[this.options.html?"html":"text"](e);f.find(".popover-content")[this.options.html?(typeof d=="string"?"html":"append"):"text"](d);f.removeClass("fade top bottom left right in");if(!f.find(".popover-title").html()){f.find(".popover-title").hide()}};b.prototype.hasContent=function(){return this.getTitle()||this.getContent()};b.prototype.getContent=function(){var d=this.$element;var e=this.options;return d.attr("data-content")||(typeof e.content=="function"?e.content.call(d[0]):e.content)};b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};b.prototype.tip=function(){if(!this.$tip){this.$tip=c(this.options.template)}return this.$tip};var a=c.fn.popover;c.fn.popover=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.popover");var e=typeof d=="object"&&d;if(!f&&d=="destroy"){return}if(!f){g.data("bs.popover",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.popover.Constructor=b;c.fn.popover.noConflict=function(){c.fn.popover=a;return this}}(jQuery);+function(c){function b(f,e){var d;var g=c.proxy(this.process,this);this.$element=c(f).is("body")?c(window):c(f);this.$body=c("body");this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",g);this.options=c.extend({},b.DEFAULTS,e);this.selector=(this.options.target||((d=c(f).attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""))||"")+" .nav li > a";this.offsets=c([]);this.targets=c([]);this.activeTarget=null;this.refresh();this.process()}b.DEFAULTS={offset:10};b.prototype.refresh=function(){var d=this.$element[0]==window?"offset":"position";this.offsets=c([]);this.targets=c([]);var e=this;var f=this.$body.find(this.selector).map(function(){var h=c(this);var g=h.data("target")||h.attr("href");var k=/^#./.test(g)&&c(g);return(k&&k.length&&k.is(":visible")&&[[k[d]().top+(!c.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),g]])||null}).sort(function(h,g){return h[0]-g[0]}).each(function(){e.offsets.push(this[0]);e.targets.push(this[1])})};b.prototype.process=function(){var k=this.$scrollElement.scrollTop()+this.options.offset;var f=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight;var h=f-this.$scrollElement.height();var g=this.offsets;var d=this.targets;var l=this.activeTarget;var e;if(k>=h){return l!=(e=d.last()[0])&&this.activate(e)}if(l&&k<=g[0]){return l!=(e=d[0])&&this.activate(e)}for(e=g.length;e--;){l!=d[e]&&k>=g[e]&&(!g[e+1]||k<=g[e+1])&&this.activate(d[e])}};b.prototype.activate=function(f){this.activeTarget=f;c(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var d=this.selector+'[data-target="'+f+'"],'+this.selector+'[href="'+f+'"]';var e=c(d).parents("li").addClass("active");if(e.parent(".dropdown-menu").length){e=e.closest("li.dropdown").addClass("active")}e.trigger("activate.bs.scrollspy")};var a=c.fn.scrollspy;c.fn.scrollspy=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.scrollspy");var e=typeof d=="object"&&d;if(!f){g.data("bs.scrollspy",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.scrollspy.Constructor=b;c.fn.scrollspy.noConflict=function(){c.fn.scrollspy=a;return this};c(window).on("load",function(){c('[data-spy="scroll"]').each(function(){var d=c(this);d.scrollspy(d.data())})})}(jQuery);+function(c){var b=function(d){this.element=c(d)};b.prototype.show=function(){var l=this.element;var g=l.closest("ul:not(.dropdown-menu)");var f=l.data("target");if(!f){f=l.attr("href");f=f&&f.replace(/.*(?=#[^\s]*$)/,"")}if(l.parent("li").hasClass("active")){return}var h=g.find(".active:last a")[0];var k=c.Event("show.bs.tab",{relatedTarget:h});l.trigger(k);if(k.isDefaultPrevented()){return}var d=c(f);this.activate(l.parent("li"),g);this.activate(d,d.parent(),function(){l.trigger({type:"shown.bs.tab",relatedTarget:h})})};b.prototype.activate=function(f,e,k){var d=e.find("> .active");var h=k&&c.support.transition&&d.hasClass("fade");function g(){d.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");f.addClass("active");if(h){f[0].offsetWidth;f.addClass("in")}else{f.removeClass("fade")}if(f.parent(".dropdown-menu")){f.closest("li.dropdown").addClass("active")}k&&k()}h?d.one(c.support.transition.end,g).emulateTransitionEnd(150):g();d.removeClass("in")};var a=c.fn.tab;c.fn.tab=function(d){return this.each(function(){var f=c(this);var e=f.data("bs.tab");if(!e){f.data("bs.tab",(e=new b(this)))}if(typeof d=="string"){e[d]()}})};c.fn.tab.Constructor=b;c.fn.tab.noConflict=function(){c.fn.tab=a;return this};c(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(d){d.preventDefault();c(this).tab("show")})}(jQuery);+function(c){var b=function(e,d){this.options=c.extend({},b.DEFAULTS,d);this.$window=c(window).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this));this.$element=c(e);this.affixed=this.unpin=this.pinnedOffset=null;this.checkPosition()};b.RESET="affix affix-top affix-bottom";b.DEFAULTS={offset:0};b.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(b.RESET).addClass("affix");var e=this.$window.scrollTop();var d=this.$element.offset();return(this.pinnedOffset=d.top-e)};b.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)};b.prototype.checkPosition=function(){if(!this.$element.is(":visible")){return}var o=c(document).height();var d=this.$window.scrollTop();var l=this.$element.offset();var h=this.options.offset;var f=h.top;var g=h.bottom;if(this.affixed=="top"){l.top+=d}if(typeof h!="object"){g=f=h}if(typeof f=="function"){f=h.top(this.$element)}if(typeof g=="function"){g=h.bottom(this.$element)}var k=this.unpin!=null&&(d+this.unpin<=l.top)?false:g!=null&&(l.top+this.$element.height()>=o-g)?"bottom":f!=null&&(d<=f)?"top":false;if(this.affixed===k){return}if(this.unpin){this.$element.css("top","")}var n="affix"+(k?"-"+k:"");var m=c.Event(n+".bs.affix");this.$element.trigger(m);if(m.isDefaultPrevented()){return}this.affixed=k;this.unpin=k=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(b.RESET).addClass(n).trigger(c.Event(n.replace("affix","affixed")));if(k=="bottom"){this.$element.offset({top:o-g-this.$element.height()})}};var a=c.fn.affix;c.fn.affix=function(d){return this.each(function(){var g=c(this);var f=g.data("bs.affix");var e=typeof d=="object"&&d;if(!f){g.data("bs.affix",(f=new b(this,e)))}if(typeof d=="string"){f[d]()}})};c.fn.affix.Constructor=b;c.fn.affix.noConflict=function(){c.fn.affix=a;return this};c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var e=c(this);var d=e.data();d.offset=d.offset||{};if(d.offsetBottom){d.offset.bottom=d.offsetBottom}if(d.offsetTop){d.offset.top=d.offsetTop}e.affix(d)})})}(jQuery);!function(s,r,q,p){var o="prettyCheckable",n="plugin_"+o,m={label:"",labelPosition:"right",customClass:"",color:"blue"},l=function(a){r.ko&&s(a).on("change",function(d){if(d.preventDefault(),d.originalEvent===p){var t=s(this).closest(".clearfix"),h=s(t).find("a:first"),g=h.hasClass("checked");g===!0?h.addClass("checked"):h.removeClass("checked")}}),a.find("a:first, label").on("touchstart click",function(t){t.preventDefault();var h=s(this).closest(".clearfix"),g=h.find("input"),b=h.find("a:first");b.hasClass("disabled")!==!0&&("radio"===g.prop("type")&&s('input[name="'+g.attr("name")+'"]').each(function(d,e){s(e).prop("checked",!1).parent().find("a:first").removeClass("checked")}),r.ko?ko.utils.triggerEvent(g[0],"click"):g.prop("checked")?g.prop("checked",!1).change():g.prop("checked",!0).change(),b.toggleClass("checked"))}),a.find("a:first").on("keyup",function(c){32===c.keyCode&&s(this).click()})},k=function(a){this.element=a,this.options=s.extend({},m)};k.prototype={init:function(A){s.extend(this.options,A);var z=s(this.element);z.parent().addClass("has-pretty-child"),z.css("display","none");var y=z.data("type")!==p?z.data("type"):z.attr("type"),x=z.data("label")!==p?z.data("label"):this.options.label,w=z.data("labelposition")!==p?"label"+z.data("labelposition"):"label"+this.options.labelPosition,v=z.data("customclass")!==p?z.data("customclass"):this.options.customClass,u=z.data("color")!==p?z.data("color"):this.options.color,t=z.prop("disabled")===!0?"disabled":"",h=["pretty"+y,w,v,u].join(" ");z.wrap('<div class="clearfix '+h+'"></div>').parent().html();var d=[],a=z.prop("checked")?"checked":"";"labelright"===w?(d.push('<a href="#" class="'+a+" "+t+'"></a>'),d.push('<label for="'+z.attr("id")+'">'+x+"</label>")):(d.push('<label for="'+z.attr("id")+'">'+x+"</label>"),d.push('<a href="#" class="'+a+" "+t+'"></a>')),z.parent().append(d.join("\n")),l(z.parent())},check:function(){s(this.element).prop("checked",!0).attr("checked",!0).parent().find("a:first").addClass("checked")},uncheck:function(){s(this.element).prop("checked",!1).attr("checked",!1).parent().find("a:first").removeClass("checked")},enable:function(){s(this.element).removeAttr("disabled").parent().find("a:first").removeClass("disabled")},disable:function(){s(this.element).attr("disabled","disabled").parent().find("a:first").addClass("disabled")},destroy:function(){var a=s(this.element),d=a.clone();d.removeAttr("style").insertBefore(a.parent()),a.parent().remove()}},s.fn[o]=function(a){var f,e;if(this.data(n) instanceof k||this.data(n,new k(this)),e=this.data(n),e.element=this,"undefined"==typeof a||"object"==typeof a){"function"==typeof e.init&&e.init(a)}else{if("string"==typeof a&&"function"==typeof e[a]){return f=Array.prototype.slice.call(arguments,1),e[a].apply(e,f)}s.error("Method "+a+" does not exist on jQuery."+o)}}}(jQuery,window,document);
/*!==========================================================
 * bootstrap-select v1.4.2
 * http://silviomoreto.github.io/bootstrap-select/
 *
 * Copyright 2013 bootstrap-select
 * Licensed under the MIT license
 * ==========================================================*/
;!function(c){c.expr[":"].icontains=function(a,f,b){return c(a).text().toUpperCase().indexOf(b[3].toUpperCase())>=0};var d=function(b,e,a){if(a){a.stopPropagation();a.preventDefault()}this.$element=c(b);this.$newElement=null;this.$button=null;this.$menu=null;this.options=c.extend({},c.fn.selectpicker.defaults,this.$element.data(),typeof e=="object"&&e);if(this.options.title===null){this.options.title=this.$element.attr("title")}this.val=d.prototype.val;this.render=d.prototype.render;this.refresh=d.prototype.refresh;this.setStyle=d.prototype.setStyle;this.selectAll=d.prototype.selectAll;this.deselectAll=d.prototype.deselectAll;this.init()};d.prototype={constructor:d,init:function(){this.$element.hide();this.multiple=this.$element.prop("multiple");var a=this.$element.attr("id");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");this.$button=this.$newElement.find("> button");this.$searchbox=this.$newElement.find("input");if(a!==undefined){var b=this;this.$button.attr("data-id",a);c('label[for="'+a+'"]').click(function(e){e.preventDefault();b.$button.focus()})}this.checkDisabled();this.clickListener();if(this.options.liveSearch){this.liveSearchListener()}this.render();this.liHeight();this.setStyle();this.setWidth();if(this.options.container){this.selectPosition()}this.$menu.data("this",this);this.$newElement.data("this",this)},createDropdown:function(){var h=this.multiple?" show-tick":"";var a=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var b=this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" /></div>':"";var g='<div class="btn-group bootstrap-select'+h+'"><button type="button" class="btn dropdown-toggle selectpicker" data-toggle="dropdown"><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+a+b+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return c(g)},createView:function(){var b=this.createDropdown();var a=this.createLi();b.find("ul").append(a);return b},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var b=this,a=[],f="";this.$element.find("option").each(function(){var s=c(this);var u=s.attr("class")||"";var t=s.attr("style")||"";var o=s.data("content")?s.data("content"):s.html();var q=s.data("subtext")!==undefined?'<small class="muted text-muted">'+s.data("subtext")+"</small>":"";var r=s.data("icon")!==undefined?'<i class="'+b.options.iconBase+" "+s.data("icon")+'"></i> ':"";if(r!==""&&(s.is(":disabled")||s.parent().is(":disabled"))){r="<span>"+r+"</span>"}if(!s.data("content")){o=r+'<span class="text">'+o+q+"</span>"}if(b.options.hideDisabled&&(s.is(":disabled")||s.parent().is(":disabled"))){a.push('<a style="min-height: 0; padding: 0"></a>')}else{if(s.parent().is("optgroup")&&s.data("divider")!==true){if(s.index()===0){var p=s.parent().attr("label");var e=s.parent().data("subtext")!==undefined?'<small class="muted text-muted">'+s.parent().data("subtext")+"</small>":"";var v=s.parent().data("icon")?'<i class="'+s.parent().data("icon")+'"></i> ':"";p=v+'<span class="text">'+p+e+"</span>";if(s[0].index!==0){a.push('<div class="div-contain"><div class="divider"></div></div><dt>'+p+"</dt>"+b.createA(o,"opt "+u,t))}else{a.push("<dt>"+p+"</dt>"+b.createA(o,"opt "+u,t))}}else{a.push(b.createA(o,"opt "+u,t))}}else{if(s.data("divider")===true){a.push('<div class="div-contain"><div class="divider"></div></div>')}else{if(c(this).data("hidden")===true){a.push("")}else{a.push(b.createA(o,u,t))}}}}});c.each(a,function(h,e){f+="<li rel="+h+">"+e+"</li>"});if(!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return c(f)},createA:function(a,f,b){return'<a tabindex="0" class="'+f+'" style="'+b+'">'+a+'<i class="'+this.options.iconBase+" "+this.options.tickIcon+' icon-ok check-mark"></i></a>'},render:function(){var k=this;this.$element.find("option").each(function(e){k.setDisabled(e,c(this).is(":disabled")||c(this).parent().is(":disabled"));k.setSelected(e,c(this).is(":selected"))});this.tabIndex();var a=this.$element.find("option:selected").map(function(){var e=c(this);var f=e.data("icon")&&k.options.showIcon?'<i class="'+k.options.iconBase+" "+e.data("icon")+'"></i> ':"";var g;if(k.options.showSubtext&&e.attr("data-subtext")&&!k.multiple){g=' <small class="muted text-muted">'+e.data("subtext")+"</small>"}else{g=""}if(e.data("content")&&k.options.showContent){return e.data("content")}else{if(e.attr("title")!==undefined){return e.attr("title")}else{return f+e.html()+g}}}).toArray();var b=!this.multiple?a[0]:a.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var l=this.options.selectedTextFormat.split(">");var h=this.options.hideDisabled?":not([disabled])":"";if((l.length>1&&a.length>l[1])||(l.length==1&&a.length>=2)){b=this.options.countSelectedText.replace("{0}",a.length).replace("{1}",this.$element.find('option:not([data-divider="true"]):not([data-hidden="true"])'+h).length)}}if(!b){b=this.options.title!==undefined?this.options.title:this.options.noneSelectedText}this.$newElement.find(".filter-option").html(b)},setStyle:function(a,b){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device/gi,""))}var f=a?a:this.options.style;if(b=="add"){this.$button.addClass(f)}else{if(b=="remove"){this.$button.removeClass(f)}else{this.$button.removeClass(this.options.style);this.$button.addClass(f)}}},liHeight:function(){var h=this.$menu.parent().clone().appendTo("body"),b=h.addClass("open").find("> .dropdown-menu"),k=b.find("li > a").outerHeight(),l=this.options.header?b.find(".popover-title").outerHeight():0,a=this.options.liveSearch?b.find(".bootstrap-select-searchbox").outerHeight():0;h.remove();this.$newElement.data("liHeight",k).data("headerHeight",l).data("searchHeight",a)},setSize:function(){var G=this,K=this.$menu,F=K.find(".inner"),b=this.$newElement.outerHeight(),I=this.$newElement.data("liHeight"),w=this.$newElement.data("headerHeight"),C=this.$newElement.data("searchHeight"),D=K.find("li .divider").outerHeight(true),x=parseInt(K.css("padding-top"))+parseInt(K.css("padding-bottom"))+parseInt(K.css("border-top-width"))+parseInt(K.css("border-bottom-width")),z=this.options.hideDisabled?":not(.disabled)":"",A=c(window),H=x+parseInt(K.css("margin-top"))+parseInt(K.css("margin-bottom"))+2,y,a,v,E=function(){a=G.$newElement.offset().top-A.scrollTop();v=A.height()-a-b};E();if(this.options.header){K.css("padding-top",0)}if(this.options.size=="auto"){var J=function(){var e;E();y=v-H;if(G.options.dropupAuto){G.$newElement.toggleClass("dropup",(a>v)&&((y-H)<K.height()))}if(G.$newElement.hasClass("dropup")){y=a-H}if((K.find("li").length+K.find("dt").length)>3){e=I*3+H-2}else{e=0}K.css({"max-height":y+"px",overflow:"hidden","min-height":e+"px"});F.css({"max-height":y-w-C-x+"px","overflow-y":"auto","min-height":e-x+"px"})};J();c(window).resize(J);c(window).scroll(J)}else{if(this.options.size&&this.options.size!="auto"&&K.find("li"+z).length>this.options.size){var B=K.find("li"+z+" > *").filter(":not(.div-contain)").slice(0,this.options.size).last().parent().index();var L=K.find("li").slice(0,B+1).find(".div-contain").length;y=I*this.options.size+L*D+x;if(G.options.dropupAuto){this.$newElement.toggleClass("dropup",(a>v)&&(y<K.height()))}K.css({"max-height":y+w+C+"px",overflow:"hidden"});F.css({"max-height":y-x+"px","overflow-y":"auto"})}}},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body");var b=a.find("> .dropdown-menu").css("width");a.remove();this.$newElement.css("width",b)}else{if(this.options.width=="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else{if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}}}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){var l=this,m="<div />",k=c(m),a,b,n=function(e){k.addClass(e.attr("class")).toggleClass("dropup",e.hasClass("dropup"));a=e.offset();b=e.hasClass("dropup")?0:e[0].offsetHeight;k.css({top:a.top+b,left:a.left,width:e[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){n(c(this));k.appendTo(l.options.container);k.toggleClass("open",!c(this).hasClass("open"));k.append(l.$menu)});c(window).resize(function(){n(l.$newElement)});c(window).on("scroll",function(){n(l.$newElement)});c("html").on("click",function(e){if(c(e.target).closest(l.$newElement).length<1){k.removeClass("open")}})},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);if(this.options.container){this.$menu.hide()}},refresh:function(){this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},setSelected:function(b,a){this.$menu.find("li").eq(b).toggleClass("selected",a)},setDisabled:function(b,a){if(a){this.$menu.find("li").eq(b).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1)}else{this.$menu.find("li").eq(b).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)}},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;if(this.isDisabled()){this.$button.addClass("disabled").attr("tabindex",-1)}else{if(this.$button.hasClass("disabled")){this.$button.removeClass("disabled")}if(this.$button.attr("tabindex")==-1){if(!this.$element.data("tabindex")){this.$button.removeAttr("tabindex")}}}this.$button.click(function(){return !a.isDisabled()})},tabIndex:function(){if(this.$element.is("[tabindex]")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}},clickListener:function(){var a=this;c("body").on("touchstart.dropdown",".dropdown-menu",function(b){b.stopPropagation()});this.$newElement.on("click",function(){a.setSize();if(!a.options.liveSearch&&!a.multiple){setTimeout(function(){a.$menu.find(".selected a").focus()},10)}});this.$menu.on("click","li a",function(b){var n=c(this).parent().index(),e=a.$element.val(),o=a.$element.prop("selectedIndex");if(a.multiple){b.stopPropagation()}b.preventDefault();if(!a.isDisabled()&&!c(this).parent().hasClass("disabled")){var p=a.$element.find("option");var l=p.eq(n);if(!a.multiple){p.prop("selected",false);l.prop("selected",true)}else{var m=l.prop("selected");l.prop("selected",!m)}if(!a.multiple){a.$button.focus()}else{if(a.options.liveSearch){a.$searchbox.focus()}}if((e!=a.$element.val()&&a.multiple)||(o!=a.$element.prop("selectedIndex")&&!a.multiple)){a.$element.change()}}});this.$menu.on("click","li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)",function(b){if(b.target==this){b.preventDefault();b.stopPropagation();if(!a.options.liveSearch){a.$button.focus()}else{a.$searchbox.focus()}}});this.$menu.on("click",".popover-title .close",function(){a.$button.focus()});this.$searchbox.on("click",function(b){b.stopPropagation()});this.$element.change(function(){a.render()})},liveSearchListener:function(){var a=this,b=c('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){a.$menu.find(".active").removeClass("active");if(!!a.$searchbox.val()){a.$searchbox.val("");a.$menu.find("li").show();if(!!b.parent().length){b.remove()}}if(!a.multiple){a.$menu.find(".selected").addClass("active")}setTimeout(function(){a.$searchbox.focus()},10)});this.$searchbox.on("input propertychange",function(){if(a.$searchbox.val()){a.$menu.find("li").show().not(":icontains("+a.$searchbox.val()+")").hide();if(!a.$menu.find("li").filter(":visible:not(.no-results)").length){if(!!b.parent().length){b.remove()}b.html('No results match "'+a.$searchbox.val()+'"').show();a.$menu.find("li").last().after(b)}else{if(!!b.parent().length){b.remove()}}}else{a.$menu.find("li").show();if(!!b.parent().length){b.remove()}}a.$menu.find("li.active").removeClass("active");if((!navigator.userAgent.match(/iPhone/i))&&(!navigator.userAgent.match(/iPad/i))){a.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus();c(this).focus()}});this.$menu.on("mouseenter","a",function(e){a.$menu.find(".active").removeClass("active");c(e.currentTarget).parent().not(".disabled").addClass("active")});this.$menu.on("mouseleave","a",function(){a.$menu.find(".active").removeClass("active")})},val:function(a){if(a!==undefined){this.$element.val(a);this.$element.change();return this.$element}else{return this.$element.val()}},selectAll:function(){this.$element.find("option").prop("selected",true).attr("selected","selected");this.render()},deselectAll:function(){this.$element.find("option").prop("selected",false).removeAttr("selected");this.render()},keydown:function(e){var b,u,A,v,y,z,a,D,B,w,E,H,C={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};b=c(this);A=b.parent();if(b.is("input")){A=b.parent().parent()}w=A.data("this");if(w.options.liveSearch){A=b.parent().parent()}if(w.options.container){A=w.$menu}u=c("[role=menu] li:not(.divider) a",A);H=w.$menu.parent().hasClass("open");if(w.options.liveSearch){if(/(^9$|27)/.test(e.keyCode)&&H&&w.$menu.find(".active").length===0){e.preventDefault();w.$menu.parent().removeClass("open");w.$button.focus()}u=c("[role=menu] li:not(.divider):visible",A);if(!b.val()&&!/(38|40)/.test(e.keyCode)){if(u.filter(".active").length===0){u=w.$newElement.find("li").filter(":icontains("+C[e.keyCode]+")")}}}if(!u.length){return}if(/(38|40)/.test(e.keyCode)){if(!H){w.$menu.parent().addClass("open")}v=u.index(u.filter(":focus"));z=u.parent(":not(.disabled):visible").first().index();a=u.parent(":not(.disabled):visible").last().index();y=u.eq(v).parent().nextAll(":not(.disabled):visible").eq(0).index();D=u.eq(v).parent().prevAll(":not(.disabled):visible").eq(0).index();B=u.eq(y).parent().prevAll(":not(.disabled):visible").eq(0).index();if(w.options.liveSearch){u.each(function(f){if(c(this).is(":not(.disabled)")){c(this).data("index",f)}});v=u.index(u.filter(".active"));z=u.filter(":not(.disabled):visible").first().data("index");a=u.filter(":not(.disabled):visible").last().data("index");y=u.eq(v).nextAll(":not(.disabled):visible").eq(0).data("index");D=u.eq(v).prevAll(":not(.disabled):visible").eq(0).data("index");B=u.eq(y).prevAll(":not(.disabled):visible").eq(0).data("index")}E=b.data("prevIndex");if(e.keyCode==38){if(w.options.liveSearch){v-=1}if(v!=B&&v>D){v=D}if(v<z){v=z}if(v==E){v=a}}if(e.keyCode==40){if(w.options.liveSearch){v+=1}if(v==-1){v=0}if(v!=B&&v<y){v=y}if(v>a){v=a}if(v==E){v=z}}b.data("prevIndex",v);if(!w.options.liveSearch){u.eq(v).focus()}else{e.preventDefault();if(!b.is(".dropdown-toggle")){u.removeClass("active");u.eq(v).addClass("active").find("a").focus();b.focus()}}}else{if(!b.is("input")){var F=[],x,G;u.each(function(){if(c(this).parent().is(":not(.disabled)")){if(c.trim(c(this).text().toLowerCase()).substring(0,1)==C[e.keyCode]){F.push(c(this).parent().index())}}});x=c(document).data("keycount");x++;c(document).data("keycount",x);G=c.trim(c(":focus").text().toLowerCase()).substring(0,1);if(G!=C[e.keyCode]){x=1;c(document).data("keycount",x)}else{if(x>=F.length){c(document).data("keycount",0);if(x>F.length){x=1}}}u.eq(F[x-1]).focus()}}if(/(13|32|^9$)/.test(e.keyCode)&&H){if(!/(32)/.test(e.keyCode)){e.preventDefault()}if(!w.options.liveSearch){c(":focus").click()}else{if(!/(32)/.test(e.keyCode)){w.$menu.find(".active a").click();b.focus()}}c(document).data("keycount",0)}if((/(^9$|27)/.test(e.keyCode)&&H&&(w.multiple||w.options.liveSearch))||(/(27)/.test(e.keyCode)&&!H)){w.$menu.parent().removeClass("open");w.$button.focus()}},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},destroy:function(){this.$newElement.remove();this.$element.remove()}};c.fn.selectpicker=function(h,b){var l=arguments;var a;var k=this.each(function(){if(c(this).is("select")){var e=c(this),f=e.data("selectpicker"),o=typeof h=="object"&&h;if(!f){e.data("selectpicker",(f=new d(this,o,b)))}else{if(o){for(var n in o){f.options[n]=o[n]}}}if(typeof h=="string"){var g=h;if(f[g] instanceof Function){[].shift.apply(l);a=f[g].apply(f,l)}else{a=f.options[g]}}}});if(a!==undefined){return a}else{return k}};c.fn.selectpicker.defaults={style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",noneSelectedText:"Nothing selected",countSelectedText:"{0} of {1} selected",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,multipleSeparator:", ",iconBase:"glyphicon",tickIcon:"glyphicon-ok"};c(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",d.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",function(a){a.stopPropagation()})}(window.jQuery);!function(b){var a=function(c,e){e=b.extend({},b.fn.rowlink.defaults,e);var d=c.nodeName.toLowerCase()=="tr"?b(c):b(c).find("tr:has(td)");d.each(function(){var f=b(this).find(e.target).first();if(!f.length){return}var g=f.attr("href");b(this).find("td").not(".nolink").click(function(){window.location=g}),b(this).addClass("rowlink"),f.replaceWith(f.html())})};b.fn.rowlink=function(c){return this.each(function(){var e=b(this),d=e.data("rowlink");d||e.data("rowlink",d=new a(this,c))})},b.fn.rowlink.defaults={target:"a"},b.fn.rowlink.Constructor=a,b(function(){b('[data-provide="rowlink"],[data-provides="rowlink"]').each(function(){b(this).rowlink(b(this).data())})})}(window.jQuery);!function(g){var h=(window.orientation!==undefined),e=navigator.userAgent.toLowerCase().indexOf("android")>-1;var f=function(a,b){if(e){return}this.$element=g(a);this.options=g.extend({},g.fn.inputmask.defaults,b);this.mask=String(b.mask);this.init();this.listen();this.checkVal()};f.prototype={init:function(){var a=this.options.definitions;var b=this.mask.length;this.tests=[];this.partialPosition=this.mask.length;this.firstNonMaskPos=null;g.each(this.mask.split(""),g.proxy(function(d,c){if(c=="?"){b--;this.partialPosition=d}else{if(a[c]){this.tests.push(new RegExp(a[c]));if(this.firstNonMaskPos===null){this.firstNonMaskPos=this.tests.length-1}}else{this.tests.push(null)}}},this));this.buffer=g.map(this.mask.split(""),g.proxy(function(c,d){if(c!="?"){return a[c]?this.options.placeholder:c}},this));this.focusText=this.$element.val();this.$element.data("rawMaskFn",g.proxy(function(){return g.map(this.buffer,function(c,d){return this.tests[d]&&c!=this.options.placeholder?c:null}).join("")},this))},listen:function(){if(this.$element.attr("readonly")){return}var a=(navigator.userAgent.match(/msie/i)?"paste":"input")+".mask";this.$element.on("unmask",g.proxy(this.unmask,this)).on("focus.mask",g.proxy(this.focusEvent,this)).on("blur.mask",g.proxy(this.blurEvent,this)).on("keydown.mask",g.proxy(this.keydownEvent,this)).on("keypress.mask",g.proxy(this.keypressEvent,this)).on(a,g.proxy(this.pasteEvent,this))},caret:function(a,c){if(this.$element.length===0){return}if(typeof a=="number"){c=(typeof c=="number")?c:a;return this.$element.each(function(){if(this.setSelectionRange){this.setSelectionRange(a,c)}else{if(this.createTextRange){var d=this.createTextRange();d.collapse(true);d.moveEnd("character",c);d.moveStart("character",a);d.select()}}})}else{if(this.$element[0].setSelectionRange){a=this.$element[0].selectionStart;c=this.$element[0].selectionEnd}else{if(document.selection&&document.selection.createRange){var b=document.selection.createRange();a=0-b.duplicate().moveStart("character",-100000);c=a+b.text.length}}return{begin:a,end:c}}},seekNext:function(a){var b=this.mask.length;while(++a<=b&&!this.tests[a]){}return a},seekPrev:function(a){while(--a>=0&&!this.tests[a]){}return a},shiftL:function(a,d){var l=this.mask.length;if(a<0){return}for(var b=a,c=this.seekNext(d);b<l;b++){if(this.tests[b]){if(c<l&&this.tests[b].test(this.buffer[c])){this.buffer[b]=this.buffer[c];this.buffer[c]=this.options.placeholder}else{break}c=this.seekNext(c)}}this.writeBuffer();this.caret(Math.max(this.firstNonMaskPos,a))},shiftR:function(a){var n=this.mask.length;for(var c=a,b=this.options.placeholder;c<n;c++){if(this.tests[c]){var m=this.seekNext(c);var d=this.buffer[c];this.buffer[c]=b;if(m<n&&this.tests[m].test(d)){b=d}else{break}}}},unmask:function(){this.$element.unbind(".mask").removeData("inputmask")},focusEvent:function(){this.focusText=this.$element.val();var d=this.mask.length;var a=this.checkVal();this.writeBuffer();var b=this;var c=function(){if(a==d){b.caret(0,a)}else{b.caret(a)}};if(g.support.msie){c()}else{setTimeout(c,0)}},blurEvent:function(){this.checkVal();if(this.$element.val()!=this.focusText){this.$element.trigger("change")}},keydownEvent:function(b){var d=b.which;if(d==8||d==46||(h&&d==127)){var a=this.caret(),c=a.begin,k=a.end;if(k-c===0){c=d!=46?this.seekPrev(c):(k=this.seekNext(c-1));k=d==46?this.seekNext(k):k}this.clearBuffer(c,k);this.shiftL(c,k-1);return false}else{if(d==27){this.$element.val(this.focusText);this.caret(0,this.checkVal());return false}}},keypressEvent:function(c){var o=this.mask.length;var n=c.which,a=this.caret();if(c.ctrlKey||c.altKey||c.metaKey||n<32){return true}else{if(n){if(a.end-a.begin!==0){this.clearBuffer(a.begin,a.end);this.shiftL(a.begin,a.end-1)}var d=this.seekNext(a.begin-1);if(d<o){var b=String.fromCharCode(n);if(this.tests[d].test(b)){this.shiftR(d);this.buffer[d]=b;this.writeBuffer();var k=this.seekNext(d);this.caret(k)}}return false}}},pasteEvent:function(){var a=this;setTimeout(function(){a.caret(a.checkVal(true))},0)},clearBuffer:function(a,c){var d=this.mask.length;for(var b=a;b<c&&b<d;b++){if(this.tests[b]){this.buffer[b]=this.options.placeholder}}},writeBuffer:function(){return this.$element.val(this.buffer.join("")).val()},checkVal:function(m){var o=this.mask.length;var a=this.$element.val();var b=-1;for(var n=0,c=0;n<o;n++){if(this.tests[n]){this.buffer[n]=this.options.placeholder;while(c++<a.length){var d=a.charAt(c-1);if(this.tests[n].test(d)){this.buffer[n]=d;b=n;break}}if(c>a.length){break}}else{if(this.buffer[n]==a.charAt(c)&&n!=this.partialPosition){c++;b=n}}}if(!m&&b+1<this.partialPosition){this.$element.val("");this.clearBuffer(0,o)}else{if(m||b+1>=this.partialPosition){this.writeBuffer();if(!m){this.$element.val(this.$element.val().substring(0,b+1))}}}return(this.partialPosition?n:this.firstNonMaskPos)}};g.fn.inputmask=function(a){return this.each(function(){var b=g(this),c=b.data("inputmask");if(!c){b.data("inputmask",(c=new f(this,a)))}})};g.fn.inputmask.defaults={mask:"",placeholder:"_",definitions:{"9":"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}};g.fn.inputmask.Constructor=f;g(document).on("focus.inputmask.data-api","[data-mask]",function(a){var b=g(this);if(b.data("inputmask")){return}a.preventDefault();b.inputmask(b.data())})}(window.jQuery);(function(b){b.fn.jflickrfeed=function(k,g){k=b.extend(true,{flickrbase:"http://api.flickr.com/services/feeds/",feedapi:"photos_public.gne",limit:20,qstrings:{lang:"en-us",format:"json",jsoncallback:"?"},cleanDescription:true,useTemplate:true,itemTemplate:"",itemCallback:function(){}},k);var a=k.flickrbase+k.feedapi+"?";var h=true;for(var l in k.qstrings){if(!h){a+="&"}a+=l+"="+k.qstrings[l];h=false}return b(this).each(function(){var c=b(this);var d=this;b.getJSON(a,function(e){b.each(e.items,function(f,t){if(f<k.limit){if(k.cleanDescription){var u=/<p>(.*?)<\/p>/g;var s=t.description;if(u.test(s)){t.description=s.match(u)[2];if(t.description!=undefined){t.description=t.description.replace("<p>","").replace("</p>","")}}}t.image_s=t.media.m.replace("_m","_s");t.image_t=t.media.m.replace("_m","_t");t.image_m=t.media.m.replace("_m","_m");t.image=t.media.m.replace("_m","");t.image_b=t.media.m.replace("_m","_b");delete t.media;if(k.useTemplate){var v=k.itemTemplate;for(var q in t){var r=new RegExp("{{"+q+"}}","g");v=v.replace(r,t[q])}c.append(v)}k.itemCallback.call(d,t)}});if(b.isFunction(g)){g.call(d,e)}})})}})(jQuery);(function(){(function(a){a.fn.extend({maxlength:function(B,k){function C(f){var c=f.val(),h=c.match(/\n/g),d=h?h.length:0;return f.val().length+d}function g(f,h,d){var c=!0;return !B.alwaysShow&&d-C(f)>h&&(c=!1),c}function A(d,c){var f=c-C(d);return f}function z(c){c.css({display:"block"})}function w(c){c.css({display:"none"})}function m(d,f){var c="";return B.preText&&(c+=B.preText),B.showMaxLength?c=c+f+B.separator+d:c+=f,B.postText&&(c+=B.postText),c}function y(f,h,d,c){c.html(m(d,f)),f>0?g(h,B.threshold,d)?z(c.removeClass(B.limitReachedClass).addClass(B.warningClass)):w(c):z(c.removeClass(B.warningClass).addClass(B.limitReachedClass))}function v(c){var d=c[0];return a.extend({},typeof d.getBoundingClientRect=="function"?d.getBoundingClientRect():{width:d.offsetWidth,height:d.offsetHeight},c.offset())}function e(l,t){var h=v(l),d=l.outerWidth(),f=t.outerWidth(),p=t.width(),c=t.height();switch(B.placement){case"bottom":t.css({top:h.top+h.height,left:h.left+h.width/2-p/2});break;case"top":t.css({top:h.top-c,left:h.left+h.width/2-p/2});break;case"left":t.css({top:h.top+h.height/2-c/2,left:h.left-p});break;case"right":t.css({top:h.top+h.height/2-c/2,left:h.left+h.width});break;case"bottom-right":t.css({top:h.top+h.height,left:h.left+h.width});break;case"top-right":t.css({top:h.top-c,left:h.left+d});break;case"top-left":t.css({top:h.top-c,left:h.left-f});break;case"bottom-left":t.css({top:h.top+l.outerHeight(),left:h.left-f});break;case"centered-right":t.css({top:h.top+c/2,left:h.left+d-f-3})}}function x(c){return c.attr("maxlength")||c.attr("size")}var b=a("body"),q={alwaysShow:!1,threshold:10,warningClass:"badge badge-success",limitReachedClass:"badge badge-important",separator:" / ",preText:"",postText:"",showMaxLength:!0,placement:"bottom",validate:!1};return a.isFunction(B)&&!k&&(k=B,B={}),B=a.extend(q,B),this.each(function(){var f=a(this),c=x(f),d=a("<span></span>").css({display:"none",position:"absolute",whiteSpace:"nowrap",zIndex:999}).html(m(c,"0"));f.is("textarea")&&(f.data("maxlenghtsizex",f.outerWidth()),f.data("maxlenghtsizey",f.outerHeight()),f.mouseup(function(){(f.outerWidth()!==f.data("maxlenghtsizex")||f.outerHeight()!==f.data("maxlenghtsizey"))&&e(f,d),f.data("maxlenghtsizex",f.outerWidth()),f.data("maxlenghtsizey",f.outerHeight())})),b.append(d),f.focus(function(){var h=A(f,x(f));y(h,f,c,d),e(f,d)}),f.blur(function(){d.css("display","none")}),f.keyup(function(){var l=A(f,x(f)),h=!0;return B.validate&&l<0?h=!1:y(l,f,c,d),h}),f.keydown(function(l){var h=A(f,x(f));if(h<=0&&l.keyCode!==46&&l.keyCode!==8){return !1}})})}})})(jQuery)}).call(this);!function(a){var b=function(e){this.value={h:1,s:1,b:1,a:1};this.setColor(e)};b.prototype={constructor:b,setColor:function(f){f=f.toLowerCase();var e=this;a.each(d.stringParsers,function(h,o){var g=o.re.exec(f),l=g&&o.parse(g),k=o.space||"rgba";if(l){if(k==="hsla"){e.value=d.RGBtoHSB.apply(null,d.HSLtoRGB.apply(null,l))}else{e.value=d.RGBtoHSB.apply(null,l)}return false}})},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt((1-e)*100,10)/100},toRGB:function(h,n,k,l){if(!h){h=this.value.h;n=this.value.s;k=this.value.b}h*=360;var g,m,e,f,t;h=(h%360)/60;t=k*n;f=t*(1-Math.abs(h%2-1));g=m=e=k-t;h=~~h;g+=[t,f,0,0,f,t][h];m+=[f,t,t,f,0,0][h];e+=[0,0,f,t,t,f][h];return{r:Math.round(g*255),g:Math.round(m*255),b:Math.round(e*255),a:l||this.value.a}},toHex:function(f,e,g,h){var l=this.toRGB(f,e,g,h);return"#"+((1<<24)|(parseInt(l.r)<<16)|(parseInt(l.g)<<8)|parseInt(l.b)).toString(16).substr(1)},toHSL:function(g,f,p,e){if(!g){g=this.value.h;f=this.value.s;p=this.value.b}var l=g,k=(2-f)*p,h=f*p;if(k>0&&k<=1){h/=k}else{h/=2-k}k/=2;if(h>1){h=1}return{h:l,s:h,l:k,a:e||this.value.a}}};var c=function(e,g){this.element=a(e);var f=g.format||this.element.data("color-format")||"hex";this.format=d.translateFormats[f];this.isInput=this.element.is("input");this.component=this.element.is(".color")?this.element.find(".input-group-addon"):false;this.picker=a(d.template).appendTo("body").on("mousedown",a.proxy(this.mousedown,this));if(this.isInput){this.element.on({focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this)})}else{if(this.component){this.component.on({click:a.proxy(this.show,this)})}else{this.element.on({click:a.proxy(this.show,this)})}}if(f==="rgba"||f==="hsla"){this.picker.addClass("alpha");this.alpha=this.picker.find(".colorpicker-alpha")[0].style}if(this.component){this.picker.find(".colorpicker-color").hide();this.preview=this.element.find("i")[0].style}else{this.preview=this.picker.find("div:last")[0].style}this.base=this.picker.find("div:first")[0].style;this.update()};c.prototype={constructor:c,show:function(e){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();a(window).on("resize",a.proxy(this.place,this));if(!this.isInput){if(e){e.stopPropagation();e.preventDefault()}}a(document).on({mousedown:a.proxy(this.hide,this)});this.element.trigger({type:"show",color:this.color})},update:function(){this.color=new b(this.isInput?this.element.prop("value"):this.element.data("color"));this.picker.find("i").eq(0).css({left:this.color.value.s*100,top:100-this.color.value.b*100}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a));this.previewColor()},setValue:function(e){this.color=new b(e);this.picker.find("i").eq(0).css({left:this.color.value.s*100,top:100-this.color.value.b*100}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a));this.previewColor();this.element.trigger({type:"changeColor",color:this.color})},hide:function(){this.picker.hide();a(window).off("resize",this.place);if(!this.isInput){a(document).off({mousedown:this.hide});if(this.component){this.element.find("input").prop("value",this.format.call(this))}this.element.data("color",this.format.call(this))}else{this.element.prop("value",this.format.call(this))}this.element.trigger({type:"hide",color:this.color})},place:function(){var e=this.component?this.component.offset():this.element.offset();this.picker.css({top:e.top+this.height,left:e.left})},previewColor:function(){try{this.preview.backgroundColor=this.format.call(this)}catch(e){this.preview.backgroundColor=this.color.toHex()}this.base.backgroundColor=this.color.toHex(this.color.value.h,1,1,1);if(this.alpha){this.alpha.backgroundColor=this.color.toHex()}},pointer:null,slider:null,mousedown:function(e){e.stopPropagation();e.preventDefault();var h=a(e.target);var g=h.closest("div");if(!g.is(".colorpicker")){if(g.is(".colorpicker-saturation")){this.slider=a.extend({},d.sliders.saturation)}else{if(g.is(".colorpicker-hue")){this.slider=a.extend({},d.sliders.hue)}else{if(g.is(".colorpicker-alpha")){this.slider=a.extend({},d.sliders.alpha)}else{return false}}}var f=g.offset();this.slider.knob=g.find("i")[0].style;this.slider.left=e.pageX-f.left;this.slider.top=e.pageY-f.top;this.pointer={left:e.pageX,top:e.pageY};a(document).on({mousemove:a.proxy(this.mousemove,this),mouseup:a.proxy(this.mouseup,this)}).trigger("mousemove")}return false},mousemove:function(f){f.stopPropagation();f.preventDefault();var e=Math.max(0,Math.min(this.slider.maxLeft,this.slider.left+((f.pageX||this.pointer.left)-this.pointer.left)));var g=Math.max(0,Math.min(this.slider.maxTop,this.slider.top+((f.pageY||this.pointer.top)-this.pointer.top)));this.slider.knob.left=e+"px";this.slider.knob.top=g+"px";if(this.slider.callLeft){this.color[this.slider.callLeft].call(this.color,e/100)}if(this.slider.callTop){this.color[this.slider.callTop].call(this.color,g/100)}this.previewColor();this.element.trigger({type:"changeColor",color:this.color});return false},mouseup:function(e){e.stopPropagation();e.preventDefault();a(document).off({mousemove:this.mousemove,mouseup:this.mouseup});return false}};a.fn.colorpicker=function(e,f){return this.each(function(){var k=a(this),h=k.data("colorpicker"),g=typeof e==="object"&&e;if(!h){k.data("colorpicker",(h=new c(this,a.extend({},a.fn.colorpicker.defaults,g))))}if(typeof e==="string"){h[e](f)}})};a.fn.colorpicker.defaults={};a.fn.colorpicker.Constructor=c;var d={translateFormats:{rgb:function(){var e=this.color.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.color.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hsl:function(){var e=this.color.toHSL();return"hsl("+Math.round(e.h*360)+","+Math.round(e.s*100)+"%,"+Math.round(e.l*100)+"%)"},hsla:function(){var e=this.color.toHSL();return"hsla("+Math.round(e.h*360)+","+Math.round(e.s*100)+"%,"+Math.round(e.l*100)+"%,"+e.a+")"},hex:function(){return this.color.toHex()}},sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},hue:{maxLeft:0,maxTop:100,callLeft:false,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:false,callTop:"setAlpha"}},RGBtoHSB:function(e,r,g,l){e/=255;r/=255;g/=255;var k,m,h,f;h=Math.max(e,r,g);f=h-Math.min(e,r,g);k=(f===0?null:h==e?(r-g)/f:h==r?(g-e)/f+2:(e-r)/f+4);k=((k+360)%6)*60/360;m=f===0?0:f/h;return{h:k||1,s:m,b:h,a:l||1}},HueToRGB:function(f,e,g){if(g<0){g+=1}else{if(g>1){g-=1}}if((g*6)<1){return f+(e-f)*g*6}else{if((g*2)<1){return e}else{if((g*3)<2){return f+(e-f)*((2/3)-g)*6}else{return f}}}},HSLtoRGB:function(t,w,k,v){if(w<0){w=0}var f;if(k<=0.5){f=k*(1+w)}else{f=k+w-(k*w)}var g=2*k-f;var n=t+(1/3);var h=t;var m=t-(1/3);var e=Math.round(d.HueToRGB(g,f,n)*255);var u=Math.round(d.HueToRGB(g,f,h)*255);var o=Math.round(d.HueToRGB(g,f,m)*255);return[e,u,o,v||1]},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}}],template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'}}(window.jQuery);(function(s){var x=s(window);function p(){return new Date(Date.UTC.apply(Date,arguments))}function v(){var a=new Date();return p(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate())}var r=function(b,c){var a=this;this._process_options(c);this.element=s(b);this.isInline=false;this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".input-group-addon, .btn"):false;this.hasInput=this.component&&this.element.find("input").length;if(this.component&&this.component.length===0){this.component=false}this.picker=s(q.template);this._buildEvents();this._attachEvents();if(this.isInline){this.picker.addClass("datepicker-inline").appendTo(this.element)}else{this.picker.addClass("datepicker-dropdown dropdown-menu")}if(this.o.rtl){this.picker.addClass("datepicker-rtl");this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")}this.viewMode=this.o.startView;if(this.o.calendarWeeks){this.picker.find("tfoot th.today").attr("colspan",function(e,d){return parseInt(d)+1})}this._allow_update=false;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.fillDow();this.fillMonths();this._allow_update=true;this.update();this.showMode();if(this.isInline){this.show()}};r.prototype={constructor:r,_process_options:function(f){this._o=s.extend({},this._o,f);var b=this.o=s.extend({},this._o);var c=b.language;if(!y[c]){c=c.split("-")[0];if(!y[c]){c=u.language}}b.language=c;switch(b.startView){case 2:case"decade":b.startView=2;break;case 1:case"year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case"months":b.minViewMode=1;break;case 2:case"years":b.minViewMode=2;break;default:b.minViewMode=0}b.startView=Math.max(b.startView,b.minViewMode);b.weekStart%=7;b.weekEnd=((b.weekStart+6)%7);var e=q.parseFormat(b.format);if(b.startDate!==-Infinity){if(!!b.startDate){if(b.startDate instanceof Date){b.startDate=this._local_to_utc(this._zero_time(b.startDate))}else{b.startDate=q.parseDate(b.startDate,e,b.language)}}else{b.startDate=-Infinity}}if(b.endDate!==Infinity){if(!!b.endDate){if(b.endDate instanceof Date){b.endDate=this._local_to_utc(this._zero_time(b.endDate))}else{b.endDate=q.parseDate(b.endDate,e,b.language)}}else{b.endDate=Infinity}}b.daysOfWeekDisabled=b.daysOfWeekDisabled||[];if(!s.isArray(b.daysOfWeekDisabled)){b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/)}b.daysOfWeekDisabled=s.map(b.daysOfWeekDisabled,function(g){return parseInt(g,10)});var d=String(b.orientation).toLowerCase().split(/\s+/g),a=b.orientation.toLowerCase();d=s.grep(d,function(g){return(/^auto|left|right|top|bottom$/).test(g)});b.orientation={x:"auto",y:"auto"};if(!a||a==="auto"){}else{if(d.length===1){switch(d[0]){case"top":case"bottom":b.orientation.y=d[0];break;case"left":case"right":b.orientation.x=d[0];break}}else{a=s.grep(d,function(g){return(/^left|right$/).test(g)});b.orientation.x=a[0]||"auto";a=s.grep(d,function(g){return(/^top|bottom$/).test(g)});b.orientation.y=a[0]||"auto"}}},_events:[],_secondaryEvents:[],_applyEvents:function(d){for(var c=0,b,a;c<d.length;c++){b=d[c][0];a=d[c][1];b.on(a)}},_unapplyEvents:function(d){for(var c=0,b,a;c<d.length;c++){b=d[c][0];a=d[c][1];b.off(a)}},_buildEvents:function(){if(this.isInput){this._events=[[this.element,{focus:s.proxy(this.show,this),keyup:s.proxy(this.update,this),keydown:s.proxy(this.keydown,this)}]]}else{if(this.component&&this.hasInput){this._events=[[this.element.find("input"),{focus:s.proxy(this.show,this),keyup:s.proxy(this.update,this),keydown:s.proxy(this.keydown,this)}],[this.component,{click:s.proxy(this.show,this)}]]}else{if(this.element.is("div")){this.isInline=true}else{this._events=[[this.element,{click:s.proxy(this.show,this)}]]}}}this._secondaryEvents=[[this.picker,{click:s.proxy(this.click,this)}],[s(window),{resize:s.proxy(this.place,this)}],[s(document),{mousedown:s.proxy(function(a){if(!(this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length)){this.hide()}},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(b,a){var c=a||this.date,d=this._utc_to_local(c);this.element.trigger({type:b,date:d,format:s.proxy(function(e){var f=e||this.o.format;return q.formatDate(c,f,this.o.language)},this)})},show:function(a){if(!this.isInline){this.picker.appendTo("body")}this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();this._attachSecondaryEvents();if(a){a.preventDefault()}this._trigger("show")},hide:function(a){if(this.isInline){return}if(!this.picker.is(":visible")){return}this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=this.o.startView;this.showMode();if(this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())){this.setValue()}this._trigger("hide")},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker;if(!this.isInput){delete this.element.data().date}},_utc_to_local:function(a){return new Date(a.getTime()+(a.getTimezoneOffset()*60000))},_local_to_utc:function(a){return new Date(a.getTime()-(a.getTimezoneOffset()*60000))},_zero_time:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return this.date},setDate:function(a){this.setUTCDate(this._local_to_utc(a))},setUTCDate:function(a){this.date=a;this.setValue()},setValue:function(){var a=this.getFormattedDate();if(!this.isInput){if(this.component){this.element.find("input").val(a).change()}}else{this.element.val(a).change()}},getFormattedDate:function(a){if(a===undefined){a=this.o.format}return q.formatDate(this.date,a,this.o.language)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows()},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows()},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});this.update();this.updateNavArrows()},place:function(){if(this.isInline){return}var d=this.picker.outerWidth(),l=this.picker.outerHeight(),a=10,E=x.width(),f=x.height(),F=x.scrollTop();var h=parseInt(this.element.parents().filter(function(){return s(this).css("z-index")!="auto"}).first().css("z-index"))+10;var m=this.component?this.component.parent().offset():this.element.offset();var e=this.component?this.component.outerHeight(true):this.element.outerHeight(false);var b=this.component?this.component.outerWidth(true):this.element.outerWidth(false);var C=m.left,k=m.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");if(this.o.orientation.x!=="auto"){this.picker.addClass("datepicker-orient-"+this.o.orientation.x);if(this.o.orientation.x==="right"){C-=d-b}}else{this.picker.addClass("datepicker-orient-left");if(m.left<0){C-=m.left-a}else{if(m.left+d>E){C=E-d-a}}}var g=this.o.orientation.y,c,D;if(g==="auto"){c=-F+m.top-l;D=F+f-(m.top+e+l);if(Math.max(c,D)===D){g="top"}else{g="bottom"}}this.picker.addClass("datepicker-orient-"+g);if(g==="top"){k+=e}else{k-=l+parseInt(this.picker.css("padding-top"))}this.picker.css({top:k,left:C,zIndex:h})},_allow_update:true,update:function(){if(!this._allow_update){return}var a=new Date(this.date),c,b=false;if(arguments&&arguments.length&&(typeof arguments[0]==="string"||arguments[0] instanceof Date)){c=arguments[0];if(c instanceof Date){c=this._local_to_utc(c)}b=true}else{c=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val();delete this.element.data().date}this.date=q.parseDate(c,this.o.format,this.o.language);if(b){this.setValue()}else{if(c){if(a.getTime()!==this.date.getTime()){this._trigger("changeDate")}}else{this._trigger("clearDate")}}if(this.date<this.o.startDate){this.viewDate=new Date(this.o.startDate);this.date=new Date(this.o.startDate)}else{if(this.date>this.o.endDate){this.viewDate=new Date(this.o.endDate);this.date=new Date(this.o.endDate)}else{this.viewDate=new Date(this.date);this.date=new Date(this.date)}}this.fill()},fillDow:function(){var b=this.o.weekStart,a="<tr>";if(this.o.calendarWeeks){var c='<th class="cw"> </th>';a+=c;this.picker.find(".datepicker-days thead tr:first-child").prepend(c)}while(b<this.o.weekStart+7){a+='<th class="dow">'+y[this.o.language].daysMin[(b++)%7]+"</th>"}a+="</tr>";this.picker.find(".datepicker-days thead").append(a)},fillMonths:function(){var a="",b=0;while(b<12){a+='<span class="month">'+y[this.o.language].monthsShort[b++]+"</span>"}this.picker.find(".datepicker-months td").html(a)},setRange:function(a){if(!a||!a.length){delete this.range}else{this.range=s.map(a,function(b){return b.valueOf()})}this.fill()},getClassNames:function(c){var e=[],b=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),f=this.date.valueOf(),d=new Date();if(c.getUTCFullYear()<b||(c.getUTCFullYear()==b&&c.getUTCMonth()<a)){e.push("old")}else{if(c.getUTCFullYear()>b||(c.getUTCFullYear()==b&&c.getUTCMonth()>a)){e.push("new")}}if(this.o.todayHighlight&&c.getUTCFullYear()==d.getFullYear()&&c.getUTCMonth()==d.getMonth()&&c.getUTCDate()==d.getDate()){e.push("today")}if(f&&c.valueOf()==f){e.push("active")}if(c.valueOf()<this.o.startDate||c.valueOf()>this.o.endDate||s.inArray(c.getUTCDay(),this.o.daysOfWeekDisabled)!==-1){e.push("disabled")}if(this.range){if(c>this.range[0]&&c<this.range[this.range.length-1]){e.push("range")}if(s.inArray(c.valueOf(),this.range)!=-1){e.push("selected")}}return e},fill:function(){var l=new Date(this.viewDate),g=l.getUTCFullYear(),h=l.getUTCMonth(),S=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,K=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,L=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,Q=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,m=this.date&&this.date.valueOf(),R;this.picker.find(".datepicker-days thead th.datepicker-switch").text(y[this.o.language].months[h]+" "+g);this.picker.find("tfoot th.today").text(y[this.o.language].today).toggle(this.o.todayBtn!==false);this.picker.find("tfoot th.clear").text(y[this.o.language].clear).toggle(this.o.clearBtn!==false);this.updateNavArrows();this.fillMonths();var e=p(g,h-1,28,0,0,0,0),N=q.getDaysInMonth(e.getUTCFullYear(),e.getUTCMonth());e.setUTCDate(N);e.setUTCDate(N-(e.getUTCDay()-this.o.weekStart+7)%7);var V=new Date(e);V.setUTCDate(V.getUTCDate()+42);V=V.valueOf();var k=[];var a;while(e.valueOf()<V){if(e.getUTCDay()==this.o.weekStart){k.push("<tr>");if(this.o.calendarWeeks){var U=new Date(+e+(this.o.weekStart-e.getUTCDay()-7)%7*86400000),P=new Date(+U+(7+4-U.getUTCDay())%7*86400000),T=new Date(+(T=p(P.getUTCFullYear(),0,1))+(7+4-T.getUTCDay())%7*86400000),d=(P-T)/86400000/7+1;k.push('<td class="cw">'+d+"</td>")}}a=this.getClassNames(e);a.push("day");if(this.o.beforeShowDay!==s.noop){var c=this.o.beforeShowDay(this._utc_to_local(e));if(c===undefined){c={}}else{if(typeof(c)==="boolean"){c={enabled:c}}else{if(typeof(c)==="string"){c={classes:c}}}}if(c.enabled===false){a.push("disabled")}if(c.classes){a=a.concat(c.classes.split(/\s+/))}if(c.tooltip){R=c.tooltip}}a=s.unique(a);k.push('<td class="'+a.join(" ")+'"'+(R?' title="'+R+'"':"")+">"+e.getUTCDate()+"</td>");if(e.getUTCDay()==this.o.weekEnd){k.push("</tr>")}e.setUTCDate(e.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(k.join(""));var b=this.date&&this.date.getUTCFullYear();var M=this.picker.find(".datepicker-months").find("th:eq(1)").text(g).end().find("span").removeClass("active");if(b&&b==g){M.eq(this.date.getUTCMonth()).addClass("active")}if(g<S||g>L){M.addClass("disabled")}if(g==S){M.slice(0,K).addClass("disabled")}if(g==L){M.slice(Q+1).addClass("disabled")}k="";g=parseInt(g/10,10)*10;var f=this.picker.find(".datepicker-years").find("th:eq(1)").text(g+"-"+(g+9)).end().find("td");g-=1;for(var O=-1;O<11;O++){k+='<span class="year'+(O==-1?" old":O==10?" new":"")+(b==g?" active":"")+(g<S||g>L?" disabled":"")+'">'+g+"</span>";g+=1}f.html(k)},updateNavArrows:function(){if(!this._allow_update){return}var a=new Date(this.viewDate),c=a.getUTCFullYear(),b=a.getUTCMonth();switch(this.viewMode){case 0:if(this.o.startDate!==-Infinity&&c<=this.o.startDate.getUTCFullYear()&&b<=this.o.startDate.getUTCMonth()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&c>=this.o.endDate.getUTCFullYear()&&b>=this.o.endDate.getUTCMonth()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break;case 1:case 2:if(this.o.startDate!==-Infinity&&c<=this.o.startDate.getUTCFullYear()){this.picker.find(".prev").css({visibility:"hidden"})}else{this.picker.find(".prev").css({visibility:"visible"})}if(this.o.endDate!==Infinity&&c>=this.o.endDate.getUTCFullYear()){this.picker.find(".next").css({visibility:"hidden"})}else{this.picker.find(".next").css({visibility:"visible"})}break}},click:function(a){a.preventDefault();var k=s(a.target).closest("span, td, th");if(k.length==1){switch(k[0].nodeName.toLowerCase()){case"th":switch(k[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var e=q.modes[this.viewMode].navStep*(k[0].className=="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,e);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,e);if(this.viewMode===1){this._trigger("changeYear",this.viewDate)}break}this.fill();break;case"today":var d=new Date();d=p(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0);this.showMode(-2);var c=this.o.todayBtn=="linked"?null:"view";this._setDate(d,c);break;case"clear":var b;if(this.isInput){b=this.element}else{if(this.component){b=this.element.find("input")}}if(b){b.val("").change()}this._trigger("changeDate");this.update();if(this.o.autoclose){this.hide()}break}break;case"span":if(!k.is(".disabled")){this.viewDate.setUTCDate(1);if(k.is(".month")){var f=1;var h=k.parent().find("span").index(k);var g=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(h);this._trigger("changeMonth",this.viewDate);if(this.o.minViewMode===1){this._setDate(p(g,h,f,0,0,0,0))}}else{var g=parseInt(k.text(),10)||0;var f=1;var h=0;this.viewDate.setUTCFullYear(g);this._trigger("changeYear",this.viewDate);if(this.o.minViewMode===2){this._setDate(p(g,h,f,0,0,0,0))}}this.showMode(-1);this.fill()}break;case"td":if(k.is(".day")&&!k.is(".disabled")){var f=parseInt(k.text(),10)||1;var g=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth();if(k.is(".old")){if(h===0){h=11;g-=1}else{h-=1}}else{if(k.is(".new")){if(h==11){h=0;g+=1}else{h+=1}}}this._setDate(p(g,h,f,0,0,0,0))}break}}},_setDate:function(c,a){if(!a||a=="date"){this.date=new Date(c)}if(!a||a=="view"){this.viewDate=new Date(c)}this.fill();this.setValue();this._trigger("changeDate");var b;if(this.isInput){b=this.element}else{if(this.component){b=this.element.find("input")}}if(b){b.change()}if(this.o.autoclose&&(!a||a=="date")){this.hide()}},moveMonth:function(e,d){if(!d){return e}var a=new Date(e.valueOf()),f=a.getUTCDate(),k=a.getUTCMonth(),b=Math.abs(d),g,h;d=d>0?1:-1;if(b==1){h=d==-1?function(){return a.getUTCMonth()==k}:function(){return a.getUTCMonth()!=g};g=k+d;a.setUTCMonth(g);if(g<0||g>11){g=(g+12)%12}}else{for(var c=0;c<b;c++){a=this.moveMonth(a,d)}g=a.getUTCMonth();a.setUTCDate(f);h=function(){return g!=a.getUTCMonth()}}while(h()){a.setUTCDate(--f);a.setUTCMonth(g)}return a},moveYear:function(a,b){return this.moveMonth(a,b*12)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":not(:visible)")){if(a.keyCode==27){this.show()}return}var e=false,f,g,b,h,c;switch(a.keyCode){case 27:this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}f=a.keyCode==37?-1:1;if(a.ctrlKey){h=this.moveYear(this.date,f);c=this.moveYear(this.viewDate,f);this._trigger("changeYear",this.viewDate)}else{if(a.shiftKey){h=this.moveMonth(this.date,f);c=this.moveMonth(this.viewDate,f);this._trigger("changeMonth",this.viewDate)}else{h=new Date(this.date);h.setUTCDate(this.date.getUTCDate()+f);c=new Date(this.viewDate);c.setUTCDate(this.viewDate.getUTCDate()+f)}}if(this.dateWithinRange(h)){this.date=h;this.viewDate=c;this.setValue();this.update();a.preventDefault();e=true}break;case 38:case 40:if(!this.o.keyboardNavigation){break}f=a.keyCode==38?-1:1;if(a.ctrlKey){h=this.moveYear(this.date,f);c=this.moveYear(this.viewDate,f);this._trigger("changeYear",this.viewDate)}else{if(a.shiftKey){h=this.moveMonth(this.date,f);c=this.moveMonth(this.viewDate,f);this._trigger("changeMonth",this.viewDate)}else{h=new Date(this.date);h.setUTCDate(this.date.getUTCDate()+f*7);c=new Date(this.viewDate);c.setUTCDate(this.viewDate.getUTCDate()+f*7)}}if(this.dateWithinRange(h)){this.date=h;this.viewDate=c;this.setValue();this.update();a.preventDefault();e=true}break;case 13:this.hide();a.preventDefault();break;case 9:this.hide();break}if(e){this._trigger("changeDate");var d;if(this.isInput){d=this.element}else{if(this.component){d=this.element.find("input")}}if(d){d.change()}}},showMode:function(a){if(a){this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+a))}this.picker.find(">div").hide().filter(".datepicker-"+q.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var n=function(a,b){this.element=s(a);this.inputs=s.map(b.inputs,function(c){return c.jquery?c[0]:c});delete b.inputs;s(this.inputs).datepicker(b).bind("changeDate",s.proxy(this.dateUpdated,this));this.pickers=s.map(this.inputs,function(c){return s(c).data("datepicker")});this.updateDates()};n.prototype={updateDates:function(){this.dates=s.map(this.pickers,function(a){return a.date});this.updateRanges()},updateRanges:function(){var a=s.map(this.dates,function(b){return b.valueOf()});s.each(this.pickers,function(c,b){b.setRange(a)})},dateUpdated:function(b){var a=s(b.target).data("datepicker"),c=a.getUTCDate(),d=s.inArray(b.target,this.inputs),e=this.inputs.length;if(d==-1){return}if(c<this.dates[d]){while(d>=0&&c<this.dates[d]){this.pickers[d--].setUTCDate(c)}}else{if(c>this.dates[d]){while(d<e&&c>this.dates[d]){this.pickers[d++].setUTCDate(c)}}}this.updateDates()},remove:function(){s.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker}};function t(d,a){var b=s(d).data(),g={},c,e=new RegExp("^"+a.toLowerCase()+"([A-Z])"),a=new RegExp("^"+a.toLowerCase());for(var f in b){if(a.test(f)){c=f.replace(e,function(h,k){return k.toLowerCase()});g[c]=b[f]}}return g}function z(a){var c={};if(!y[a]){a=a.split("-")[0];if(!y[a]){return}}var b=y[a];s.each(o,function(d,e){if(e in b){c[e]=b[e]}});return c}var w=s.fn.datepicker;s.fn.datepicker=function(a){var c=Array.apply(null,arguments);c.shift();var b,d;this.each(function(){var A=s(this),f=A.data("datepicker"),l=typeof a=="object"&&a;if(!f){var h=t(this,"date"),m=s.extend({},u,h,l),k=z(m.language),g=s.extend({},u,k,h,l);if(A.is(".input-daterange")||g.inputs){var e={inputs:g.inputs||A.find("input").toArray()};A.data("datepicker",(f=new n(this,s.extend(g,e))))}else{A.data("datepicker",(f=new r(this,g)))}}if(typeof a=="string"&&typeof f[a]=="function"){b=f[a].apply(f,c);if(b!==undefined){return false}}});if(b!==undefined){return b}else{return this}};var u=s.fn.datepicker.defaults={autoclose:false,beforeShowDay:s.noop,calendarWeeks:false,clearBtn:false,daysOfWeekDisabled:[],endDate:Infinity,forceParse:true,format:"mm/dd/yyyy",keyboardNavigation:true,language:"en",minViewMode:0,orientation:"auto",rtl:false,startDate:-Infinity,startView:0,todayBtn:false,todayHighlight:false,weekStart:0};var o=s.fn.datepicker.locale_opts=["format","rtl","weekStart"];s.fn.datepicker.Constructor=r;var y=s.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}};var q={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))},getDaysInMonth:function(b,a){return[31,(q.isLeapYear(b)?29:28),31,30,31,30,31,31,30,31,30,31][a]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var c=a.replace(this.validParts,"\0").split("\0"),b=a.match(this.validParts);if(!c||!c.length||!b||b.length===0){throw new Error("Invalid date format.")}return{separators:c,parts:b}},parseDate:function(d,h,I){if(d instanceof Date){return d}if(typeof h==="string"){h=q.parseFormat(h)}if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(d)){var c=/([\-+]\d+)([dmwy])/,J=d.match(/([\-+]\d+)([dmwy])/g),k,b;d=new Date();for(var H=0;H<J.length;H++){k=c.exec(J[H]);b=parseInt(k[1]);switch(k[2]){case"d":d.setUTCDate(d.getUTCDate()+b);break;case"m":d=r.prototype.moveMonth.call(r.prototype,d,b);break;case"w":d.setUTCDate(d.getUTCDate()+b*7);break;case"y":d=r.prototype.moveYear.call(r.prototype,d,b);break}}return p(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),0,0,0)}var J=d&&d.match(this.nonpunctuation)||[],d=new Date(),m={},l=["yyyy","yy","M","MM","m","mm","d","dd"],f={yyyy:function(B,A){return B.setUTCFullYear(A)},yy:function(B,A){return B.setUTCFullYear(2000+A)},m:function(B,A){if(isNaN(B)){return B}A-=1;while(A<0){A+=12}A%=12;B.setUTCMonth(A);while(B.getUTCMonth()!=A){B.setUTCDate(B.getUTCDate()-1)}return B},d:function(B,A){return B.setUTCDate(A)}},e,G,k;f.M=f.MM=f.mm=f.m;f.dd=f.d;d=p(d.getFullYear(),d.getMonth(),d.getDate(),0,0,0);var F=h.parts.slice();if(J.length!=F.length){F=s(F).filter(function(A,B){return s.inArray(B,l)!==-1}).toArray()}if(J.length==F.length){for(var H=0,g=F.length;H<g;H++){e=parseInt(J[H],10);k=F[H];if(isNaN(e)){switch(k){case"MM":G=s(y[I].months).filter(function(){var A=this.slice(0,J[H].length),B=J[H].slice(0,A.length);return A==B});e=s.inArray(G[0],y[I].months)+1;break;case"M":G=s(y[I].monthsShort).filter(function(){var A=this.slice(0,J[H].length),B=J[H].slice(0,A.length);return A==B});e=s.inArray(G[0],y[I].monthsShort)+1;break}}m[k]=e}for(var H=0,K,a;H<l.length;H++){a=l[H];if(a in m&&!isNaN(m[a])){K=new Date(d);f[a](K,m[a]);if(!isNaN(K)){d=K}}}}return d},formatDate:function(g,c,a){if(typeof c==="string"){c=q.parseFormat(c)}var b={d:g.getUTCDate(),D:y[a].daysShort[g.getUTCDay()],DD:y[a].days[g.getUTCDay()],m:g.getUTCMonth()+1,M:y[a].monthsShort[g.getUTCMonth()],MM:y[a].months[g.getUTCMonth()],yy:g.getUTCFullYear().toString().substring(2),yyyy:g.getUTCFullYear()};b.dd=(b.d<10?"0":"")+b.d;b.mm=(b.m<10?"0":"")+b.m;var g=[],d=s.extend([],c.separators);for(var e=0,f=c.parts.length;e<=f;e++){if(d.length){g.push(d.shift())}g.push(b[c.parts[e]])}return g.join("")},headTemplate:'<thead><tr><th class="prev">«</th><th colspan="5" class="datepicker-switch"></th><th class="next">»</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};q.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+q.headTemplate+"<tbody></tbody>"+q.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+q.headTemplate+q.contTemplate+q.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+q.headTemplate+q.contTemplate+q.footTemplate+"</table></div></div>";s.fn.datepicker.DPGlobal=q;s.fn.datepicker.noConflict=function(){s.fn.datepicker=w;return this};s(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var b=s(this);if(b.data("datepicker")){return}a.preventDefault();b.datepicker("show")});s(function(){s('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery));$(function(){window.enhanceTab=d;var b="fadeInLeft";var c;var a;$(".tabbable").each(function(e){d($(this).find(".nav-tabs a"),$(this).find(".tab-content"))});function d(e,f,g){e.click(function(k){k.preventDefault();$(this).tab("show");var h=$(this).data("easein");if(c){c.removeClass(a)}if(h){f.find("div.active").addClass("animated "+h);a=h}else{if(g){f.find("div.active").addClass("animated "+g);a=g}else{f.find("div.active").addClass("animated "+b);a=b}}c=f.find("div.active")})}$("a[rel=popover]").click(function(f){f.preventDefault();if($(this).data("easein")!=undefined){$(this).next().removeClass($(this).data("easein")).addClass("animated "+$(this).data("easein"))}else{$(this).next().addClass("animated "+b)}})});(function(m){if(typeof google==="undefined"){return}var l=function(){this.markers=[];this.mainMarker=false;this.icon="http://www.google.com/mapfiles/marker.png"};l.prototype.dist=function(a){return Math.sqrt(Math.pow(this.markers[0].latitude-a.latitude,2)+Math.pow(this.markers[0].longitude-a.longitude,2))};l.prototype.setIcon=function(a){this.icon=a};l.prototype.addMarker=function(a){this.markers[this.markers.length]=a};l.prototype.getMarker=function(){if(this.mainmarker){return this.mainmarker}var b,a;if(this.markers.length>1){b=new n.MarkerImage("http://thydzik.com/thydzikGoogleMap/markerlink.php?text="+this.markers.length+"&color=EF9D3F");a="cluster of "+this.markers.length+" markers"}else{b=new n.MarkerImage(this.icon);a=this.markers[0].title}this.mainmarker=new n.Marker({position:new n.LatLng(this.markers[0].latitude,this.markers[0].longitude),icon:b,title:a,map:null});return this.mainmarker};var n=google.maps,p=new n.Geocoder(),o=0,h=0,k={};k={init:function(b){var c,a=m.extend({},m.fn.gMap.defaults,b);for(c in m.fn.gMap.defaults.icon){if(!a.icon[c]){a.icon[c]=m.fn.gMap.defaults.icon[c]}}return this.each(function(){var g=m(this),f=k._getMapCenter.apply(g,[a]),q,r;if(a.zoom=="fit"){a.zoomFit=true;a.zoom=k._autoZoom.apply(g,[a])}var d={zoom:a.zoom,center:f,mapTypeControl:a.mapTypeControl,mapTypeControlOptions:{},zoomControl:a.zoomControl,zoomControlOptions:{},panControl:a.panControl,panControlOptions:{},scaleControl:a.scaleControl,scaleControlOptions:{},streetViewControl:a.streetViewControl,streetViewControlOptions:{},mapTypeId:a.maptype,scrollwheel:a.scrollwheel,maxZoom:a.maxZoom,minZoom:a.minZoom};if(a.controlsPositions.mapType){d.mapTypeControlOptions.position=a.controlsPositions.mapType}if(a.controlsPositions.zoom){d.zoomControlOptions.position=a.controlsPositions.zoom}if(a.controlsPositions.pan){d.panControlOptions.position=a.controlsPositions.pan}if(a.controlsPositions.scale){d.scaleControlOptions.position=a.controlsPositions.scale}if(a.controlsPositions.streetView){d.streetViewControlOptions.position=a.controlsPositions.streetView}if(a.styles){d.styles=a.styles}d.mapTypeControlOptions.style=a.controlsStyle.mapType;d.zoomControlOptions.style=a.controlsStyle.zoom;var e=new n.Map(this,d);if(a.log){console.log("map center is:")}if(a.log){console.log(f)}g.data("$gmap",e);g.data("gmap",{opts:a,gmap:e,markers:[],markerKeys:{},infoWindow:null,clusters:[]});if(a.controls.length!==0){for(q=0;q<a.controls.length;q+=1){e.controls[a.controls[q].pos].push(a.controls[q].div)}}if(a.clustering.enabled){r=g.data("gmap");(function(s){r.markers=s}(a.markers));k._renderCluster.apply(g,[]);n.event.addListener(e,"bounds_changed",function(){k._renderCluster.apply(g,[])})}else{if(a.markers.length!==0){k.addMarkers.apply(g,[a.markers])}}k._onComplete.apply(g,[])})},_delayedMode:false,_onComplete:function(){var c=this.data("gmap"),a=this;if(o!==0){window.setTimeout(function(){k._onComplete.apply(a,[])},100);return}if(k._delayedMode){var d=k._getMapCenter.apply(this,[c.opts,true]);k._setMapCenter.apply(this,[d]);if(c.opts.zoomFit){var b=k._autoZoom.apply(this,[c.opts,true]);c.gmap.setZoom(b)}}c.opts.onComplete()},_setMapCenter:function(c){var b=this.data("gmap");if(b&&b.opts.log){console.log("delayed setMapCenter called")}if(b&&b.gmap!==undefined&&o==0){b.gmap.setCenter(c)}else{var a=this;window.setTimeout(function(){k._setMapCenter.apply(a,[c])},100)}},_boundaries:null,_getBoundaries:function(a){var f=a.markers,c;var d=1000,e=-1000,b=1000,g=-1000;if(f){for(c=0;c<f.length;c+=1){if(!f[c].latitude||!f[c].longitude){continue}if(d>f[c].latitude){d=f[c].latitude}if(e<f[c].longitude){e=f[c].longitude}if(b>f[c].longitude){b=f[c].longitude}if(g<f[c].latitude){g=f[c].latitude}if(a.log){console.log(f[c].latitude,f[c].longitude,d,e,b,g)}}k._boundaries={N:d,E:e,W:b,S:g}}if(d==-1000){k._boundaries={N:0,E:0,W:0,S:0}}return k._boundaries},_getBoundariesFromMarkers:function(){var f=this.data("gmap").markers,c;var d=1000,e=-1000,b=1000,a=-1000;if(f){for(c=0;c<f.length;c+=1){if(d>f[c].getPosition().lat()){d=f[c].getPosition().lat()}if(e<f[c].getPosition().lng()){e=f[c].getPosition().lng()}if(b>f[c].getPosition().lng()){b=f[c].getPosition().lng()}if(a<f[c].getPosition().lat()){a=f[c].getPosition().lat()}}k._boundaries={N:d,E:e,W:b,S:a}}if(d==-1000){k._boundaries={N:0,E:0,W:0,S:0}}return k._boundaries},_getMapCenter:function(f,c){var e,g=this,b,a,d;if(f.markers.length&&(f.latitude=="fit"||f.longitude=="fit")){if(c){d=k._getBoundariesFromMarkers.apply(this)}else{d=k._getBoundaries(f)}e=new n.LatLng((d.N+d.S)/2,(d.E+d.W)/2);if(f.log){console.log(c,d,e)}return e}if(f.latitude&&f.longitude){e=new n.LatLng(f.latitude,f.longitude);return e}else{e=new n.LatLng(0,0)}if(f.address){p.geocode({address:f.address},function(q,r){if(r===google.maps.GeocoderStatus.OK){k._setMapCenter.apply(g,[q[0].geometry.location])}else{if(f.log){console.log("Geocode was not successful for the following reason: "+r)}}});return e}if(f.markers.length>0){a=null;for(b=0;b<f.markers.length;b+=1){if(f.markers[b].setCenter){a=f.markers[b];break}}if(a===null){for(b=0;b<f.markers.length;b+=1){if(f.markers[b].latitude&&f.markers[b].longitude){a=f.markers[b];break}if(f.markers[b].address){a=f.markers[b]}}}if(a===null){return e}if(a.latitude&&a.longitude){return new n.LatLng(a.latitude,a.longitude)}if(a.address){p.geocode({address:a.address},function(q,r){if(r===google.maps.GeocoderStatus.OK){k._setMapCenter.apply(g,[q[0].geometry.location])}else{if(f.log){console.log("Geocode was not successful for the following reason: "+r)}}})}}return e},_renderCluster:function(){var g=this.data("gmap"),c=g.markers,F=g.clusters,B=g.opts,a,b,H;for(a=0;a<F.length;a+=1){F[a].getMarker().setMap(null)}F.length=0;H=g.gmap.getBounds();if(!H){var I=this;window.setTimeout(function(){k._renderCluster.apply(I)},1000);return}var d=H.getNorthEast(),D=H.getSouthWest(),A=d.lat()-D.lat(),J=[],e,f,E=A*B.clustering.clusterSize/100,G,C;for(a=0;a<c.length;a+=1){if(c[a].latitude<d.lat()&&c[a].latitude>D.lat()&&c[a].longitude<d.lng()&&c[a].longitude>D.lng()){J[J.length]=c[a]}}if(B.log){console.log("number of markers "+J.length+"/"+c.length)}if(B.log){console.log("cluster radius: "+E)}for(a=0;a<J.length;a+=1){f=10000;e=-1;for(b=0;b<F.length;b+=1){G=F[b].dist(J[a]);if(G<E){f=G;e=b;if(B.clustering.fastClustering){break}}}if(e===-1){C=new l();C.addMarker(J[a]);F[F.length]=C}else{F[e].addMarker(J[a])}}if(B.log){console.log("Total clusters in viewport: "+F.length)}for(b=0;b<F.length;b+=1){F[b].getMarker().setMap(g.gmap)}},_processMarker:function(d,b,B,a){var v=this.data("gmap"),x=v.gmap,y=v.opts,e,f;if(a===undefined){a=new n.LatLng(d.latitude,d.longitude)}if(!b){var z={image:y.icon.image,iconSize:new n.Size(y.icon.iconsize[0],y.icon.iconsize[1]),iconAnchor:new n.Point(y.icon.iconanchor[0],y.icon.iconanchor[1]),infoWindowAnchor:new n.Size(y.icon.infowindowanchor[0],y.icon.infowindowanchor[1])};b=new n.MarkerImage(z.image,z.iconSize,null,z.iconAnchor)}if(!B){var c={image:y.icon.shadow,iconSize:new n.Size(y.icon.shadowsize[0],y.icon.shadowsize[1]),anchor:(z&&z.iconAnchor)?z.iconAnchor:new n.Point(y.icon.iconanchor[0],y.icon.iconanchor[1])}}f={position:a,icon:b,title:d.title,map:null,draggable:((d.draggable===true)?true:false)};if(!y.clustering.enabled){f.map=x}e=new n.Marker(f);e.setShadow(B);v.markers.push(e);if(d.key){v.markerKeys[d.key]=e}var g;if(d.html){var w=typeof(d.html)==="string"?y.html_prepend+d.html+y.html_append:d.html;var A={content:w,pixelOffset:d.infoWindowAnchor};if(y.log){console.log("setup popup with data")}if(y.log){console.log(A)}g=new n.InfoWindow(A);n.event.addListener(e,"click",function(){if(y.log){console.log("opening popup "+d.html)}if(y.singleInfoWindow&&v.infoWindow){v.infoWindow.close()}g.open(x,e);v.infoWindow=g})}if(d.html&&d.popup){if(y.log){console.log("opening popup "+d.html)}g.open(x,e);v.infoWindow=g}if(d.onDragEnd){n.event.addListener(e,"dragend",function(q){if(y.log){console.log("drag end")}d.onDragEnd(q)})}},_geocodeMarker:function(d,a,c){var b=this;p.geocode({address:d.address},function(e,f){if(f===n.GeocoderStatus.OK){o-=1;if(b.data("gmap").opts.log){console.log("Geocode was successful with point: ",e[0].geometry.location)}k._processMarker.apply(b,[d,a,c,e[0].geometry.location])}else{if(f===n.GeocoderStatus.OVER_QUERY_LIMIT){if((!b.data("gmap").opts.noAlerts)&&(h===0)){alert("Error: too many geocoded addresses! Switching to 1 marker/s mode.")}h+=1000;window.setTimeout(function(){k._geocodeMarker.apply(b,[d,a,c])},h)}if(b.data("gmap").opts.log){console.log("Geocode was not successful for the following reason: "+f)}}})},_autoZoom:function(a,b){var e=m(this).data("gmap"),s=m.extend({},e?e.opts:{},a),d,r,f,g,c=39135.758482;if(s.log){console.log("autozooming map")}if(b){r=k._getBoundariesFromMarkers.apply(this)}else{r=k._getBoundaries(s)}f=(r.E-r.W)*111000/this.width();g=(r.S-r.N)*111000/this.height();for(d=2;d<20;d+=1){if(f>c||g>c){break}c=c/2}return d-2},addMarkers:function(a){var b=this.data("gmap").opts;if(a.length!==0){if(b.log){console.log("adding "+a.length+" markers")}for(var c=0;c<a.length;c+=1){k.addMarker.apply(this,[a[c]])}}},addMarker:function(f){var b=this.data("gmap").opts;if(b.log){console.log("putting marker at "+f.latitude+", "+f.longitude+" with address "+f.address+" and html "+f.html)}var d={image:b.icon.image,iconSize:new n.Size(b.icon.iconsize[0],b.icon.iconsize[1]),iconAnchor:new n.Point(b.icon.iconanchor[0],b.icon.iconanchor[1]),infoWindowAnchor:new n.Size(b.icon.infowindowanchor[0],b.icon.infowindowanchor[1])},e={image:b.icon.shadow,iconSize:new n.Size(b.icon.shadowsize[0],b.icon.shadowsize[1]),anchor:new n.Point(b.icon.shadowanchor[0],b.icon.shadowanchor[1])};f.infoWindowAnchor=d.infoWindowAnchor;if(f.icon){if(f.icon.image){d.image=f.icon.image}if(f.icon.iconsize){d.iconSize=new n.Size(f.icon.iconsize[0],f.icon.iconsize[1])}if(f.icon.iconanchor){d.iconAnchor=new n.Point(f.icon.iconanchor[0],f.icon.iconanchor[1])}if(f.icon.infowindowanchor){d.infoWindowAnchor=new n.Size(f.icon.infowindowanchor[0],f.icon.infowindowanchor[1])}if(f.icon.shadow){e.image=f.icon.shadow}if(f.icon.shadowsize){e.iconSize=new n.Size(f.icon.shadowsize[0],f.icon.shadowsize[1])}if(f.icon.shadowanchor){e.anchor=new n.Point(f.icon.shadowanchor[0],f.icon.shadowanchor[1])}}var a=new n.MarkerImage(d.image,d.iconSize,null,d.iconAnchor);var c=new n.MarkerImage(e.image,e.iconSize,null,e.anchor);if(f.address){if(f.html==="_address"){f.html=f.address}if(f.title=="_address"){f.title=f.address}if(b.log){console.log("geocoding marker: "+f.address)}o+=1;k._delayedMode=true;k._geocodeMarker.apply(this,[f,a,c])}else{if(f.html==="_latlng"){f.html=f.latitude+", "+f.longitude}if(f.title=="_latlng"){f.title=f.latitude+", "+f.longitude}var g=new n.LatLng(f.latitude,f.longitude);k._processMarker.apply(this,[f,a,c,g])}},removeAllMarkers:function(){var a=this.data("gmap").markers,b;for(b=0;b<a.length;b+=1){a[b].setMap(null);delete a[b]}a.length=0},getMarker:function(a){return this.data("gmap").markerKeys[a]},fixAfterResize:function(a){var b=this.data("gmap");n.event.trigger(b.gmap,"resize");if(a){b.gmap.panTo(new google.maps.LatLng(0,0))}b.gmap.panTo(this.gMap("_getMapCenter",b.opts))},setZoom:function(b,c,d){var a=this.data("gmap").gmap;if(b==="fit"){b=k._autoZoom.apply(this,[c,d])}a.setZoom(parseInt(b))},changeSettings:function(d){var b=this.data("gmap"),a=[],c;for(c=0;c<b.markers.length;c+=1){a[c]={latitude:b.markers[c].getPosition().lat(),longitude:b.markers[c].getPosition().lng()}}d.markers=a;if(d.zoom){k.setZoom.apply(this,[d.zoom,d])}if(d.latitude||d.longitude){b.gmap.panTo(k._getMapCenter.apply(this,[d]))}},mapclick:function(a){google.maps.event.addListener(this.data("gmap").gmap,"click",function(b){a(b.latLng)})},geocode:function(c,a,b){p.geocode({address:c},function(d,e){if(e===n.GeocoderStatus.OK){a(d[0].geometry.location)}else{if(b){b(d,e)}}})},getRoute:function(x){var f=this.data("gmap"),v=f.gmap,a=new n.DirectionsRenderer(),b=new n.DirectionsService(),t={BYCAR:n.DirectionsTravelMode.DRIVING,BYBICYCLE:n.DirectionsTravelMode.BICYCLING,BYFOOT:n.DirectionsTravelMode.WALKING},c={MILES:n.DirectionsUnitSystem.IMPERIAL,KM:n.DirectionsUnitSystem.METRIC},g=null,w=null,d=null,u=null;if(x.routeDisplay!==undefined){g=(x.routeDisplay instanceof jQuery)?x.routeDisplay[0]:((typeof x.routeDisplay=="string")?m(x.routeDisplay)[0]:null)}else{if(f.opts.routeFinder.routeDisplay!==null){g=(f.opts.routeFinder.routeDisplay instanceof jQuery)?f.opts.routeFinder.routeDisplay[0]:((typeof f.opts.routeFinder.routeDisplay=="string")?m(f.opts.routeFinder.routeDisplay)[0]:null)}}a.setMap(v);if(g!==null){a.setPanel(g)}w=(t[f.opts.routeFinder.travelMode]!==undefined)?t[f.opts.routeFinder.travelMode]:t.BYCAR;d=(c[f.opts.routeFinder.travelUnit]!==undefined)?c[f.opts.routeFinder.travelUnit]:c.KM;var e={origin:x.from,destination:x.to,travelMode:w,unitSystem:d};b.route(e,function(r,q){if(q==n.DirectionsStatus.OK){a.setDirections(r)}else{if(g!==null){m(g).html(f.opts.routeFinder.routeErrors[q])}}});return this}};m.fn.gMap=function(a){if(k[a]){return k[a].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof a==="object"||!a){return k.init.apply(this,arguments)}else{m.error("Method "+a+" does not exist on jQuery.gmap")}}};m.fn.gMap.defaults={log:false,address:"",latitude:null,longitude:null,zoom:3,maxZoom:null,minZoom:null,markers:[],controls:{},scrollwheel:true,maptype:google.maps.MapTypeId.ROADMAP,mapTypeControl:true,zoomControl:true,panControl:false,scaleControl:false,streetViewControl:true,controlsPositions:{mapType:null,zoom:null,pan:null,scale:null,streetView:null},controlsStyle:{mapType:google.maps.MapTypeControlStyle.DEFAULT,zoom:google.maps.ZoomControlStyle.DEFAULT},singleInfoWindow:true,html_prepend:'<div class="gmap_marker">',html_append:"</div>",icon:{image:"http://www.google.com/mapfiles/marker.png",iconsize:[20,34],iconanchor:[9,34],infowindowanchor:[9,2],shadow:"http://www.google.com/mapfiles/shadow50.png",shadowsize:[37,34],shadowanchor:[9,34]},onComplete:function(){},routeFinder:{travelMode:"BYCAR",travelUnit:"KM",routeDisplay:null,routeErrors:{INVALID_REQUEST:"The provided request is invalid.",NOT_FOUND:"One or more of the given addresses could not be found.",OVER_QUERY_LIMIT:"A temporary error occured. Please try again in a few minutes.",REQUEST_DENIED:"An error occured. Please contact us.",UNKNOWN_ERROR:"An unknown error occured. Please try again.",ZERO_RESULTS:"No route could be found within the given addresses."}},clustering:{enabled:false,fastClustering:false,clusterCount:10,clusterSize:40}}}(jQuery));
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jörn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){if(b&&b.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var c=a.data(this[0],"validator");if(c){return c}this.attr("novalidate","novalidate");c=new a.validator(b,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){this.validateDelegate(":submit","click",function(d){if(c.settings.submitHandler){c.submitButton=d.target}if(a(d.target).hasClass("cancel")){c.cancelSubmit=true}if(a(d.target).attr("formnovalidate")!==undefined){c.cancelSubmit=true}});this.submit(function(d){if(c.settings.debug){d.preventDefault()}function e(){var f;if(c.settings.submitHandler){if(c.submitButton){f=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm,d);if(c.submitButton){f.remove()}return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return e()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return e()}else{c.focusInvalid();return false}})}return c},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var c=true;var b=a(this[0].form).validate();this.each(function(){c=c&&b.element(this)});return c}},removeAttrs:function(d){var b={},c=this;a.each(d.split(/\s/),function(e,f){b[f]=c.attr(f);c.removeAttr(f)});return b},rules:function(e,b){var g=this[0];if(e){var d=a.data(g.form,"validator").settings;var k=d.rules;var l=a.validator.staticRules(g);switch(e){case"add":a.extend(l,a.validator.normalizeRule(b));delete l.messages;k[g.name]=l;if(b.messages){d.messages[g.name]=a.extend(d.messages[g.name],b.messages)}break;case"remove":if(!b){delete k[g.name];return l}var h={};a.each(b.split(/\s/),function(m,n){h[n]=l[n];delete l[n]});return h}}var f=a.validator.normalizeRules(a.extend({},a.validator.classRules(g),a.validator.attributeRules(g),a.validator.dataRules(g),a.validator.staticRules(g)),g);if(f.required){var c=f.required;delete f.required;f=a.extend({required:c},f)}return f}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+a(b).val())},filled:function(b){return !!a.trim(""+a(b).val())},unchecked:function(b){return !a(b).prop("checked")}});a.validator=function(b,c){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(b,c){if(arguments.length===1){return function(){var d=a.makeArray(arguments);d.unshift(b);return a.validator.format.apply(this,d)}}if(arguments.length>2&&c.constructor!==Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!==Array){c=[c]}a.each(c,function(d,e){b=b.replace(new RegExp("\\{"+d+"\\}","g"),function(){return e})});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(b,c){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b,c){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b,c){if(c.which===9&&this.elementValue(b)===""){return}else{if(b.name in this.submitted||b===this.lastElement){this.element(b)}}},onclick:function(b,c){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).addClass(b).removeClass(c)}else{a(d).addClass(b).removeClass(c)}},unhighlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).removeClass(b).addClass(c)}else{a(d).removeClass(b).addClass(c)}}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(e,f){if(typeof f==="string"){f=f.split(/\s/)}a.each(f,function(h,g){b[g]=e})});var d=this.settings.rules;a.each(d,function(e,f){d[e]=a.validator.normalizeRule(f)});function c(g){var f=a.data(this[0].form,"validator"),e="on"+g.type.replace(/^validate/,"");if(f.settings[e]){f.settings[e].call(f,this[0],g)}}a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",c).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",c);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=(this.currentElements=this.elements());c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.validationTargetFor(this.clean(c));this.lastElement=c;this.prepareElement(c);this.currentElements=a(c);var b=this.check(c)!==false;if(b){delete this.invalid[c.name]}else{this.invalid[c.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(c){if(c){a.extend(this.errorMap,c);this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(d){return !(d.name in c)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(d){var c=0;for(var b in d){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name===b.name}).length===1&&b},elements:function(){var c=this,b={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&c.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in b||!c.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();if(c==="radio"||c==="checkbox"){return a("input[name='"+a(b).attr("name")+"']:checked").val()}if(typeof d==="string"){return d.replace(/\r/g,"")}return d},check:function(c){c=this.validationTargetFor(this.clean(c));var k=a(c).rules();var d=false;var h=this.elementValue(c);var b;for(var l in k){var g={method:l,parameters:k[l]};try{b=a.validator.methods[l].call(this,h,c,g.parameters);if(b==="dependency-mismatch"){d=true;continue}d=false;if(b==="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!b){this.formatAndAdd(c,g);return false}}catch(f){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+c.id+", check the '"+g.method+"' method.",f)}throw f}}if(d){return}if(this.objectLength(k)){this.successList.push(c)}return true},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||(b.attributes&&a(b).attr("data-msg-"+c.toLowerCase()))},customMessage:function(c,d){var b=this.settings.messages[c];return b&&(b.constructor===String?b:b[d])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(c,e){var d=this.defaultMessage(c,e.method),b=/\$?\{(\d+)\}/g;if(typeof d==="function"){d=d.call(this,e.parameters,c)}else{if(b.test(d)){d=a.validator.format(d.replace(b,"{$1}"),e.parameters)}}this.errorList.push({message:d,element:c});this.errorMap[c.name]=d;this.submitted[c.name]=d},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){var c,d;for(c=0;this.errorList[c];c++){var b=this.errorList[c];if(this.settings.highlight){this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(c=0,d=this.validElements();d[c];c++){this.settings.unhighlight.call(this,d[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(c,d){var b=this.errorsFor(c);if(b.length){b.removeClass(this.settings.validClass).addClass(this.settings.errorClass);b.html(d)}else{b=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(c)).addClass(this.settings.errorClass).html(d||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){if(this.settings.errorPlacement){this.settings.errorPlacement(b,a(c))}else{b.insertAfter(c)}}}if(!d&&this.settings.success){b.text("");if(typeof this.settings.success==="string"){b.addClass(this.settings.success)}else{this.settings.success(b,c)}}this.toShow=this.toShow.add(b)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")===b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b)){b=this.findByName(b.name).not(this.settings.ignore)[0]}return b},checkable:function(b){return(/radio|checkbox/i).test(b.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return c.length},depend:function(c,b){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,b):true},dependTypes:{"boolean":function(c,b){return c},string:function(c,b){return !!a(c,b.form).length},"function":function(c,b){return c(b)}},optional:function(b){var c=this.elementValue(b);return !a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(c&&this.pendingRequest===0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest===0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,c){if(b.constructor===String){this.classRuleSettings[b]=c}else{a.extend(this.classRuleSettings,b)}},classRules:function(c){var d={};var b=a(c).attr("class");if(b){a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(d,a.validator.classRuleSettings[this])}})}return d},attributeRules:function(c){var f={};var b=a(c);var d=b[0].getAttribute("type");for(var g in a.validator.methods){var e;if(g==="required"){e=b.get(0).getAttribute(g);if(e===""){e=true}e=!!e}else{e=b.attr(g)}if(/min|max/.test(g)&&(d===null||/number|range|text/.test(d))){e=Number(e)}if(e){f[g]=e}else{if(d===g&&d!=="range"){f[g]=true}}}if(f.maxlength&&/-1|2147483647|524288/.test(f.maxlength)){delete f.maxlength}return f},dataRules:function(c){var f,d,e={},b=a(c);for(f in a.validator.methods){d=b.data("rule-"+f.toLowerCase());if(d!==undefined){e[f]=d}}return e},staticRules:function(c){var d={};var b=a.data(c.form,"validator");if(b.settings.rules){d=a.validator.normalizeRule(b.settings.rules[c.name])||{}}return d},normalizeRules:function(c,b){a.each(c,function(f,e){if(e===false){delete c[f];return}if(e.param||e.depends){var d=true;switch(typeof e.depends){case"string":d=!!a(e.depends,b.form).length;break;case"function":d=e.depends.call(b,b);break}if(d){c[f]=e.param!==undefined?e.param:true}else{delete c[f]}}});a.each(c,function(d,e){c[d]=a.isFunction(e)?e(b):e});a.each(["minlength","maxlength"],function(){if(c[this]){c[this]=Number(c[this])}});a.each(["rangelength","range"],function(){var d;if(c[this]){if(a.isArray(c[this])){c[this]=[Number(c[this][0]),Number(c[this][1])]}else{if(typeof c[this]==="string"){d=c[this].split(/[\s,]+/);c[this]=[Number(d[0]),Number(d[1])]}}}});if(a.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}return c},normalizeRule:function(c){if(typeof c==="string"){var b={};a.each(c.split(/\s/),function(){b[this]=true});c=b}return c},addMethod:function(b,d,c){a.validator.methods[b]=d;a.validator.messages[b]=c!==undefined?c:a.validator.messages[b];if(d.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(c,b,e){if(!this.depend(e,b)){return"dependency-mismatch"}if(b.nodeName.toLowerCase()==="select"){var d=a(b).val();return d&&d.length>0}if(this.checkable(b)){return this.getLength(c,b)>0}return a.trim(c).length>0},email:function(c,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(c)},url:function(c,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},date:function(c,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(c).toString())},dateISO:function(c,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(c)},number:function(c,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(c)},digits:function(c,b){return this.optional(b)||/^\d+$/.test(c)},creditcard:function(f,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(f)){return false}var g=0,e=0,b=false;f=f.replace(/\D/g,"");for(var h=f.length-1;h>=0;h--){var d=f.charAt(h);e=parseInt(d,10);if(b){if((e*=2)>9){e-=9}}g+=e;b=!b}return(g%10)===0},minlength:function(d,b,e){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||c>=e},maxlength:function(d,b,e){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||c<=e},rangelength:function(d,b,e){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||(c>=e[0]&&c<=e[1])},min:function(c,b,d){return this.optional(b)||c>=d},max:function(c,b,d){return this.optional(b)||c<=d},range:function(c,b,d){return this.optional(b)||(c>=d[0]&&c<=d[1])},equalTo:function(c,b,e){var d=a(e);if(this.settings.onfocusout){d.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()})}return c===d.val()},remote:function(f,c,g){if(this.optional(c)){return"dependency-mismatch"}var d=this.previousValue(c);if(!this.settings.messages[c.name]){this.settings.messages[c.name]={}}d.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=d.message;g=typeof g==="string"&&{url:g}||g;if(d.old===f){return d.valid}d.old=f;var b=this;this.startRequest(c);var e={};e[c.name]=f;a.ajax(a.extend(true,{url:g,mode:"abort",port:"validate"+c.name,dataType:"json",data:e,success:function(k){b.settings.messages[c.name].remote=d.originalMessage;var m=k===true||k==="true";if(m){var h=b.formSubmitted;b.prepareElement(c);b.formSubmitted=h;b.successList.push(c);delete b.invalid[c.name];b.showErrors()}else{var n={};var l=k||b.defaultMessage(c,"remote");n[c.name]=d.message=a.isFunction(l)?l(f):l;b.invalid[c.name]=true;b.showErrors(n)}d.valid=m;b.stopRequest(c,m)}},g));return"pending"}}});a.format=a.validator.format}(jQuery));(function(c){var a={};if(c.ajaxPrefilter){c.ajaxPrefilter(function(f,e,g){var d=f.port;if(f.mode==="abort"){if(a[d]){a[d].abort()}a[d]=g}})}else{var b=c.ajax;c.ajax=function(e){var f=("mode" in e?e:c.ajaxSettings).mode,d=("port" in e?e:c.ajaxSettings).port;if(f==="abort"){if(a[d]){a[d].abort()}a[d]=b.apply(this,arguments);return a[d]}return b.apply(this,arguments)}}}(jQuery));(function(a){a.extend(a.fn,{validateDelegate:function(d,c,b){return this.bind(c,function(e){var f=a(e.target);if(f.is(d)){return b.apply(f,arguments)}})}})}(jQuery));
/*!
 * jQuery Validation Plugin 1.11.1 - Additional Methods
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 JÃ¶rn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(){function a(b){return b.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'"_+=\/\-]*/g,"")}jQuery.validator.addMethod("maxWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length<=d},jQuery.validator.format("Please enter {0} words or less."));jQuery.validator.addMethod("minWords",function(c,b,d){return this.optional(b)||a(c).match(/\b\w+\b/g).length>=d},jQuery.validator.format("Please enter at least {0} words."));jQuery.validator.addMethod("rangeWords",function(e,b,f){var d=a(e);var c=/\b\w+\b/g;return this.optional(b)||d.match(c).length>=f[0]&&d.match(c).length<=f[1]},jQuery.validator.format("Please enter between {0} and {1} words."))}());jQuery.validator.addMethod("letterswithbasicpunc",function(b,a){return this.optional(a)||/^[a-z\-.,()'"\s]+$/i.test(b)},"Letters or punctuation only please");jQuery.validator.addMethod("alphanumeric",function(b,a){return this.optional(a)||/^\w+$/i.test(b)},"Letters, numbers, and underscores only please");jQuery.validator.addMethod("lettersonly",function(b,a){return this.optional(a)||/^[a-z]+$/i.test(b)},"Letters only please");jQuery.validator.addMethod("nowhitespace",function(b,a){return this.optional(a)||/^\S+$/i.test(b)},"No white space please");jQuery.validator.addMethod("ziprange",function(b,a){return this.optional(a)||/^90[2-5]\d\{2\}-\d{4}$/.test(b)},"Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx");jQuery.validator.addMethod("zipcodeUS",function(b,a){return this.optional(a)||/\d{5}-\d{4}$|^\d{5}$/.test(b)},"The specified US ZIP Code is invalid");jQuery.validator.addMethod("integer",function(b,a){return this.optional(a)||/^-?\d+$/.test(b)},"A positive or negative non-decimal number please");jQuery.validator.addMethod("validpassword",function(b,a){return this.optional(a)||/^[a-z0-9A-Z_-]+$/.test(b)},"Enter only Alphanumeric, dash or underscore");jQuery.validator.addMethod("vinUS",function(p){if(p.length!==17){return false}var h,a,m,k,b,l;var c=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"];var o=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9];var g=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2];var e=0;for(h=0;h<17;h++){k=g[h];m=p.slice(h,h+1);if(h===8){l=m}if(!isNaN(m)){m*=k}else{for(a=0;a<c.length;a++){if(m.toUpperCase()===c[a]){m=o[a];m*=k;if(isNaN(l)&&a===8){l=c[a]}break}}}e+=m}b=e%11;if(b===10){b="X"}if(b===l){return true}return false},"The specified vehicle identification number (VIN) is invalid.");jQuery.validator.addMethod("dateITA",function(e,c){var a=false;var g=/^\d{1,2}\/\d{1,2}\/\d{4}$/;if(g.test(e)){var k=e.split("/");var d=parseInt(k[0],10);var b=parseInt(k[1],10);var f=parseInt(k[2],10);var h=new Date(f,b-1,d);if((h.getFullYear()===f)&&(h.getMonth()===b-1)&&(h.getDate()===d)){a=true}else{a=false}}else{a=false}return this.optional(c)||a},"Please enter a correct date");jQuery.validator.addMethod("iban",function(r,k){if(this.optional(k)){return true}if(!(/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(r))){return false}var g=r.replace(/ /g,"").toUpperCase();var c=g.substring(0,2);var a={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"};var n=a[c];if(typeof n!=="undefined"){var l=new RegExp("^[A-Z]{2}\\d{2}"+n+"$","");if(!(l.test(g))){return false}}var e=g.substring(4,g.length)+g.substring(0,4);var f="";var m=true;var d;for(var h=0;h<e.length;h++){d=e.charAt(h);if(d!=="0"){m=false}if(!m){f+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(d)}}var s="";var q="";for(var b=0;b<f.length;b++){var o=f.charAt(b);q=""+s+""+o;s=q%97}return s===1},"Please specify a valid IBAN");jQuery.validator.addMethod("dateNL",function(b,a){return this.optional(a)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(b)},"Please enter a correct date");jQuery.validator.addMethod("phoneNL",function(b,a){return this.optional(a)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(b)},"Please specify a valid phone number.");jQuery.validator.addMethod("mobileNL",function(b,a){return this.optional(a)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(b)},"Please specify a valid mobile number");jQuery.validator.addMethod("postalcodeNL",function(b,a){return this.optional(a)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(b)},"Please specify a valid postal code");jQuery.validator.addMethod("bankaccountNL",function(f,c){if(this.optional(c)){return true}if(!(/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(f))){return false}var e=f.replace(/ /g,"");var d=0;var a=e.length;for(var h=0;h<a;h++){var b=a-h;var g=e.substring(h,h+1);d=d+b*g}return d%11===0},"Please specify a valid bank account number");jQuery.validator.addMethod("giroaccountNL",function(b,a){return this.optional(a)||/^[0-9]{1,7}$/.test(b)},"Please specify a valid giro account number");jQuery.validator.addMethod("bankorgiroaccountNL",function(b,a){return this.optional(a)||($.validator.methods.bankaccountNL.call(this,b,a))||($.validator.methods.giroaccountNL.call(this,b,a))},"Please specify a valid bank or giro account number");jQuery.validator.addMethod("time",function(b,a){return this.optional(a)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(b)},"Please enter a valid time, between 00:00 and 23:59");jQuery.validator.addMethod("time12h",function(b,a){return this.optional(a)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(b)},"Please enter a valid time in 12-hour am/pm format");jQuery.validator.addMethod("phoneUS",function(a,b){a=a.replace(/\s+/g,"");return this.optional(b)||a.length>9&&a.match(/^(\+?1-?)?(\([2-9]\d{2}\)|[2-9]\d{2})-?[2-9]\d{2}-?\d{4}$/)},"Please specify a valid phone number");jQuery.validator.addMethod("phoneUK",function(a,b){a=a.replace(/\(|\)|\s+|-/g,"");return this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number");jQuery.validator.addMethod("mobileUK",function(a,b){a=a.replace(/\(|\)|\s+|-/g,"");return this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[45789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number");jQuery.validator.addMethod("phonesUK",function(a,b){a=a.replace(/\(|\)|\s+|-/g,"");return this.optional(b)||a.length>9&&a.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[45789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number");jQuery.validator.addMethod("postcodeUK",function(b,a){return this.optional(a)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(b)},"Please specify a valid UK postcode");jQuery.validator.addMethod("strippedminlength",function(b,a,c){return jQuery(b).text().length>=c},jQuery.validator.format("Please enter at least {0} characters"));jQuery.validator.addMethod("email2",function(b,a,c){return this.optional(a)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(b)},jQuery.validator.messages.email);jQuery.validator.addMethod("url2",function(b,a,c){return this.optional(a)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)},jQuery.validator.messages.url);jQuery.validator.addMethod("creditcardtypes",function(b,a,c){if(/[^0-9\-]+/.test(b)){return false}b=b.replace(/\D/g,"");var d=0;if(c.mastercard){d|=1}if(c.visa){d|=2}if(c.amex){d|=4}if(c.dinersclub){d|=8}if(c.enroute){d|=16}if(c.discover){d|=32}if(c.jcb){d|=64}if(c.unknown){d|=128}if(c.all){d=1|2|4|8|16|32|64|128}if(d&1&&/^(5[12345])/.test(b)){return b.length===16}if(d&2&&/^(4)/.test(b)){return b.length===16}if(d&4&&/^(3[47])/.test(b)){return b.length===15}if(d&8&&/^(3(0[012345]|[68]))/.test(b)){return b.length===14}if(d&16&&/^(2(014|149))/.test(b)){return b.length===15}if(d&32&&/^(6[0245])/.test(b)){return b.length===16}if(d&64&&/^(3)/.test(b)){return b.length===16}if(d&64&&/^(2131|1800)/.test(b)){return b.length===15}if(d&128){return true}return false},"Please enter a valid credit card number.");jQuery.validator.addMethod("ipv4",function(b,a,c){return this.optional(a)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(b)},"Please enter a valid IP v4 address.");jQuery.validator.addMethod("ipv6",function(b,a,c){return this.optional(a)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(b)},"Please enter a valid IP v6 address.");jQuery.validator.addMethod("pattern",function(b,a,c){if(this.optional(a)){return true}if(typeof c==="string"){c=new RegExp("^(?:"+c+")$")}return c.test(b)},"Invalid format.");jQuery.validator.addMethod("require_from_group",function(g,f,d){var e=this;var b=d[1];var c=$(b,f.form).filter(function(){return e.elementValue(this)}).length>=d[0];if(!$(f).data("being_validated")){var a=$(b,f.form);a.data("being_validated",true);a.valid();a.data("being_validated",false)}return c},jQuery.format("Please fill at least {0} of these fields."));jQuery.validator.addMethod("skip_or_fill_minimum",function(h,e,k){var b=this,c=k[0],d=k[1];var g=$(d,e.form).filter(function(){return b.elementValue(this)}).length;var a=g>=c||g===0;if(!$(e).data("being_validated")){var f=$(d,e.form);f.data("being_validated",true);f.valid();f.data("being_validated",false)}return a},jQuery.format("Please either skip these fields or fill at least {0} of them."));jQuery.validator.addMethod("accept",function(e,c,g){var f=typeof g==="string"?g.replace(/\s/g,"").replace(/,/g,"|"):"image/*",d=this.optional(c),b,a;if(d){return d}if($(c).attr("type")==="file"){f=f.replace(/\*/g,".*");if(c.files&&c.files.length){for(b=0;b<c.files.length;b++){a=c.files[b];if(!a.type.match(new RegExp(".?("+f+")$","i"))){return false}}}}return true},jQuery.format("Please enter a value with a valid mimetype."));jQuery.validator.addMethod("extension",function(b,a,c){c=typeof c==="string"?c.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(a)||b.match(new RegExp(".("+c+")$","i"))},jQuery.format("Please enter a value with a valid extension."));jQuery.validator.addMethod("datecompare",function(c,b,e){var f=e[0].toLowerCase();var a=new Date(e[1]);var d=new Date(e[2]);switch(f){case"gt":return a>d;case"ge":return a>=d;case"eq":return a=d;case"le":return a<=d;case"lt":return a<d;default:return false}},"Please select valid date");jQuery.validator.addMethod("notequalTo",function(b,a,d){var c=$(d);return b!==c.val()},"value cannot be same");(function(){var a;a=jQuery;a.bootstrapGrowl=function(f,b){var e,c,d;b=a.extend({},a.bootstrapGrowl.default_options,b);e=a("<div>");e.attr("class","bootstrap-growl alert");if(b.type){e.addClass("alert-"+b.type)}if(b.allow_dismiss){e.append('<a class="close" data-dismiss="alert" href="#">&times;</a>')}if(b.icon!=""){f='<i class="'+b.icon+'"></i> '+f}e.append(f);if(b.top_offset){b.offset={from:"top",amount:b.top_offset}}d=b.offset.amount;a(".bootstrap-growl").each(function(){return d=Math.max(d,parseInt(a(this).css(b.offset.from))+a(this).outerHeight()+b.stackup_spacing)});c={position:(b.ele==="body"?"fixed":"absolute"),margin:0,"z-index":"9999",display:"none","text-align":"center"};c[b.offset.from]=d+"px";e.css(c);if(b.width!=="auto"){e.css("width",b.width)}a(b.ele).append(e);switch(b.align){case"center":e.css({left:"50%","margin-left":"-"+(e.outerWidth()/2)+"px"});break;case"left":e.css("left","20px");break;default:e.css("right","20px")}e.fadeIn();if(b.delay>0){e.delay(b.delay).fadeOut(function(){return a(this).alert("close")})}return e};a.bootstrapGrowl.default_options={ele:"body",type:"success",offset:{from:"top",amount:20},align:"center",width:"auto",delay:6000,allow_dismiss:true,stackup_spacing:10,icon:"icon-info-sign"}}).call(this);var Hogan={};(function(l,h){l.Template=function(q,r,p,o){this.r=q||this.r;this.c=p;this.options=o;this.text=r||"";this.buf=(h)?[]:""};l.Template.prototype={r:function(q,p,o){return""},v:c,t:e,render:function b(q,p,o){return this.ri([q],p||{},o)},ri:function(q,p,o){return this.r(q,p,o)},rp:function(q,s,r,o){var p=r[q];if(!p){return""}if(this.c&&typeof p=="string"){p=this.c.compile(p,this.options)}return p.ri(s,r,o)},rs:function(r,q,s){var o=r[r.length-1];if(!g(o)){s(r,q,this);return}for(var p=0;p<o.length;p++){r.push(o[p]);s(r,q,this);r.pop()}},s:function(u,p,s,q,v,o,r){var t;if(g(u)&&u.length===0){return false}if(typeof u=="function"){u=this.ls(u,p,s,q,v,o,r)}t=(u==="")||!!u;if(!q&&t&&p){p.push((typeof u=="object")?u:p[p.length-1])}return t},d:function(s,p,r,t){var u=s.split("."),v=this.f(u[0],p,r,t),o=null;if(s==="."&&g(p[p.length-2])){return p[p.length-1]}for(var q=1;q<u.length;q++){if(v&&typeof v=="object"&&u[q] in v){o=v;v=v[u[q]]}else{v=""}}if(t&&!v){return false}if(!t&&typeof v=="function"){p.push(o);v=this.lv(v,p,r);p.pop()}return v},f:function(s,o,r,t){var w=false,p=null,u=false;for(var q=o.length-1;q>=0;q--){p=o[q];if(p&&typeof p=="object"&&s in p){w=p[s];u=true;break}}if(!u){return(t)?false:""}if(!t&&typeof w=="function"){w=this.lv(w,o,r)}return w},ho:function(u,o,r,t,q){var s=this.c;var p=this.options;p.delimiters=q;var t=u.call(o,t);t=(t==null)?String(t):t.toString();this.b(s.compile(t,p).render(o,r));return false},b:(h)?function(o){this.buf.push(o)}:function(o){this.buf+=o},fl:(h)?function(){var o=this.buf.join("");this.buf=[];return o}:function(){var o=this.buf;this.buf="";return o},ls:function(p,w,u,q,o,r,x){var s=w[w.length-1],v=null;if(!q&&this.c&&p.length>0){return this.ho(p,s,u,this.text.substring(o,r),x)}v=p.call(s);if(typeof v=="function"){if(q){return true}else{if(this.c){return this.ho(v,s,u,this.text.substring(o,r),x)}}}return v},lv:function(s,q,r){var p=q[q.length-1];var o=s.call(p);if(typeof o=="function"){o=e(o.call(p));if(this.c&&~o.indexOf("{\u007B")){return this.c.compile(o,this.options).render(p,r)}}return e(o)}};var k=/&/g,d=/</g,a=/>/g,n=/\'/g,m=/\"/g,f=/[&<>\"\']/;function e(o){return String((o===null||o===undefined)?"":o)}function c(o){o=e(o);return f.test(o)?o.replace(k,"&amp;").replace(d,"&lt;").replace(a,"&gt;").replace(n,"&#39;").replace(m,"&quot;"):o}var g=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"}})(typeof exports!=="undefined"?exports:Hogan);(function(p){var f=/\S/,l=/\"/g,q=/\n/g,m=/\r/g,w=/\\/g,a={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};p.scan=function o(I,D){var Q=I.length,A=0,F=1,z=2,B=A,E=null,S=null,R="",L=[],H=false,P=0,M=0,J="{{",O="}}";function N(){if(R.length>0){L.push(new String(R));R=""}}function C(){var U=true;for(var T=M;T<L.length;T++){U=(L[T].tag&&a[L[T].tag]<a._v)||(!L[T].tag&&L[T].match(f)===null);if(!U){return false}}return U}function K(W,T){N();if(W&&C()){for(var U=M,V;U<L.length;U++){if(!L[U].tag){if((V=L[U+1])&&V.tag==">"){V.indent=L[U].toString()}L.splice(U,1)}}}else{if(!T){L.push({tag:"\n"})}}H=false;M=L.length}function G(X,U){var W="="+O,T=X.indexOf(W,U),V=s(X.substring(X.indexOf("=",U)+1,T)).split(" ");J=V[0];O=V[1];return T+W.length-1}if(D){D=D.split(" ");J=D[0];O=D[1]}for(P=0;P<Q;P++){if(B==A){if(y(J,I,P)){--P;N();B=F}else{if(I.charAt(P)=="\n"){K(H)}else{R+=I.charAt(P)}}}else{if(B==F){P+=J.length-1;S=a[I.charAt(P+1)];E=S?I.charAt(P+1):"_v";if(E=="="){P=G(I,P);B=A}else{if(S){P++}B=z}H=P}else{if(y(O,I,P)){L.push({tag:E,n:s(R),otag:J,ctag:O,i:(E=="/")?H-O.length:P+J.length});R="";P+=O.length-1;B=A;if(E=="{"){if(O=="}}"){P++}else{t(L[L.length-1])}}}else{R+=I.charAt(P)}}}}K(H,true);return L};function t(z){if(z.n.substr(z.n.length-1)==="}"){z.n=z.n.substring(0,z.n.length-1)}}function s(z){if(z.trim){return z.trim()}return z.replace(/^\s*|\s*$/g,"")}function y(z,D,B){if(D.charAt(B)!=z.charAt(0)){return false}for(var C=1,A=z.length;C<A;C++){if(D.charAt(B+C)!=z.charAt(C)){return false}}return true}function b(F,C,A,E){var z=[],D=null,B=null;while(F.length>0){B=F.shift();if(B.tag=="#"||B.tag=="^"||e(B,E)){A.push(B);B.nodes=b(F,B.tag,A,E);z.push(B)}else{if(B.tag=="/"){if(A.length===0){throw new Error("Closing tag without opener: /"+B.n)}D=A.pop();if(B.n!=D.n&&!g(B.n,D.n,E)){throw new Error("Nesting error: "+D.n+" vs. "+B.n)}D.end=B.i;return z}else{z.push(B)}}}if(A.length>0){throw new Error("missing closing tag: "+A.pop().n)}return z}function e(C,A){for(var B=0,z=A.length;B<z;B++){if(A[B].o==C.n){C.tag="#";return true}}}function g(D,B,A){for(var C=0,z=A.length;C<z;C++){if(A[C].c==D&&A[C].o==B){return true}}}p.generate=function(z,C,A){var B='var _=this;_.b(i=i||"");'+v(z)+"return _.fl();";if(A.asString){return"function(c,p,i){"+B+";}"}return new p.Template(new Function("c","p","i",B),C,p,A)};function x(z){return z.replace(w,"\\\\").replace(l,'\\"').replace(q,"\\n").replace(m,"\\r")}function k(z){return(~z.indexOf("."))?"d":"f"}function v(A){var D="";for(var C=0,B=A.length;C<B;C++){var z=A[C].tag;if(z=="#"){D+=h(A[C].nodes,A[C].n,k(A[C].n),A[C].i,A[C].end,A[C].otag+" "+A[C].ctag)}else{if(z=="^"){D+=u(A[C].nodes,A[C].n,k(A[C].n))}else{if(z=="<"||z==">"){D+=d(A[C])}else{if(z=="{"||z=="&"){D+=c(A[C].n,k(A[C].n))}else{if(z=="\n"){D+=n('"\\n"'+(A.length-1==C?"":" + i"))}else{if(z=="_v"){D+=r(A[C].n,k(A[C].n))}else{if(z===undefined){D+=n('"'+x(A[C])+'"')}}}}}}}}return D}function h(A,E,D,C,z,B){return"if(_.s(_."+D+'("'+x(E)+'",c,p,1),c,p,0,'+C+","+z+',"'+B+'")){_.rs(c,p,function(c,p,_){'+v(A)+"});c.pop();}"}function u(z,B,A){return"if(!_.s(_."+A+'("'+x(B)+'",c,p,1),c,p,1,0,0,"")){'+v(z)+"};"}function d(z){return'_.b(_.rp("'+x(z.n)+'",c,p,"'+(z.indent||"")+'"));'}function c(A,z){return"_.b(_.t(_."+z+'("'+x(A)+'",c,p,0)));'}function r(A,z){return"_.b(_.v(_."+z+'("'+x(A)+'",c,p,0)));'}function n(z){return"_.b("+z+");"}p.parse=function(A,B,z){z=z||{};return b(A,"",[],z.sectionTags||[])},p.cache={};p.compile=function(C,z){z=z||{};var B=C+"||"+!!z.asString;var A=this.cache[B];if(A){return A}A=this.generate(this.parse(this.scan(C,z.delimiters),C,z),C,z);return this.cache[B]=A}})(typeof exports!=="undefined"?exports:Hogan);
/*!
 * typeahead.js 0.9.3
 * https://github.com/twitter/typeahead
 * Copyright 2013 Twitter, Inc. and other contributors; Licensed MIT
 */
(function(c){var n="0.9.3";var l={isMsie:function(){var o=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return o?parseInt(o[2],10):false},isBlankString:function(o){return !o||/^\s*$/.test(o)},escapeRegExChars:function(o){return o.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(o){return typeof o==="string"},isNumber:function(o){return typeof o==="number"},isArray:c.isArray,isFunction:c.isFunction,isObject:c.isPlainObject,isUndefined:function(o){return typeof o==="undefined"},bind:c.proxy,bindAll:function(p){var q;for(var o in p){c.isFunction(q=p[o])&&(p[o]=c.proxy(q,p))}},indexOf:function(p,q){for(var o=0;o<p.length;o++){if(p[o]===q){return o}}return -1},each:c.each,map:c.map,filter:c.grep,every:function(p,q){var o=true;if(!p){return o}c.each(p,function(r,s){if(!(o=q.call(null,s,r,p))){return false}});return !!o},some:function(p,q){var o=false;if(!p){return o}c.each(p,function(r,s){if(o=q.call(null,s,r,p)){return false}});return !!o},mixin:c.extend,getUniqueId:function(){var o=0;return function(){return o++}}(),defer:function(o){setTimeout(o,0)},debounce:function(q,s,p){var r,o;return function(){var w=this,v=arguments,u,t;u=function(){r=null;if(!p){o=q.apply(w,v)}};t=p&&!r;clearTimeout(r);r=setTimeout(u,s);if(t){o=q.apply(w,v)}return o}},throttle:function(t,v){var r,q,u,o,s,p;s=0;p=function(){s=new Date();u=null;o=t.apply(r,q)};return function(){var w=new Date(),x=v-(w-s);r=this;q=arguments;if(x<=0){clearTimeout(u);u=null;s=w;o=t.apply(r,q)}else{if(!u){u=setTimeout(p,x)}}return o}},tokenizeQuery:function(o){return c.trim(o).toLowerCase().split(/[\s]+/)},tokenizeText:function(o){return c.trim(o).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}};var m=function(){var o=/\s+/;return{on:function(p,r){var q;if(!r){return this}this._callbacks=this._callbacks||{};p=p.split(o);while(q=p.shift()){this._callbacks[q]=this._callbacks[q]||[];this._callbacks[q].push(r)}return this},trigger:function(q,t){var s,r;if(!this._callbacks){return this}q=q.split(o);while(s=q.shift()){if(r=this._callbacks[s]){for(var p=0;p<r.length;p+=1){r[p].call(this,{type:s,data:t})}}}return this}}}();var e=function(){var p="typeahead:";function o(q){if(!q||!q.el){c.error("EventBus initialized without el")}this.$el=c(q.el)}l.mixin(o.prototype,{trigger:function(r){var q=[].slice.call(arguments,1);this.$el.trigger(p+r,q)}});return o}();var g=function(){var o,p;try{o=window.localStorage;o.setItem("~~~","!");o.removeItem("~~~")}catch(t){o=null}function r(v){this.prefix=["__",v,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}if(o&&window.JSON){p={_prefix:function(v){return this.prefix+v},_ttlKey:function(v){return this._prefix(v)+this.ttlKey},get:function(v){if(this.isExpired(v)){this.remove(v)}return u(o.getItem(this._prefix(v)))},set:function(w,x,v){if(l.isNumber(v)){o.setItem(this._ttlKey(w),s(q()+v))}else{o.removeItem(this._ttlKey(w))}return o.setItem(this._prefix(w),s(x))},remove:function(v){o.removeItem(this._ttlKey(v));o.removeItem(this._prefix(v));return this},clear:function(){var x,w,y=[],v=o.length;for(x=0;x<v;x++){if((w=o.key(x)).match(this.keyMatcher)){y.push(w.replace(this.keyMatcher,""))}}for(x=y.length;x--;){this.remove(y[x])}return this},isExpired:function(w){var v=u(o.getItem(this._ttlKey(w)));return l.isNumber(v)&&q()>v?true:false}}}else{p={get:l.noop,set:l.noop,remove:l.noop,clear:l.noop,isExpired:l.noop}}l.mixin(r.prototype,p);return r;function q(){return new Date().getTime()}function s(v){return JSON.stringify(l.isUndefined(v)?null:v)}function u(v){return JSON.parse(v)}}();var k=function(){function o(p){l.bindAll(this);p=p||{};this.sizeLimit=p.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]}l.mixin(o.prototype,{get:function(p){return this.cache[p]},set:function(q,r){var p;if(this.cachedKeysByAge.length===this.sizeLimit){p=this.cachedKeysByAge.shift();delete this.cache[p]}this.cache[q]=r;this.cachedKeysByAge.push(q)}});return o}();var d=function(){var p=0,s={},o,u;function v(w){l.bindAll(this);w=l.isString(w)?{url:w}:w;u=u||new k();o=l.isNumber(w.maxParallelRequests)?w.maxParallelRequests:o||6;this.url=w.url;this.wildcard=w.wildcard||"%QUERY";this.filter=w.filter;this.replace=w.replace;this.ajaxSettings={type:"get",cache:w.cache,timeout:w.timeout,dataType:w.dataType||"json",beforeSend:w.beforeSend};this._get=(/^throttle$/i.test(w.rateLimitFn)?l.throttle:l.debounce)(this._get,w.rateLimitWait||300)}l.mixin(v.prototype,{_get:function(y,w){var z=this;if(r()){this._sendRequest(y).done(x)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function x(B){var A=z.filter?z.filter(B):B;w&&w(A);u.set(y,B)}},_sendRequest:function(x){var z=this,y=s[x];if(!y){q();y=s[x]=c.ajax(x,this.ajaxSettings).always(w)}return y;function w(){t();s[x]=null;if(z.onDeckRequestArgs){z._get.apply(z,z.onDeckRequestArgs);z.onDeckRequestArgs=null}}},get:function(A,w){var z=this,y=encodeURIComponent(A||""),x,B;w=w||l.noop;x=this.replace?this.replace(this.url,y):this.url.replace(this.wildcard,y);if(B=u.get(x)){l.defer(function(){w(z.filter?z.filter(B):B)})}else{this._get(x,w)}return !!B}});return v;function q(){p++}function t(){p--}function r(){return p<o}}();var a=function(){var q={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};function p(r){l.bindAll(this);if(l.isString(r.template)&&!r.engine){c.error("no template engine specified")}if(!r.local&&!r.prefetch&&!r.remote){c.error("one of local, prefetch, or remote is required")}this.name=r.name||l.getUniqueId();this.limit=r.limit||5;this.minLength=r.minLength||1;this.header=r.header;this.footer=r.footer;this.valueKey=r.valueKey||"value";this.template=o(r.template,r.engine,this.valueKey);this.local=r.local;this.prefetch=r.prefetch;this.remote=r.remote;this.itemHash={};this.adjacencyList={};this.storage=r.name?new g(r.name):null}l.mixin(p.prototype,{_processLocalData:function(r){this._mergeProcessedData(this._processData(r))},_loadPrefetchData:function(s){var v=this,A=n+(s.thumbprint||""),y,t,w,r,u,z;if(this.storage){y=this.storage.get(q.thumbprint);t=this.storage.get(q.protocol);w=this.storage.get(q.itemHash);r=this.storage.get(q.adjacencyList)}u=y!==A||t!==l.getProtocol();s=l.isString(s)?{url:s}:s;s.ttl=l.isNumber(s.ttl)?s.ttl:24*60*60*1000;if(w&&r&&!u){this._mergeProcessedData({itemHash:w,adjacencyList:r});z=c.Deferred().resolve()}else{z=c.getJSON(s.url).done(x)}return z;function x(F){var E=s.filter?s.filter(F):F,D=v._processData(E),B=D.itemHash,C=D.adjacencyList;if(v.storage){v.storage.set(q.itemHash,B,s.ttl);v.storage.set(q.adjacencyList,C,s.ttl);v.storage.set(q.thumbprint,A,s.ttl);v.storage.set(q.protocol,l.getProtocol(),s.ttl)}v._mergeProcessedData(D)}},_transformDatum:function(r){var t=l.isString(r)?r:r[this.valueKey],u=r.tokens||l.tokenizeText(t),s={value:t,tokens:u};if(l.isString(r)){s.datum={};s.datum[this.valueKey]=r}else{s.datum=r}s.tokens=l.filter(s.tokens,function(v){return !l.isBlankString(v)});s.tokens=l.map(s.tokens,function(v){return v.toLowerCase()});return s},_processData:function(u){var t=this,r={},s={};l.each(u,function(w,v){var x=t._transformDatum(v),y=l.getUniqueId(x.value);r[y]=x;l.each(x.tokens,function(A,z){var C=z.charAt(0),B=s[C]||(s[C]=[y]);!~l.indexOf(B,y)&&B.push(y)})});return{itemHash:r,adjacencyList:s}},_mergeProcessedData:function(r){var s=this;l.mixin(this.itemHash,r.itemHash);l.each(r.adjacencyList,function(v,u){var t=s.adjacencyList[v];s.adjacencyList[v]=t?t.concat(u):u})},_getLocalSuggestions:function(w){var v=this,u=[],s=[],t,r=[];l.each(w,function(y,x){var z=x.charAt(0);!~l.indexOf(u,z)&&u.push(z)});l.each(u,function(x,y){var z=v.adjacencyList[y];if(!z){return false}s.push(z);if(!t||z.length<t.length){t=z}});if(s.length<u.length){return[]}l.each(t,function(x,B){var z=v.itemHash[B],A,y;A=l.every(s,function(C){return ~l.indexOf(C,B)});y=A&&l.every(w,function(C){return l.some(z.tokens,function(D){return D.indexOf(C)===0})});y&&r.push(z)});return r},initialize:function(){var r;this.local&&this._processLocalData(this.local);this.transport=this.remote?new d(this.remote):null;r=this.prefetch?this._loadPrefetchData(this.prefetch):c.Deferred().resolve();this.local=this.prefetch=this.remote=null;this.initialize=function(){return r};return r},getSuggestions:function(w,s){var v=this,u,r,t=false;if(w.length<this.minLength){return}u=l.tokenizeQuery(w);r=this._getLocalSuggestions(u).slice(0,this.limit);if(r.length<this.limit&&this.transport){t=this.transport.get(w,x)}!t&&s&&s(r);function x(y){r=r.slice(0);l.each(y,function(B,A){var C=v._transformDatum(A),z;z=l.some(r,function(D){return C.value===D.value});!z&&r.push(C);return r.length<v.limit});s&&s(r)}}});return p;function o(u,t,v){var s,r;if(l.isFunction(u)){s=u}else{if(l.isString(u)){r=t.compile(u);s=l.bind(r.render,r)}else{s=function(w){return"<p>"+w[v]+"</p>"}}}return s}}();var b=function(){function p(s){var r=this;l.bindAll(this);this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.$hint=c(s.hint);this.$input=c(s.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent);if(!l.isMsie()){this.$input.on("input.tt",this._compareQueryToInputValue)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){if(r.specialKeyCodeMap[t.which||t.keyCode]){return}l.defer(r._compareQueryToInputValue)})}this.query=this.$input.val();this.$overflowHelper=q(this.$input)}l.mixin(p.prototype,m,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(r){var s=this.specialKeyCodeMap[r.which||r.keyCode];s&&this.trigger(s+"Keyed",r)},_compareQueryToInputValue:function(){var r=this.getInputValue(),t=o(this.query,r),s=t?this.query.length!==r.length:false;if(s){this.trigger("whitespaceChanged",{value:this.query})}else{if(!t){this.trigger("queryChanged",{value:this.query=r})}}},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(r){this.query=r},getInputValue:function(){return this.$input.val()},setInputValue:function(s,r){this.$input.val(s);!r&&this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(r){this.$hint.val(r)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var s=this.$input.val().length,t=this.$input[0].selectionStart,r;if(l.isNumber(t)){return t===s}else{if(document.selection){r=document.selection.createRange();r.moveStart("character",-s);return s===r.text.length}}return true}});return p;function q(r){return c("<span></span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:r.css("font-family"),fontSize:r.css("font-size"),fontStyle:r.css("font-style"),fontVariant:r.css("font-variant"),fontWeight:r.css("font-weight"),wordSpacing:r.css("word-spacing"),letterSpacing:r.css("letter-spacing"),textIndent:r.css("text-indent"),textRendering:r.css("text-rendering"),textTransform:r.css("text-transform")}).insertAfter(r)}function o(s,r){s=(s||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");r=(r||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ");return s===r}}();var f=function(){var q={suggestionsList:'<span class="tt-suggestions"></span>'},p={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};function r(s){l.bindAll(this);this.isOpen=false;this.isEmpty=true;this.isMouseOverDropdown=false;this.$menu=c(s.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}l.mixin(r.prototype,m,{_handleMouseenter:function(){this.isMouseOverDropdown=true},_handleMouseleave:function(){this.isMouseOverDropdown=false},_handleMouseover:function(t){var s=c(t.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");s.addClass("tt-is-under-cursor")},_handleSelection:function(t){var s=c(t.currentTarget);this.trigger("suggestionSelected",o(s))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(u){var w,t,s,v;if(!this.isVisible()){return}w=this._getSuggestions();t=w.filter(".tt-is-under-cursor");t.removeClass("tt-is-under-cursor");s=w.index(t)+u;s=(s+1)%(w.length+1)-1;if(s===-1){this.trigger("cursorRemoved");return}else{if(s<-1){s=w.length-1}}v=w.eq(s).addClass("tt-is-under-cursor");this._ensureVisibility(v);this.trigger("cursorMoved",o(v))},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(v){var w=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),t=this.$menu.scrollTop(),s=v.position().top,u=s+v.outerHeight(true);if(s<0){this.$menu.scrollTop(t+s)}else{if(w<u){this.$menu.scrollTop(t+(u-w))}}},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){if(!this.isMouseOverDropdown){this.close()}},close:function(){if(this.isOpen){this.isOpen=false;this.isMouseOverDropdown=false;this._hide();this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor");this.trigger("closed")}},open:function(){if(!this.isOpen){this.isOpen=true;!this.isEmpty&&this._show();this.trigger("opened")}},setLanguageDirection:function(s){var t={left:"0",right:"auto"},u={left:"auto",right:" 0"};s==="ltr"?this.$menu.css(t):this.$menu.css(u)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(+1)},getSuggestionUnderCursor:function(){var s=this._getSuggestions().filter(".tt-is-under-cursor").first();return s.length>0?o(s):null},getFirstSuggestion:function(){var s=this._getSuggestions().first();return s.length>0?o(s):null},renderSuggestions:function(v,w){var s="tt-dataset-"+v.name,t='<div class="tt-suggestion">%body</div>',z,y,A=this.$menu.find("."+s),u,x,B;if(A.length===0){y=c(q.suggestionsList).css(p.suggestionsList);A=c("<div></div>").addClass(s).append(v.header).append(y).append(v.footer).appendTo(this.$menu)}if(w.length>0){this.isEmpty=false;this.isOpen&&this._show();u=document.createElement("div");x=document.createDocumentFragment();l.each(w,function(D,C){C.dataset=v.name;z=v.template(C.datum);u.innerHTML=t.replace("%body",z);B=c(u.firstChild).css(p.suggestion).data("suggestion",C);B.children().each(function(){c(this).css(p.suggestionChild)});x.appendChild(B[0])});A.show().find(".tt-suggestions").html(x)}else{this.clearSuggestions(v.name)}this.trigger("suggestionsRendered")},clearSuggestions:function(u){var s=u?this.$menu.find(".tt-dataset-"+u):this.$menu.find('[class^="tt-dataset-"]'),t=s.find(".tt-suggestions");s.hide();t.empty();if(this._getSuggestions().length===0){this.isEmpty=true;this._hide()}}});return r;function o(s){return s.data("suggestion")}}();var h=function(){var s={wrapper:'<span class="twitter-typeahead"></span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"></span>'},r={wrapper:{position:"relative",display:"inherit"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};if(l.isMsie()){l.mixin(r.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}if(l.isMsie()&&l.isMsie()<=7){l.mixin(r.wrapper,{display:"inline",zoom:"1"});l.mixin(r.query,{marginTop:"-1px"})}function p(v){var u,w,t;l.bindAll(this);this.$node=o(v.input);this.datasets=v.datasets;this.dir=null;this.eventBus=v.eventBus;u=this.$node.find(".tt-dropdown-menu");w=this.$node.find(".tt-query");t=this.$node.find(".tt-hint");this.dropdownView=new f({menu:u}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);this.inputView=new b({input:w,hint:t}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}l.mixin(p.prototype,m,{_managePreventDefault:function(w){var v=w.data,x,t,u=false;switch(w.type){case"tabKeyed":x=this.inputView.getHintValue();t=this.inputView.getInputValue();u=x&&x!==t;break;case"upKeyed":case"downKeyed":u=!v.shiftKey&&!v.ctrlKey&&!v.metaKey;break}u&&v.preventDefault()},_setLanguageDirection:function(){var t=this.inputView.getLanguageDirection();if(t!==this.dir){this.dir=t;this.$node.css("direction",t);this.dropdownView.setLanguageDirection(t)}},_updateHint:function(){var w=this.dropdownView.getFirstSuggestion(),v=w?w.value:null,z=this.dropdownView.isVisible(),y=this.inputView.isOverflow(),u,A,B,t,x;if(v&&z&&!y){u=this.inputView.getInputValue();A=u.replace(/\s{2,}/g," ").replace(/^\s+/g,"");B=l.escapeRegExChars(A);t=new RegExp("^(?:"+B+")(.*$)","i");x=t.exec(v);this.inputView.setHintValue(u+(x?x[1]:""))}},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(u){var t=u.data;this.inputView.setInputValue(t.value,true)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(t){this.dropdownView[t.type==="blured"?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(u){var t=u.data;if(!t.shiftKey&&!t.ctrlKey&&!t.metaKey){this.dropdownView[u.type==="upKeyed"?"moveCursorUp":"moveCursorDown"]()}},_handleSelection:function(v){var u=v.type==="suggestionSelected",t=u?v.data:this.dropdownView.getSuggestionUnderCursor();if(t){this.inputView.setInputValue(t.value);u?this.inputView.focus():v.data.preventDefault();u&&l.isMsie()?l.defer(this.dropdownView.close):this.dropdownView.close();this.eventBus.trigger("selected",t.datum,t.dataset)}},_getSuggestions:function(){var t=this,u=this.inputView.getQuery();if(l.isBlankString(u)){return}l.each(this.datasets,function(v,w){w.getSuggestions(u,function(x){if(u===t.inputView.getQuery()){t.dropdownView.renderSuggestions(w,x)}})})},_autocomplete:function(x){var u,t,w,y,v;if(x.type==="rightKeyed"||x.type==="leftKeyed"){u=this.inputView.isCursorAtEnd();t=this.inputView.getLanguageDirection()==="ltr"?x.type==="leftKeyed":x.type==="rightKeyed";if(!u||t){return}}w=this.inputView.getQuery();y=this.inputView.getHintValue();if(y!==""&&w!==y){v=this.dropdownView.getFirstSuggestion();this.inputView.setInputValue(v.value);this.eventBus.trigger("autocompleted",v.datum,v.dataset)}},_propagateEvent:function(t){this.eventBus.trigger(t.type)},destroy:function(){this.inputView.destroy();this.dropdownView.destroy();q(this.$node);this.$node=null},setQuery:function(t){this.inputView.setQuery(t);this.inputView.setInputValue(t);this._clearHint();this._clearSuggestions();this._getSuggestions()}});return p;function o(t){var v=c(s.wrapper),x=c(s.dropdown),y=c(t),u=c(s.hint);v=v.css(r.wrapper);x=x.css(r.dropdown);u.css(r.hint).css({backgroundAttachment:y.css("background-attachment"),backgroundClip:y.css("background-clip"),backgroundColor:y.css("background-color"),backgroundImage:y.css("background-image"),backgroundOrigin:y.css("background-origin"),backgroundPosition:y.css("background-position"),backgroundRepeat:y.css("background-repeat"),backgroundSize:y.css("background-size")});y.data("ttAttrs",{dir:y.attr("dir"),autocomplete:y.attr("autocomplete"),spellcheck:y.attr("spellcheck"),style:y.attr("style")});y.addClass("tt-query").attr({autocomplete:"off",spellcheck:false}).css(r.query);try{!y.attr("dir")&&y.attr("dir","auto")}catch(w){}return y.wrap(v).parent().prepend(u).append(x)}function q(t){var u=t.find(".tt-query");l.each(u.data("ttAttrs"),function(v,w){l.isUndefined(w)?u.removeAttr(v):u.attr(v,w)});u.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(t);t.remove()}}();(function(){var p={},q="ttView",o;o={initialize:function(t){var s;t=l.isArray(t)?t:[t];if(t.length===0){c.error("no datasets provided")}s=l.map(t,function(v){var u=p[v.name]?p[v.name]:new a(v);if(v.name){p[v.name]=u}return u});return this.each(r);function r(){var w=c(this),v,u=new e({el:w});v=l.map(s,function(x){return x.initialize()});w.data(q,new h({input:w,eventBus:u=new e({el:w}),datasets:s}));c.when.apply(c,v).always(function(){l.defer(function(){u.trigger("initialized")})})}},destroy:function(){return this.each(r);function r(){var t=c(this),s=t.data(q);if(s){s.destroy();t.removeData(q)}}},setQuery:function(r){return this.each(s);function s(){var t=c(this).data(q);t&&t.setQuery(r)}}};jQuery.fn.typeahead=function(r){if(o[r]){return o[r].apply(this,[].slice.call(arguments,1))}else{return o.initialize.apply(this,arguments)}}})()})(window.jQuery);var Holder=Holder||{};(function(h,e){var w=false,o=false,d=document.createElement("canvas");var a=1,u=1;var b=[];if(!d.getContext){o=true}else{if(d.toDataURL("image/png").indexOf("data:image/png")<0){o=true}else{var n=d.getContext("2d")}}if(!o){a=window.devicePixelRatio||1,u=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1}var g=a/u;var s={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12},sky:{background:"#0D8FDB",foreground:"#fff",size:12},vine:{background:"#39DBAC",foreground:"#1E292C",size:12},lava:{background:"#F8591A",foreground:"#1C2846",size:12},sky2:{background:"#8CBAD1",foreground:"#fff",size:12}},stylesheet:""};h.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(z){var y=this.regex.exec(z);return{width:+y[1],height:+y[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(z){var y=this.regex.exec(z);return{width:y[1],height:y[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(z){var y=this.regex.exec(z);return{size:s.themes.gray.size,foreground:"#"+y[2],background:"#"+y[1]}}},text:{regex:/text\:(.*)/,output:function(y){return this.regex.exec(y)[1]}},font:{regex:/font\:(.*)/,output:function(y){return this.regex.exec(y)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(y){return this.regex.exec(y)[1]}}};document.getElementsByClassName||(document.getElementsByClassName=function(C){var z=document,D,B,y,A=[];if(z.querySelectorAll){return z.querySelectorAll("."+C)}if(z.evaluate){B=".//*[contains(concat(' ', @class, ' '), ' "+C+" ')]",D=z.evaluate(B,z,null,0,null);while(y=D.iterateNext()){A.push(y)}}else{D=z.getElementsByTagName("*"),B=new RegExp("(^|\\s)"+C+"(\\s|$)");for(y=0;y<D.length;y++){B.test(D[y].className)&&A.push(D[y])}}return A});window.getComputedStyle||(window.getComputedStyle=function(y){return this.el=y,this.getPropertyValue=function(z){var A=/(\-([a-z]){1})/g;return z=="float"&&(z="styleFloat"),A.test(z)&&(z=z.replace(A,function(){return arguments[2].toUpperCase()})),y.currentStyle[z]?y.currentStyle[z]:null},this});function t(B,M){var C="complete",N="readystatechange",L=!1,E=L,H=!0,D=B.document,J=D.documentElement,G=D.addEventListener?"addEventListener":"attachEvent",K=D.addEventListener?"removeEventListener":"detachEvent",F=D.addEventListener?"":"on",z=function(y){(y.type!=N||D.readyState==C)&&((y.type=="load"?B:D)[K](F+y.type,z,L),!E&&(E=!0)&&M.call(B,null))},A=function(){try{J.doScroll("left")}catch(y){setTimeout(A,50);return}z("poll")};if(D.readyState==C){M.call(B,"lazy")}else{if(D.createEventObject&&J.doScroll){try{H=!B.frameElement}catch(I){}H&&A()}D[G](F+"DOMContentLoaded",z,L),D[G](F+N,z,L),B[G](F+"load",z,L)}}function p(z){z=z.match(/^(\W)?(.*)/);var y=document["getElement"+(z[1]?z[1]=="#"?"ById":"sByClassName":"sByTagName")](z[2]);var A=[];y!==null&&(y.length?A=y:y.length===0?A=y:A=[y]);return A}function r(z,y){var B={};for(var A in z){if(z.hasOwnProperty(A)){B[A]=z[A]}}for(var A in y){if(y.hasOwnProperty(A)){B[A]=y[A]}}return B}if(!Object.prototype.hasOwnProperty){Object.prototype.hasOwnProperty=function(z){var y=this.__proto__||this.constructor.prototype;return(z in this)&&(!(z in y)||y[z]!==this[z])}}function l(D,z,C){z=parseInt(z,10);D=parseInt(D,10);var y=Math.max(z,D);var B=Math.min(z,D);var E=1/12;var A=Math.min(B*0.75,0.75*y*E);return{height:Math.round(Math.max(C.size,A))}}function k(G){var M=G.ctx;var y=G.dimensions;var J=G.template;var F=G.ratio;var H=G.holder;var I=H.textmode=="literal";var C=H.textmode=="exact";var E=l(y.width,y.height,J);var D=E.height;var A=y.width*F,L=y.height*F;var B=J.font?J.font:"Arial,Helvetica,sans-serif";d.width=A;d.height=L;M.textAlign="center";M.textBaseline="middle";M.fillStyle=J.background;M.fillRect(0,0,A,L);M.fillStyle=J.foreground;M.font="bold "+D+"px "+B;var K=J.text?J.text:(Math.floor(y.width)+"x"+Math.floor(y.height));if(I){var y=H.dimensions;K=y.width+"x"+y.height}else{if(C&&H.exact_dimensions){var y=H.exact_dimensions;K=(Math.floor(y.width)+"x"+Math.floor(y.height))}}var z=M.measureText(K).width;if(z/A>=0.75){D=Math.floor(D*0.75*(A/z))}M.font="bold "+(D*F)+"px "+B;M.fillText(K,(A/2),(L/2),A);return d.toDataURL("image/png")}function x(F,A,z,E){var B=z.dimensions,C=z.theme,D=z.text?decodeURIComponent(z.text):z.text;var y=B.width+"x"+B.height;C=(D?r(C,{text:D}):C);C=(z.font?r(C,{font:z.font}):C);A.setAttribute("data-src",E);z.theme=C;A.holder_data=z;if(F=="image"){A.setAttribute("alt",D?D:C.text?C.text+" ["+y+"]":y);if(o||!z.auto){A.style.width=B.width+"px";A.style.height=B.height+"px"}if(o){A.style.backgroundColor=C.background}else{A.setAttribute("src",k({ctx:n,dimensions:B,template:C,ratio:g,holder:z}));if(z.textmode&&z.textmode=="exact"){b.push(A);v(A)}}}else{if(F=="background"){if(!o){A.style.backgroundImage="url("+k({ctx:n,dimensions:B,template:C,ratio:g,holder:z})+")";A.style.backgroundSize=B.width+"px "+B.height+"px"}}else{if(F=="fluid"){A.setAttribute("alt",D?D:C.text?C.text+" ["+y+"]":y);if(B.height.slice(-1)=="%"){A.style.height=B.height}else{if(z.auto==null||!z.auto){A.style.height=B.height+"px"}}if(B.width.slice(-1)=="%"){A.style.width=B.width}else{if(z.auto==null||!z.auto){A.style.width=B.width+"px"}}if(A.style.display=="inline"||A.style.display===""||A.style.display=="none"){A.style.display="block"}c(A);if(o){A.style.backgroundColor=C.background}else{b.push(A);v(A)}}}}}function m(y,A){var z={height:y.clientHeight,width:y.clientWidth};if(!z.height&&!z.width){if(y.hasAttribute("data-holder-invisible")){throw new Error("Holder: placeholder is not visible")}else{y.setAttribute("data-holder-invisible",true);setTimeout(function(){A.call(this,y)},1);return null}}else{y.removeAttribute("data-holder-invisible")}return z}function c(z){if(z.holder_data){var A=m(z,c);if(A){var y=z.holder_data;y.initial_dimensions=A;y.fluid_data={fluid_height:y.dimensions.height.slice(-1)=="%",fluid_width:y.dimensions.width.slice(-1)=="%",mode:null};if(y.fluid_data.fluid_width&&!y.fluid_data.fluid_height){y.fluid_data.mode="width";y.fluid_data.ratio=y.initial_dimensions.width/parseFloat(y.dimensions.height)}else{if(!y.fluid_data.fluid_width&&y.fluid_data.fluid_height){y.fluid_data.mode="height";y.fluid_data.ratio=parseFloat(y.dimensions.width)/y.initial_dimensions.height}}}}}function v(B){var y;if(B.nodeType==null){y=b}else{y=[B]}for(var A in y){if(!y.hasOwnProperty(A)){continue}var C=y[A];if(C.holder_data){var z=C.holder_data;var D=m(C,v);if(D){if(z.fluid){if(z.auto){switch(z.fluid_data.mode){case"width":D.height=D.width/z.fluid_data.ratio;break;case"height":D.width=D.height*z.fluid_data.ratio;break}}C.setAttribute("src",k({ctx:n,dimensions:D,template:z.theme,ratio:g,holder:z}))}if(z.textmode&&z.textmode=="exact"){z.exact_dimensions=D;C.setAttribute("src",k({ctx:n,dimensions:z.dimensions,template:z.theme,ratio:g,holder:z}))}}}}}function f(z,B){var A={theme:r(s.themes.gray,{})};var C=false;for(sl=z.length,j=0;j<sl;j++){var y=z[j];if(h.flags.dimensions.match(y)){C=true;A.dimensions=h.flags.dimensions.output(y)}else{if(h.flags.fluid.match(y)){C=true;A.dimensions=h.flags.fluid.output(y);A.fluid=true}else{if(h.flags.textmode.match(y)){A.textmode=h.flags.textmode.output(y)}else{if(h.flags.colors.match(y)){A.theme=h.flags.colors.output(y)}else{if(B.themes[y]){if(B.themes.hasOwnProperty(y)){A.theme=r(B.themes[y],{})}}else{if(h.flags.font.match(y)){A.font=h.flags.font.output(y)}else{if(h.flags.auto.match(y)){A.auto=true}else{if(h.flags.text.match(y)){A.text=h.flags.text.output(y)}}}}}}}}}return C?A:false}for(var q in h.flags){if(!h.flags.hasOwnProperty(q)){continue}h.flags[q].match=function(y){return y.match(this.regex)}}h.add_theme=function(y,z){y!=null&&z!=null&&(s.themes[y]=z);return h};h.add_image=function(D,B){var C=p(B);if(C.length){for(var A=0,y=C.length;A<y;A++){var z=document.createElement("img");z.setAttribute("data-src",D);C[A].appendChild(z)}}return h};h.run=function(z){w=true;var N=r(s,z),K=[],I=[],M=[];if(typeof(N.images)=="string"){I=p(N.images)}else{if(window.NodeList&&N.images instanceof window.NodeList){I=N.images}else{if(window.Node&&N.images instanceof window.Node){I=[N.images]}}}if(typeof(N.bgnodes)=="string"){M=p(N.bgnodes)}else{if(window.NodeList&&N.elements instanceof window.NodeList){M=N.bgnodes}else{if(window.Node&&N.bgnodes instanceof window.Node){M=[N.bgnodes]}}}for(E=0,C=I.length;E<C;E++){K.push(I[E])}var B=document.getElementById("holderjs-style");if(!B){B=document.createElement("style");B.setAttribute("id","holderjs-style");B.type="text/css";document.getElementsByTagName("head")[0].appendChild(B)}if(!N.nocss){if(B.styleSheet){B.styleSheet.cssText+=N.stylesheet}else{B.appendChild(document.createTextNode(N.stylesheet))}}var J=new RegExp(N.domain+'/(.*?)"?\\)');for(var C=M.length,E=0;E<C;E++){var y=window.getComputedStyle(M[E],null).getPropertyValue("background-image");var A=y.match(J);var H=M[E].getAttribute("data-background-src");if(A){var L=f(A[1].split("/"),N);if(L){x("background",M[E],L,y)}}else{if(H!=null){var L=f(H.substr(H.lastIndexOf(N.domain)+N.domain.length+1).split("/"),N);if(L){x("background",M[E],L,y)}}}}for(C=K.length,E=0;E<C;E++){var D,F;F=D=y=null;try{F=K[E].getAttribute("src");attr_datasrc=K[E].getAttribute("data-src")}catch(G){}if(attr_datasrc==null&&!!F&&F.indexOf(N.domain)>=0){y=F}else{if(!!attr_datasrc&&attr_datasrc.indexOf(N.domain)>=0){y=attr_datasrc}}if(y){var L=f(y.substr(y.lastIndexOf(N.domain)+N.domain.length+1).split("/"),N);if(L){if(L.fluid){x("fluid",K[E],L,y)}else{x("image",K[E],L,y)}}}}return h};t(e,function(){if(window.addEventListener){window.addEventListener("resize",v,false);window.addEventListener("orientationchange",v,false)}else{window.attachEvent("onresize",v)}w||h.run()});if(typeof define==="function"&&define.amd){define([],function(){return h})}})(Holder,window);(function(b){if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],b)}else{b(jQuery)}}(function(X){var N="left",O="right",Y="up",F="down",Z="in",E="out",Q="none",J="auto",R="swipe",I="pinch",D="tap",T="doubletap",aa="longtap",M="horizontal",H="vertical",U="all",K=10,W="start",S="move",V="end",L="cancel",ab="ontouchstart" in window,C="TouchSwipe";var P={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:true,triggerOnTouchLeave:false,allowPageScroll:"auto",fallbackToMouseEvents:true,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};X.fn.swipe=function(a){var b=X(this),c=b.data(C);if(c&&typeof a==="string"){if(c[a]){return c[a].apply(this,Array.prototype.slice.call(arguments,1))}else{X.error("Method "+a+" does not exist on jQuery.swipe")}}else{if(!c&&(typeof a==="object"||!a)){return G.apply(this,arguments)}}return b};X.fn.swipe.defaults=P;X.fn.swipe.phases={PHASE_START:W,PHASE_MOVE:S,PHASE_END:V,PHASE_CANCEL:L};X.fn.swipe.directions={LEFT:N,RIGHT:O,UP:Y,DOWN:F,IN:Z,OUT:E};X.fn.swipe.pageScroll={NONE:Q,HORIZONTAL:M,VERTICAL:H,AUTO:J};X.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:U};function G(a){if(a&&(a.allowPageScroll===undefined&&(a.swipe!==undefined||a.swipeStatus!==undefined))){a.allowPageScroll=Q}if(a.click!==undefined&&a.tap===undefined){a.tap=a.click}if(!a){a={}}a=X.extend({},X.fn.swipe.defaults,a);return this.each(function(){var b=X(this);var c=b.data(C);if(!c){c=new B(this,a);b.data(C,c)}})}function B(a,bc){var az=(ab||!bc.fallbackToMouseEvents),y=az?"touchstart":"mousedown",a7=az?"touchmove":"mousemove",l=az?"touchend":"mouseup",n=az?null:"mouseleave",v="touchcancel";var bq=0,bH=null,c=0,bv=0,bx=0,a0=1,bg=0,bN=0,t=null;var bF=X(a);var e="start";var h=0;var bG=null;var m=0,bu=0,bY=0,bs=0,s=0;var bA=null;try{bF.bind(y,bJ);bF.bind(v,bU)}catch(bm){X.error("events not supported "+y+","+v+" on jQuery.swipe")}this.enable=function(){bF.bind(y,bJ);bF.bind(v,bU);return bF};this.disable=function(){bM();return bF};this.destroy=function(){bM();bF.data(C,null);return bF};this.option=function(ac,ad){if(bc[ac]!==undefined){if(ad===undefined){return bc[ac]}else{bc[ac]=ad}}else{X.error("Option "+ac+" does not exist on jQuery.swipe.options")}return null};function bJ(ac){if(z()){return}if(X(ac.target).closest(bc.excludedElements,bF).length>0){return}var af=ac.originalEvent?ac.originalEvent:ac;var ad,ae=ab?af.touches[0]:af;e=W;if(ab){h=af.touches.length}else{ac.preventDefault()}bq=0;bH=null;bN=null;c=0;bv=0;bx=0;a0=1;bg=0;bG=bn();t=d();o();if(!ab||(h===bc.fingers||bc.fingers===U)||bz()){bo(0,ae);m=be();if(h==2){bo(1,af.touches[1]);bv=bx=bd(bG[0].start,bG[1].start)}if(bc.swipeStatus||bc.pinchStatus){ad=r(af,e)}}else{ad=false}if(ad===false){e=L;r(af,e);return ad}else{bi(true)}return null}function bt(ai){var af=ai.originalEvent?ai.originalEvent:ai;if(e===V||e===L||bk()){return}var ac,ad=ab?af.touches[0]:af;var ah=bP(ad);bu=be();if(ab){h=af.touches.length}e=S;if(h==2){if(bv==0){bo(1,af.touches[1]);bv=bx=bd(bG[0].start,bG[1].start)}else{bP(af.touches[1]);bx=bd(bG[0].end,bG[1].end);bN=bf(bG[0].end,bG[1].end)}a0=bW(bv,bx);bg=Math.abs(bv-bx)}if((h===bc.fingers||bc.fingers===U)||!ab||bz()){bH=bL(ah.start,ah.end);bl(ai,bH);bq=bE(ah.start,ah.end);c=bK();bO(bH,bq);if(bc.swipeStatus||bc.pinchStatus){ac=r(af,e)}if(!bc.triggerOnTouchEnd||bc.triggerOnTouchLeave){var ae=true;if(bc.triggerOnTouchLeave){var ag=by(this);ae=ba(ah.end,ag)}if(!bc.triggerOnTouchEnd&&ae){e=x(S)}else{if(bc.triggerOnTouchLeave&&!ae){e=x(V)}}if(e==L||e==V){r(af,e)}}}else{e=L;r(af,e)}if(ac===false){e=L;r(af,e)}}function u(ad){var ac=ad.originalEvent;if(ab){if(ac.touches.length>0){a8();return true}}if(bk()){h=bs}ad.preventDefault();bu=be();c=bK();if(bT()){e=L;r(ac,e)}else{if(bc.triggerOnTouchEnd||(bc.triggerOnTouchEnd==false&&e===S)){e=V;r(ac,e)}else{if(!bc.triggerOnTouchEnd&&bX()){e=V;bR(ac,e,D)}else{if(e===S){e=L;r(ac,e)}}}}bi(false);return null}function bU(){h=0;bu=0;m=0;bv=0;bx=0;a0=1;o();bi(false)}function w(ad){var ac=ad.originalEvent;if(bc.triggerOnTouchLeave){e=x(V);r(ac,e)}}function bM(){bF.unbind(y,bJ);bF.unbind(v,bU);bF.unbind(a7,bt);bF.unbind(l,u);if(n){bF.unbind(n,w)}bi(false)}function x(af){var ag=af;var ac=ax();var ad=bj();var ae=bT();if(!ac||ae){ag=L}else{if(ad&&af==S&&(!bc.triggerOnTouchEnd||bc.triggerOnTouchLeave)){ag=V}else{if(!ad&&af==V&&bc.triggerOnTouchLeave){ag=L}}}return ag}function r(ac,ae){var ad=undefined;if(A()||k()){ad=bR(ac,ae,R)}else{if((q()||bz())&&ad!==false){ad=bR(ac,ae,I)}}if(bQ()&&ad!==false){ad=bR(ac,ae,T)}else{if(bh()&&ad!==false){ad=bR(ac,ae,aa)}else{if(bp()&&ad!==false){ad=bR(ac,ae,D)}}}if(ae===L){bU(ac)}if(ae===V){if(ab){if(ac.touches.length==0){bU(ac)}}else{bU(ac)}}return ad}function bR(af,ae,ac){var ad=undefined;if(ac==R){bF.trigger("swipeStatus",[ae,bH||null,bq||0,c||0,h]);if(bc.swipeStatus){ad=bc.swipeStatus.call(bF,af,ae,bH||null,bq||0,c||0,h);if(ad===false){return false}}if(ae==V&&bB()){bF.trigger("swipe",[bH,bq,c,h]);if(bc.swipe){ad=bc.swipe.call(bF,af,bH,bq,c,h);if(ad===false){return false}}switch(bH){case N:bF.trigger("swipeLeft",[bH,bq,c,h]);if(bc.swipeLeft){ad=bc.swipeLeft.call(bF,af,bH,bq,c,h)}break;case O:bF.trigger("swipeRight",[bH,bq,c,h]);if(bc.swipeRight){ad=bc.swipeRight.call(bF,af,bH,bq,c,h)}break;case Y:bF.trigger("swipeUp",[bH,bq,c,h]);if(bc.swipeUp){ad=bc.swipeUp.call(bF,af,bH,bq,c,h)}break;case F:bF.trigger("swipeDown",[bH,bq,c,h]);if(bc.swipeDown){ad=bc.swipeDown.call(bF,af,bH,bq,c,h)}break}}}if(ac==I){bF.trigger("pinchStatus",[ae,bN||null,bg||0,c||0,h,a0]);if(bc.pinchStatus){ad=bc.pinchStatus.call(bF,af,ae,bN||null,bg||0,c||0,h,a0);if(ad===false){return false}}if(ae==V&&bV()){switch(bN){case Z:bF.trigger("pinchIn",[bN||null,bg||0,c||0,h,a0]);if(bc.pinchIn){ad=bc.pinchIn.call(bF,af,bN||null,bg||0,c||0,h,a0)}break;case E:bF.trigger("pinchOut",[bN||null,bg||0,c||0,h,a0]);if(bc.pinchOut){ad=bc.pinchOut.call(bF,af,bN||null,bg||0,c||0,h,a0)}break}}}if(ac==D){if(ae===L||ae===V){clearTimeout(bA);if(f()&&!ay()){s=be();bA=setTimeout(X.proxy(function(){s=null;bF.trigger("tap",[af.target]);if(bc.tap){ad=bc.tap.call(bF,af,af.target)}},this),bc.doubleTapThreshold)}else{s=null;bF.trigger("tap",[af.target]);if(bc.tap){ad=bc.tap.call(bF,af,af.target)}}}}else{if(ac==T){if(ae===L||ae===V){clearTimeout(bA);s=null;bF.trigger("doubletap",[af.target]);if(bc.doubleTap){ad=bc.doubleTap.call(bF,af,af.target)}}}else{if(ac==aa){if(ae===L||ae===V){clearTimeout(bA);s=null;bF.trigger("longtap",[af.target]);if(bc.longTap){ad=bc.longTap.call(bF,af,af.target)}}}}}return ad}function bj(){var ac=true;if(bc.threshold!==null){ac=bq>=bc.threshold}return ac}function bT(){var ac=false;if(bc.cancelThreshold!==null&&bH!==null){ac=(bD(bH)-bq)>=bc.cancelThreshold}return ac}function br(){if(bc.pinchThreshold!==null){return bg>=bc.pinchThreshold}return true}function ax(){var ac;if(bc.maxTimeThreshold){if(c>=bc.maxTimeThreshold){ac=false}else{ac=true}}else{ac=true}return ac}function bl(ae,ad){if(bc.allowPageScroll===Q||bz()){ae.preventDefault()}else{var ac=bc.allowPageScroll===J;switch(ad){case N:if((bc.swipeLeft&&ac)||(!ac&&bc.allowPageScroll!=M)){ae.preventDefault()}break;case O:if((bc.swipeRight&&ac)||(!ac&&bc.allowPageScroll!=M)){ae.preventDefault()}break;case Y:if((bc.swipeUp&&ac)||(!ac&&bc.allowPageScroll!=H)){ae.preventDefault()}break;case F:if((bc.swipeDown&&ac)||(!ac&&bc.allowPageScroll!=H)){ae.preventDefault()}break}}}function bV(){var ad=bI();var ae=g();var ac=br();return ad&&ae&&ac}function bz(){return !!(bc.pinchStatus||bc.pinchIn||bc.pinchOut)}function q(){return !!(bV()&&bz())}function bB(){var ah=ax();var af=bj();var ac=bI();var ae=g();var ad=bT();var ag=!ad&&ae&&ac&&af&&ah;return ag}function k(){return !!(bc.swipe||bc.swipeStatus||bc.swipeLeft||bc.swipeRight||bc.swipeUp||bc.swipeDown)}function A(){return !!(bB()&&k())}function bI(){return((h===bc.fingers||bc.fingers===U)||!ab)}function g(){return bG[0].end.x!==0}function bX(){return !!(bc.tap)}function f(){return !!(bc.doubleTap)}function bC(){return !!(bc.longTap)}function p(){if(s==null){return false}var ac=be();return(f()&&((ac-s)<=bc.doubleTapThreshold))}function ay(){return p()}function a9(){return((h===1||!ab)&&(isNaN(bq)||bq===0))}function bw(){return((c>bc.longTapThreshold)&&(bq<K))}function bp(){return !!(a9()&&bX())}function bQ(){return !!(p()&&f())}function bh(){return !!(bw()&&bC())}function a8(){bY=be();bs=event.touches.length+1}function o(){bY=0;bs=0}function bk(){var ad=false;if(bY){var ac=be()-bY;if(ac<=bc.fingerReleaseThreshold){ad=true}}return ad}function z(){return !!(bF.data(C+"_intouch")===true)}function bi(ac){if(ac===true){bF.bind(a7,bt);bF.bind(l,u);if(n){bF.bind(n,w)}}else{bF.unbind(a7,bt,false);bF.unbind(l,u,false);if(n){bF.unbind(n,w,false)}}bF.data(C+"_intouch",ac===true)}function bo(ad,ae){var ac=ae.identifier!==undefined?ae.identifier:0;bG[ad].identifier=ac;bG[ad].start.x=bG[ad].end.x=ae.pageX||ae.clientX;bG[ad].start.y=bG[ad].end.y=ae.pageY||ae.clientY;return bG[ad]}function bP(ae){var ac=ae.identifier!==undefined?ae.identifier:0;var ad=b(ac);ad.end.x=ae.pageX||ae.clientX;ad.end.y=ae.pageY||ae.clientY;return ad}function b(ac){for(var ad=0;ad<bG.length;ad++){if(bG[ad].identifier==ac){return bG[ad]}}}function bn(){var ad=[];for(var ac=0;ac<=5;ac++){ad.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0})}return ad}function bO(ad,ac){ac=Math.max(ac,bD(ad));t[ad].distance=ac}function bD(ac){if(t[ac]){return t[ac].distance}return undefined}function d(){var ac={};ac[N]=bb(N);ac[O]=bb(O);ac[Y]=bb(Y);ac[F]=bb(F);return ac}function bb(ac){return{direction:ac,distance:0}}function bK(){return bu-m}function bd(af,ac){var ad=Math.abs(af.x-ac.x);var ae=Math.abs(af.y-ac.y);return Math.round(Math.sqrt(ad*ad+ae*ae))}function bW(ae,ad){var ac=(ad/ae)*1;return ac.toFixed(2)}function bf(){if(a0<1){return E}else{return Z}}function bE(ac,ad){return Math.round(Math.sqrt(Math.pow(ad.x-ac.x,2)+Math.pow(ad.y-ac.y,2)))}function bS(ah,ad){var ae=ah.x-ad.x;var af=ad.y-ah.y;var ac=Math.atan2(af,ae);var ag=Math.round(ac*180/Math.PI);if(ag<0){ag=360-Math.abs(ag)}return ag}function bL(ad,ae){var ac=bS(ad,ae);if((ac<=45)&&(ac>=0)){return N}else{if((ac<=360)&&(ac>=315)){return N}else{if((ac>=135)&&(ac<=225)){return O}else{if((ac>45)&&(ac<135)){return F}else{return Y}}}}}function be(){var ac=new Date();return ac.getTime()}function by(ae){ae=X(ae);var ac=ae.offset();var ad={left:ac.left,right:ac.left+ae.outerWidth(),top:ac.top,bottom:ac.top+ae.outerHeight()};return ad}function ba(ad,ac){return(ad.x>ac.left&&ad.x<ac.right&&ad.y>ac.top&&ad.y<ac.bottom)}}}));
/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.5 (Fri, 14 Jun 2013)
 * requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
;(function(n,q,k,e){var r=k("html"),d=k(n),a=k(q),s=k.fancybox=function(){s.open.apply(this,arguments)},m=navigator.userAgent.match(/msie/i),c=null,f=q.createTouch!==e,l=function(t){return t&&t.hasOwnProperty&&t instanceof k},b=function(t){return t&&k.type(t)==="string"},o=function(t){return b(t)&&t.indexOf("%")>0},h=function(t){return(t&&!(t.style.overflow&&t.style.overflow==="hidden")&&((t.clientWidth&&t.scrollWidth>t.clientWidth)||(t.clientHeight&&t.scrollHeight>t.clientHeight)))},p=function(v,u){var t=parseInt(v,10)||0;if(u&&o(v)){t=s.getViewport()[u]/100*t}return Math.ceil(t)},g=function(t,u){return p(t,u)+"px"};k.extend(s,{version:"2.1.5",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,pixelRatio:1,autoSize:true,autoHeight:false,autoWidth:false,autoResize:true,autoCenter:!f,fitToView:true,aspectRatio:false,topRatio:0.5,leftRatio:0.5,scrolling:"auto",wrapCSS:"",arrows:true,closeBtn:true,closeClick:false,nextClick:false,mouseWheel:true,autoPlay:false,playSpeed:3000,preload:3,modal:false,loop:true,ajax:{dataType:"html",headers:{"X-fancyBox":true}},iframe:{scrolling:"auto",preload:true},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:true,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(m?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:true,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:true,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:true,title:true},onCancel:k.noop,beforeLoad:k.noop,afterLoad:k.noop,beforeShow:k.noop,afterShow:k.noop,beforeChange:k.noop,beforeClose:k.noop,afterClose:k.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:false,isOpen:false,isOpened:false,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:false},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(u,t){if(!u){return}if(!k.isPlainObject(t)){t={}}if(false===s.close(true)){return}if(!k.isArray(u)){u=l(u)?k(u).get():[u]}k.each(u,function(z,A){var y={},v,D,B,C,x,E,w;if(k.type(A)==="object"){if(A.nodeType){A=k(A)}if(l(A)){y={href:A.data("fancybox-href")||A.attr("href"),title:k("<div/>").text(A.data("fancybox-title")||A.attr("title")).html(),isDom:true,element:A};if(k.metadata){k.extend(true,y,A.metadata())}}else{y=A}}v=t.href||y.href||(b(A)?A:null);D=t.title!==e?t.title:y.title||"";B=t.content||y.content;C=B?"html":(t.type||y.type);if(!C&&y.isDom){C=A.data("fancybox-type");if(!C){x=A.prop("class").match(/fancybox\.(\w+)/);C=x?x[1]:null}}if(b(v)){if(!C){if(s.isImage(v)){C="image"}else{if(s.isSWF(v)){C="swf"}else{if(v.charAt(0)==="#"){C="inline"}else{if(b(A)){C="html";B=A}}}}}if(C==="ajax"){E=v.split(/\s+/,2);v=E.shift();w=E.shift()}}if(!B){if(C==="inline"){if(v){B=k(b(v)?v.replace(/.*(?=#[^\s]+$)/,""):v)}else{if(y.isDom){B=A}}}else{if(C==="html"){B=v}else{if(!C&&!v&&y.isDom){C="inline";B=A}}}}k.extend(y,{href:v,type:C,content:B,title:D,selector:w});u[z]=y});s.opts=k.extend(true,{},s.defaults,t);if(t.keys!==e){s.opts.keys=t.keys?k.extend({},s.defaults.keys,t.keys):false}s.group=u;return s._start(s.opts.index)},cancel:function(){var t=s.coming;if(t&&false===s.trigger("onCancel")){return}s.hideLoading();if(!t){return}if(s.ajaxLoad){s.ajaxLoad.abort()}s.ajaxLoad=null;if(s.imgPreload){s.imgPreload.onload=s.imgPreload.onerror=null}if(t.wrap){t.wrap.stop(true,true).trigger("onReset").remove()}s.coming=null;if(!s.current){s._afterZoomOut(t)}},close:function(t){s.cancel();if(false===s.trigger("beforeClose")){return}s.unbindEvents();if(!s.isActive){return}if(!s.isOpen||t===true){k(".fancybox-wrap").stop(true).trigger("onReset").remove();s._afterZoomOut()}else{s.isOpen=s.isOpened=false;s.isClosing=true;k(".fancybox-item, .fancybox-nav").remove();s.wrap.stop(true,true).removeClass("fancybox-opened");s.transitions[s.current.closeMethod]()}},play:function(v){var t=function(){clearTimeout(s.player.timer)},x=function(){t();if(s.current&&s.player.isActive){s.player.timer=setTimeout(s.next,s.current.playSpeed)}},u=function(){t();a.unbind(".player");s.player.isActive=false;s.trigger("onPlayEnd")},w=function(){if(s.current&&(s.current.loop||s.current.index<s.group.length-1)){s.player.isActive=true;a.bind({"onCancel.player beforeClose.player":u,"onUpdate.player":x,"beforeLoad.player":t});x();s.trigger("onPlayStart")}};if(v===true||(!s.player.isActive&&v!==false)){w()}else{u()}},next:function(u){var t=s.current;if(t){if(!b(u)){u=t.direction.next}s.jumpto(t.index+1,u,"next")}},prev:function(u){var t=s.current;if(t){if(!b(u)){u=t.direction.prev}s.jumpto(t.index-1,u,"prev")}},jumpto:function(u,w,t){var v=s.current;if(!v){return}u=p(u);s.direction=w||v.direction[(u>=v.index?"next":"prev")];s.router=t||"jumpto";if(v.loop){if(u<0){u=v.group.length+(u%v.group.length)}u=u%v.group.length}if(v.group[u]!==e){s.cancel();s._start(u)}},reposition:function(w,t){var v=s.current,u=v?v.wrap:null,x;if(u){x=s._getPosition(t);if(w&&w.type==="scroll"){delete x.position;u.stop(true,true).animate(x,200)}else{u.css(x);v.pos=k.extend({},v.dim,x)}}},update:function(v){var t=(v&&v.originalEvent&&v.originalEvent.type),u=!t||t==="orientationchange";if(u){clearTimeout(c);c=null}if(!s.isOpen||c){return}c=setTimeout(function(){var w=s.current;if(!w||s.isClosing){return}s.wrap.removeClass("fancybox-tmp");if(u||t==="load"||(t==="resize"&&w.autoResize)){s._setDimension()}if(!(t==="scroll"&&w.canShrink)){s.reposition(v)}s.trigger("onUpdate");c=null},(u&&!f?0:300))},toggle:function(t){if(s.isOpen){s.current.fitToView=k.type(t)==="boolean"?t:!s.current.fitToView;if(f){s.wrap.removeAttr("style").addClass("fancybox-tmp");s.trigger("onUpdate")}s.update()}},hideLoading:function(){a.unbind(".loading");k("#fancybox-loading").remove()},showLoading:function(){var u,t;s.hideLoading();u=k('<div id="fancybox-loading"><div></div></div>').click(s.cancel).appendTo("body");a.bind("keydown.loading",function(v){if((v.which||v.keyCode)===27){v.preventDefault();s.cancel()}});if(!s.defaults.fixed){t=s.getViewport();u.css({position:"absolute",top:(t.h*0.5)+t.y,left:(t.w*0.5)+t.x})}s.trigger("onLoading")},getViewport:function(){var t=(s.current&&s.current.locked)||false,u={x:d.scrollLeft(),y:d.scrollTop()};if(t&&t.length){u.w=t[0].clientWidth;u.h=t[0].clientHeight}else{u.w=f&&n.innerWidth?n.innerWidth:d.width();u.h=f&&n.innerHeight?n.innerHeight:d.height()}return u},unbindEvents:function(){if(s.wrap&&l(s.wrap)){s.wrap.unbind(".fb")}a.unbind(".fb");d.unbind(".fb")},bindEvents:function(){var u=s.current,t;if(!u){return}d.bind("orientationchange.fb"+(f?"":" resize.fb")+(u.autoCenter&&!u.locked?" scroll.fb":""),s.update);t=u.keys;if(t){a.bind("keydown.fb",function(x){var v=x.which||x.keyCode,w=x.target||x.srcElement;if(v===27&&s.coming){return false}if(!x.ctrlKey&&!x.altKey&&!x.shiftKey&&!x.metaKey&&!(w&&(w.type||k(w).is("[contenteditable]")))){k.each(t,function(y,z){if(u.group.length>1&&z[v]!==e){s[y](z[v]);x.preventDefault();return false}if(k.inArray(v,z)>-1){s[y]();x.preventDefault();return false}})}})}if(k.fn.mousewheel&&u.mouseWheel){s.wrap.bind("mousewheel.fb",function(A,B,w,v){var z=A.target||null,x=k(z),y=false;while(x.length){if(y||x.is(".fancybox-skin")||x.is(".fancybox-wrap")){break}y=h(x[0]);x=k(x).parent()}if(B!==0&&!y){if(s.group.length>1&&!u.canShrink){if(v>0||w>0){s.prev(v>0?"down":"left")}else{if(v<0||w<0){s.next(v<0?"up":"right")}}A.preventDefault()}}})}},trigger:function(u,w){var t,v=w||s.coming||s.current;if(v){if(k.isFunction(v[u])){t=v[u].apply(v,Array.prototype.slice.call(arguments,1))}if(t===false){return false}if(v.helpers){k.each(v.helpers,function(y,x){if(x&&s.helpers[y]&&k.isFunction(s.helpers[y][u])){s.helpers[y][u](k.extend(true,{},s.helpers[y].defaults,x),v)}})}}a.trigger(u)},isImage:function(t){return b(t)&&t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg)((\?|#).*)?$)/i)},isSWF:function(t){return b(t)&&t.match(/\.(swf)((\?|#).*)?$/i)},_start:function(u){var v={},z,t,w,x,y;u=p(u);z=s.group[u]||null;if(!z){return false}v=k.extend(true,{},s.opts,z);x=v.margin;y=v.padding;if(k.type(x)==="number"){v.margin=[x,x,x,x]}if(k.type(y)==="number"){v.padding=[y,y,y,y]}if(v.modal){k.extend(true,v,{closeBtn:false,closeClick:false,nextClick:false,arrows:false,mouseWheel:false,keys:null,helpers:{overlay:{closeClick:false}}})}if(v.autoSize){v.autoWidth=v.autoHeight=true}if(v.width==="auto"){v.autoWidth=true}if(v.height==="auto"){v.autoHeight=true}v.group=s.group;v.index=u;s.coming=v;if(false===s.trigger("beforeLoad")){s.coming=null;return}w=v.type;t=v.href;if(!w){s.coming=null;if(s.current&&s.router&&s.router!=="jumpto"){s.current.index=u;return s[s.router](s.direction)}return false}s.isActive=true;if(w==="image"||w==="swf"){v.autoHeight=v.autoWidth=false;v.scrolling="visible"}if(w==="image"){v.aspectRatio=true}if(w==="iframe"&&f){v.scrolling="auto"}v.wrap=k(v.tpl.wrap).addClass("fancybox-"+(f?"mobile":"desktop")+" fancybox-type-"+w+" fancybox-tmp "+v.wrapCSS).appendTo(v.parent||"body");k.extend(v,{skin:k(".fancybox-skin",v.wrap),outer:k(".fancybox-outer",v.wrap),inner:k(".fancybox-inner",v.wrap)});k.each(["Top","Right","Bottom","Left"],function(B,A){v.skin.css("padding"+A,g(v.padding[B]))});s.trigger("onReady");if(w==="inline"||w==="html"){if(!v.content||!v.content.length){return s._error("content")}}else{if(!t){return s._error("href")}}if(w==="image"){s._loadImage()}else{if(w==="ajax"){s._loadAjax()}else{if(w==="iframe"){s._loadIframe()}else{s._afterLoad()}}}},_error:function(t){k.extend(s.coming,{type:"html",autoWidth:true,autoHeight:true,minWidth:0,minHeight:0,scrolling:"no",hasError:t,content:s.coming.tpl.error});s._afterLoad()},_loadImage:function(){var t=s.imgPreload=new Image();t.onload=function(){this.onload=this.onerror=null;s.coming.width=this.width/s.opts.pixelRatio;s.coming.height=this.height/s.opts.pixelRatio;s._afterLoad()};t.onerror=function(){this.onload=this.onerror=null;s._error("image")};t.src=s.coming.href;if(t.complete!==true){s.showLoading()}},_loadAjax:function(){var t=s.coming;s.showLoading();s.ajaxLoad=k.ajax(k.extend({},t.ajax,{url:t.href,error:function(u,v){if(s.coming&&v!=="abort"){s._error("ajax",u)}else{s.hideLoading()}},success:function(u,v){if(v==="success"){t.content=u;s._afterLoad()}}}))},_loadIframe:function(){var t=s.coming,u=k(t.tpl.iframe.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",f?"auto":t.iframe.scrolling).attr("src",t.href);k(t.wrap).bind("onReset",function(){try{k(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(v){}});if(t.iframe.preload){s.showLoading();u.one("load",function(){k(this).data("ready",1);if(!f){k(this).bind("load.fb",s.update)}k(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show();s._afterLoad()})}t.content=u.appendTo(t.inner);if(!t.iframe.preload){s._afterLoad()}},_preloadImages:function(){var y=s.group,x=s.current,t=y.length,v=x.preload?Math.min(x.preload,t-1):0,w,u;for(u=1;u<=v;u+=1){w=y[(x.index+u)%t];if(w.type==="image"&&w.href){new Image().src=w.href}}},_afterLoad:function(){var u=s.coming,w=s.current,B="fancybox-placeholder",y,z,A,v,t,x;s.hideLoading();if(!u||s.isActive===false){return}if(false===s.trigger("afterLoad",u,w)){u.wrap.stop(true).trigger("onReset").remove();s.coming=null;return}if(w){s.trigger("beforeChange",w);w.wrap.stop(true).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()}s.unbindEvents();y=u;z=u.content;A=u.type;v=u.scrolling;k.extend(s,{wrap:y.wrap,skin:y.skin,outer:y.outer,inner:y.inner,current:y,previous:w});t=y.href;switch(A){case"inline":case"ajax":case"html":if(y.selector){z=k("<div>").html(z).find(y.selector)}else{if(l(z)){if(!z.data(B)){z.data(B,k('<div class="'+B+'"></div>').insertAfter(z).hide())}z=z.show().detach();y.wrap.bind("onReset",function(){if(k(this).find(z).length){z.hide().replaceAll(z.data(B)).data(B,false)}})}}break;case"image":z=y.tpl.image.replace(/\{href\}/g,t);break;case"swf":z='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+t+'"></param>';x="";k.each(y.swf,function(C,D){z+='<param name="'+C+'" value="'+D+'"></param>';x+=" "+C+'="'+D+'"'});z+='<embed src="'+t+'" type="application/x-shockwave-flash" width="100%" height="100%"'+x+"></embed></object>";break}if(!(l(z)&&z.parent().is(y.inner))){y.inner.append(z)}s.trigger("beforeShow");y.inner.css("overflow",v==="yes"?"auto":(v==="no"?"hidden":v));s._setDimension();s.reposition();s.isOpen=false;s.coming=null;s.bindEvents();if(!s.isOpened){k(".fancybox-wrap").not(y.wrap).stop(true).trigger("onReset").remove()}else{if(w.prevMethod){s.transitions[w.prevMethod]()}}s.transitions[s.isOpened?y.nextMethod:y.openMethod]();s._preloadImages()},_setDimension:function(){var W=s.getViewport(),S=0,Y=false,aa=false,E=s.wrap,Q=s.skin,ab=s.inner,N=s.current,O=N.width,L=N.height,H=N.minWidth,A=N.minHeight,U=N.maxWidth,M=N.maxHeight,G=N.scrolling,y=N.scrollOutside?N.scrollbarWidth:0,K=N.margin,z=p(K[1]+K[3]),x=p(K[0]+K[2]),v,u,R,T,J,I,P,C,B,X,w,Z,t,D,F;E.add(Q).add(ab).width("auto").height("auto").removeClass("fancybox-tmp");v=p(Q.outerWidth(true)-Q.width());u=p(Q.outerHeight(true)-Q.height());R=z+v;T=x+u;J=o(O)?(W.w-R)*p(O)/100:O;I=o(L)?(W.h-T)*p(L)/100:L;if(N.type==="iframe"){D=N.content;if(N.autoHeight&&D.data("ready")===1){try{if(D[0].contentWindow.document.location){ab.width(J).height(9999);F=D.contents().find("body");if(y){F.css("overflow-x","hidden")}I=F.outerHeight(true)+50}}catch(V){}}}else{if(N.autoWidth||N.autoHeight){ab.addClass("fancybox-tmp");if(!N.autoWidth){ab.width(J)}if(!N.autoHeight){ab.height(I)}if(N.autoWidth){J=ab.width()}if(N.autoHeight){I=ab.height()}ab.removeClass("fancybox-tmp")}}O=p(J);L=p(I);B=J/I;H=p(o(H)?p(H,"w")-R:H);U=p(o(U)?p(U,"w")-R:U);A=p(o(A)?p(A,"h")-T:A);M=p(o(M)?p(M,"h")-T:M);P=U;C=M;if(N.fitToView){U=Math.min(W.w-R,U);M=Math.min(W.h-T,M)}Z=W.w-z;t=W.h-x;if(N.aspectRatio){if(O>U){O=U;L=p(O/B)}if(L>M){L=M;O=p(L*B)}if(O<H){O=H;L=p(O/B)}if(L<A){L=A;O=p(L*B)}}else{O=Math.max(H,Math.min(O,U));if(N.autoHeight&&N.type!=="iframe"){ab.width(O);L=ab.height()}L=Math.max(A,Math.min(L,M))}if(N.fitToView){ab.width(O).height(L);E.width(O+v);X=E.width();w=E.height();if(N.aspectRatio){while((X>Z||w>t)&&O>H&&L>A){if(S++>19){break}L=Math.max(A,Math.min(M,L-10));O=p(L*B);if(O<H){O=H;L=p(O/B)}if(O>U){O=U;L=p(O/B)}ab.width(O).height(L);E.width(O+v);X=E.width();w=E.height()}}else{O=Math.max(H,Math.min(O,O-(X-Z)));L=Math.max(A,Math.min(L,L-(w-t)))}}if(y&&G==="auto"&&L<I&&(O+v+y)<Z){O+=y}ab.width(O).height(L);E.width(O+v);X=E.width();w=E.height();Y=(X>Z||w>t)&&O>H&&L>A;aa=N.aspectRatio?(O<P&&L<C&&O<J&&L<I):((O<P||L<C)&&(O<J||L<I));k.extend(N,{dim:{width:g(X),height:g(w)},origWidth:J,origHeight:I,canShrink:Y,canExpand:aa,wPadding:v,hPadding:u,wrapSpace:w-Q.outerHeight(true),skinSpace:Q.height()-L});if(!D&&N.autoHeight&&L>A&&L<M&&!aa){ab.height("auto")}},_getPosition:function(v){var z=s.current,u=s.getViewport(),x=z.margin,w=s.wrap.width()+x[1]+x[3],t=s.wrap.height()+x[0]+x[2],y={position:"absolute",top:x[0],left:x[3]};if(z.autoCenter&&z.fixed&&!v&&t<=u.h&&w<=u.w){y.position="fixed"}else{if(!z.locked){y.top+=u.y;y.left+=u.x}}y.top=g(Math.max(y.top,y.top+((u.h-t)*z.topRatio)));y.left=g(Math.max(y.left,y.left+((u.w-w)*z.leftRatio)));return y},_afterZoomIn:function(){var t=s.current;if(!t){return}s.isOpen=s.isOpened=true;s.wrap.css("overflow","visible").addClass("fancybox-opened").hide().show(0);s.update();if(t.closeClick||(t.nextClick&&s.group.length>1)){s.inner.css("cursor","pointer").bind("click.fb",function(u){if(!k(u.target).is("a")&&!k(u.target).parent().is("a")){u.preventDefault();s[t.closeClick?"close":"next"]()}})}if(t.closeBtn){k(t.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(u){u.preventDefault();s.close()})}if(t.arrows&&s.group.length>1){if(t.loop||t.index>0){k(t.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev)}if(t.loop||t.index<s.group.length-1){k(t.tpl.next).appendTo(s.outer).bind("click.fb",s.next)}}s.trigger("afterShow");if(!t.loop&&t.index===t.group.length-1){s.play(false)}else{if(s.opts.autoPlay&&!s.player.isActive){s.opts.autoPlay=false;s.play(true)}}},_afterZoomOut:function(t){t=t||s.current;k(".fancybox-wrap").trigger("onReset").remove();k.extend(s,{group:{},opts:{},router:false,current:null,isActive:false,isOpened:false,isOpen:false,isClosing:false,wrap:null,skin:null,outer:null,inner:null});s.trigger("afterClose",t)}});s.transitions={getOrigPosition:function(){var w=s.current,u=w.element,z=w.orig,y={},t=50,A=50,x=w.hPadding,B=w.wPadding,v=s.getViewport();if(!z&&w.isDom&&u.is(":visible")){z=u.find("img:first");if(!z.length){z=u}}if(l(z)){y=z.offset();if(z.is("img")){t=z.outerWidth();A=z.outerHeight()}}else{y.top=v.y+(v.h-A)*w.topRatio;y.left=v.x+(v.w-t)*w.leftRatio}if(s.wrap.css("position")==="fixed"||w.locked){y.top-=v.y;y.left-=v.x}y={top:g(y.top-x*w.topRatio),left:g(y.left-B*w.leftRatio),width:g(t+B),height:g(A+x)};return y},step:function(u,v){var x,z,A,t=v.prop,w=s.current,y=w.wrapSpace,B=w.skinSpace;if(t==="width"||t==="height"){x=v.end===v.start?1:(u-v.start)/(v.end-v.start);if(s.isClosing){x=1-x}z=t==="width"?w.wPadding:w.hPadding;A=u-z;s.skin[t](p(t==="width"?A:A-(y*x)));s.inner[t](p(t==="width"?A:A-(y*x)-(B*x)))}},zoomIn:function(){var x=s.current,u=x.pos,v=x.openEffect,w=v==="elastic",t=k.extend({opacity:1},u);delete t.position;if(w){u=this.getOrigPosition();if(x.openOpacity){u.opacity=0.1}}else{if(v==="fade"){u.opacity=0.1}}s.wrap.css(u).animate(t,{duration:v==="none"?0:x.openSpeed,easing:x.openEasing,step:w?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var w=s.current,u=w.closeEffect,v=u==="elastic",t={opacity:0.1};if(v){t=this.getOrigPosition();if(w.closeOpacity){t.opacity=0.1}}s.wrap.animate(t,{duration:u==="none"?0:w.closeSpeed,easing:w.closeEasing,step:v?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var y=s.current,v=y.nextEffect,u=y.pos,t={opacity:1},x=s.direction,z=200,w;u.opacity=0.1;if(v==="elastic"){w=x==="down"||x==="up"?"top":"left";if(x==="down"||x==="right"){u[w]=g(p(u[w])-z);t[w]="+="+z+"px"}else{u[w]=g(p(u[w])+z);t[w]="-="+z+"px"}}if(v==="none"){s._afterZoomIn()}else{s.wrap.css(u).animate(t,{duration:y.nextSpeed,easing:y.nextEasing,complete:s._afterZoomIn})}},changeOut:function(){var v=s.previous,u=v.prevEffect,t={opacity:0.1},w=s.direction,x=200;if(u==="elastic"){t[w==="down"||w==="up"?"top":"left"]=(w==="up"||w==="left"?"-":"+")+"="+x+"px"}v.wrap.animate(t,{duration:u==="none"?0:v.prevSpeed,easing:v.prevEasing,complete:function(){k(this).trigger("onReset").remove()}})}};s.helpers.overlay={defaults:{closeClick:true,speedOut:200,showEarly:true,css:{},locked:!f,fixed:true},overlay:null,fixed:false,el:k("html"),create:function(u){var t;u=k.extend({},this.defaults,u);if(this.overlay){this.close()}t=s.coming?s.coming.parent:u.parent;this.overlay=k('<div class="fancybox-overlay"></div>').appendTo(t&&t.lenth?t:"body");this.fixed=false;if(u.fixed&&s.defaults.fixed){this.overlay.addClass("fancybox-overlay-fixed");this.fixed=true}},open:function(u){var t=this;u=k.extend({},this.defaults,u);if(this.overlay){this.overlay.unbind(".overlay").width("auto").height("auto")}else{this.create(u)}if(!this.fixed){d.bind("resize.overlay",k.proxy(this.update,this));this.update()}if(u.closeClick){this.overlay.bind("click.overlay",function(v){if(k(v.target).hasClass("fancybox-overlay")){if(s.isActive){s.close()}else{t.close()}return false}})}this.overlay.css(u.css).show()},close:function(){d.unbind("resize.overlay");if(this.el.hasClass("fancybox-lock")){k(".fancybox-margin").removeClass("fancybox-margin");this.el.removeClass("fancybox-lock");d.scrollTop(this.scrollV).scrollLeft(this.scrollH)}k(".fancybox-overlay").remove().hide();k.extend(this,{overlay:null,fixed:false})},update:function(){var u="100%",t;this.overlay.width(u).height("100%");if(m){t=Math.max(q.documentElement.offsetWidth,q.body.offsetWidth);if(a.width()>t){u=a.width()}}else{if(a.width()>d.width()){u=a.width()}}this.overlay.width(u).height(a.height())},onReady:function(u,v){var t=this.overlay;k(".fancybox-overlay").stop(true,true);if(!t){this.create(u)}if(u.locked&&this.fixed&&v.fixed){v.locked=this.overlay.append(v.wrap);v.fixed=false}if(u.showEarly===true){this.beforeShow.apply(this,arguments)}},beforeShow:function(t,u){if(u.locked&&!this.el.hasClass("fancybox-lock")){if(this.fixPosition!==false){k("*").filter(function(){return(k(this).css("position")==="fixed"&&!k(this).hasClass("fancybox-overlay")&&!k(this).hasClass("fancybox-wrap"))}).addClass("fancybox-margin")}this.el.addClass("fancybox-margin");this.scrollV=d.scrollTop();this.scrollH=d.scrollLeft();this.el.addClass("fancybox-lock");d.scrollTop(this.scrollV).scrollLeft(this.scrollH)}this.open(t)},onUpdate:function(){if(!this.fixed){this.update()}},afterClose:function(t){if(this.overlay&&!s.coming){this.overlay.fadeOut(t.speedOut,k.proxy(this.close,this))}}};s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(u){var w=s.current,y=w.title,t=u.type,x,v;if(k.isFunction(y)){y=y.call(w.element,w)}if(!b(y)||k.trim(y)===""){return}x=k('<div class="fancybox-title fancybox-title-'+t+'-wrap">'+y+"</div>");switch(t){case"inside":v=s.skin;break;case"outside":v=s.wrap;break;case"over":v=s.inner;break;default:v=s.skin;x.appendTo("body");if(m){x.width(x.width())}x.wrapInner('<span class="child"></span>');s.current.margin[2]+=Math.abs(p(x.css("margin-bottom")));break}x[(u.position==="top"?"prependTo":"appendTo")](v)}};k.fn.fancybox=function(v){var u,w=k(this),t=this.selector||"",x=function(B){var A=k(this).blur(),y=u,z,C;if(!(B.ctrlKey||B.altKey||B.shiftKey||B.metaKey)&&!A.is(".fancybox-wrap")){z=v.groupAttr||"data-fancybox-group";C=A.attr(z);if(!C){z="rel";C=A.get(0)[z]}if(C&&C!==""&&C!=="nofollow"){A=t.length?k(t):w;A=A.filter("["+z+'="'+C+'"]');y=A.index(this)}v.index=y;if(s.open(A,v)!==false){B.preventDefault()}}};v=v||{};u=v.index||0;if(!t||v.live===false){w.unbind("click.fb-start").bind("click.fb-start",x)}else{a.undelegate(t,"click.fb-start").delegate(t+":not('.fancybox-item, .fancybox-nav')","click.fb-start",x)}this.filter("[data-fancybox-start=1]").trigger("click");return this};a.ready(function(){var u,t;if(k.scrollbarWidth===e){k.scrollbarWidth=function(){var w=k('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),x=w.children(),v=x.innerWidth()-x.height(99).innerWidth();w.remove();return v}}if(k.support.fixedPosition===e){k.support.fixedPosition=(function(){var w=k('<div style="position:fixed;top:20px;"></div>').appendTo("body"),v=(w[0].offsetTop===20||w[0].offsetTop===15);w.remove();return v}())}k.extend(s.defaults,{scrollbarWidth:k.scrollbarWidth(),fixed:k.support.fixedPosition,parent:k("body")});u=k(n).width();r.addClass("fancybox-lock-test");t=k(n).width();r.removeClass("fancybox-lock-test");k("<style type='text/css'>.fancybox-margin{margin-right:"+(t-u)+"px;}</style>").appendTo("head")})}(window,document,jQuery));
/*!
 * Thumbnail helper for fancyBox
 * version: 1.0.7 (Mon, 01 Oct 2012)
 * @requires fancyBox v2.0 or later
 *
 * Usage:
 *     $(".fancybox").fancybox({
 *         helpers : {
 *             thumbs: {
 *                 width  : 50,
 *                 height : 50
 *             }
 *         }
 *     });
 *
 */
;(function(b){var a=b.fancybox;a.helpers.thumbs={defaults:{width:50,height:50,position:"bottom",source:function(d){var c;if(d.element){c=b(d.element).find("img").attr("src")}if(!c&&d.type==="image"&&d.href){c=d.href}return c}},wrap:null,list:null,width:0,init:function(f,k){var e=this,g,c=f.width,h=f.height,d=f.source;g="";for(var l=0;l<k.group.length;l++){g+='<li><a style="width:'+c+"px;height:"+h+'px;" href="javascript:jQuery.fancybox.jumpto('+l+');"></a></li>'}this.wrap=b('<div id="fancybox-thumbs"></div>').addClass(f.position).appendTo("body");this.list=b("<ul>"+g+"</ul>").appendTo(this.wrap);b.each(k.group,function(n){var o=k.group[n],m=d(o);if(!m){return}b("<img />").load(function(){var t=this.width,p=this.height,s,q,r;if(!e.list||!t||!p){return}s=t/c;q=p/h;r=e.list.children().eq(n).find("a");if(s>=1&&q>=1){if(s>q){t=Math.floor(t/q);p=h}else{t=c;p=Math.floor(p/s)}}b(this).css({width:t,height:p,top:Math.floor(h/2-p/2),left:Math.floor(c/2-t/2)});r.width(c).height(h);b(this).hide().appendTo(r).fadeIn(300)}).attr("src",m).attr("title",o.title)});this.width=this.list.children().eq(0).outerWidth(true);this.list.width(this.width*(k.group.length+1)).css("left",Math.floor(b(window).width()*0.5-(k.index*this.width+this.width*0.5)))},beforeLoad:function(c,d){if(d.group.length<2){d.helpers.thumbs=false;return}d.margin[c.position==="top"?0:2]+=((c.height)+15)},afterShow:function(c,d){if(this.list){this.onUpdate(c,d)}else{this.init(c,d)}this.list.children().removeClass("active").eq(d.index).addClass("active")},onUpdate:function(c,d){if(this.list){this.list.stop(true).animate({left:Math.floor(b(window).width()*0.5-(d.index*this.width+this.width*0.5))},150)}},beforeClose:function(){if(this.wrap){this.wrap.remove()}this.wrap=null;this.list=null;this.width=0}}}(jQuery));
/*!
 * jQuery Cookie Plugin v1.4.0
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(f){var a=/\+/g;function d(k){return b.raw?k:encodeURIComponent(k)}function g(k){return b.raw?k:decodeURIComponent(k)}function h(k){return d(b.json?JSON.stringify(k):String(k))}function c(k){if(k.indexOf('"')===0){k=k.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{k=decodeURIComponent(k.replace(a," "));return b.json?JSON.parse(k):k}catch(l){}}function e(l,k){var m=b.raw?l:c(l);return f.isFunction(k)?k(m):m}var b=f.cookie=function(r,q,w){if(q!==undefined&&!f.isFunction(q)){w=f.extend({},b.defaults,w);if(typeof w.expires==="number"){var s=w.expires,v=w.expires=new Date();v.setTime(+v+s*86400000)}return(document.cookie=[d(r),"=",h(q),w.expires?"; expires="+w.expires.toUTCString():"",w.path?"; path="+w.path:"",w.domain?"; domain="+w.domain:"",w.secure?"; secure":""].join(""))}var x=r?undefined:{};var u=document.cookie?document.cookie.split("; "):[];for(var p=0,n=u.length;p<n;p++){var o=u[p].split("=");var k=g(o.shift());var m=o.join("=");if(r&&r===k){x=e(m,q);break}if(!r&&(m=e(m))!==undefined){x[k]=m}}return x};b.defaults={};f.removeCookie=function(l,k){if(f.cookie(l)===undefined){return false}f.cookie(l,"",f.extend({},k,{expires:-1}));return !f.cookie(l)}}));var qq=qq||{};qq.extend=function(b,a){for(var c in a){b[c]=a[c]}};qq.indexOf=function(b,c,d){if(b.indexOf){return b.indexOf(c,d)}d=d||0;var a=b.length;if(d<0){d+=a}for(;d<a;d++){if(d in b&&b[d]===c){return d}}return -1};qq.getUniqueId=(function(){var a=0;return function(){return a++}})();qq.attach=function(a,c,b){if(a.addEventListener){a.addEventListener(c,b,false)}else{if(a.attachEvent){a.attachEvent("on"+c,b)}}};qq.detach=function(a,c,b){if(a.removeEventListener){a.removeEventListener(c,b,false)}else{if(a.attachEvent){a.detachEvent("on"+c,b)}}};qq.preventDefault=function(a){if(a.preventDefault){a.preventDefault()}else{a.returnValue=false}};qq.insertBefore=function(d,c){c.parentNode.insertBefore(d,c)};qq.remove=function(a){a.parentNode.removeChild(a)};qq.contains=function(b,a){if(b==a){return true}if(b.contains){return b.contains(a)}else{return !!(a.compareDocumentPosition(b)&8)}};qq.toElement=(function(){var a=document.createElement("div");return function(c){a.innerHTML=c;var b=a.firstChild;a.removeChild(b);return b}})();qq.css=function(a,b){if(b.opacity!=null){if(typeof a.style.opacity!="string"&&typeof(a.filters)!="undefined"){b.filter="alpha(opacity="+Math.round(100*b.opacity)+")"}}qq.extend(a.style,b)};qq.hasClass=function(b,a){var c=new RegExp("(^| )"+a+"( |$)");return c.test(b.className)};qq.addClass=function(b,a){if(!qq.hasClass(b,a)){b.className+=" "+a}};qq.removeClass=function(b,a){var c=new RegExp("(^| )"+a+"( |$)");b.className=b.className.replace(c," ").replace(/^\s+|\s+$/g,"")};qq.setText=function(a,b){a.innerText=b;a.textContent=b};qq.children=function(b){var a=[],c=b.firstChild;while(c){if(c.nodeType==1){a.push(c)}c=c.nextSibling}return a};qq.getByClass=function(d,e){if(d.querySelectorAll){return d.querySelectorAll("."+e)}var b=[];var f=d.getElementsByTagName("*");var a=f.length;for(var c=0;c<a;c++){if(qq.hasClass(f[c],e)){b.push(f[c])}}return b};qq.obj2url=function(f,b,h){var g=[],d="&",e=function(l,k){var m=b?(/\[\]$/.test(b))?b:b+"["+k+"]":k;if((m!="undefined")&&(k!="undefined")){g.push((typeof l==="object")?qq.obj2url(l,m,true):(Object.prototype.toString.call(l)==="[object Function]")?encodeURIComponent(m)+"="+encodeURIComponent(l()):encodeURIComponent(m)+"="+encodeURIComponent(l))}};if(!h&&b){d=(/\?/.test(b))?(/\?$/.test(b))?"":"&":"?";g.push(b);g.push(qq.obj2url(f))}else{if((Object.prototype.toString.call(f)==="[object Array]")&&(typeof f!="undefined")){for(var c=0,a=f.length;c<a;++c){e(f[c],c)}}else{if((typeof f!="undefined")&&(f!==null)&&(typeof f==="object")){for(var c in f){e(f[c],c)}}else{g.push(encodeURIComponent(b)+"="+encodeURIComponent(f))}}}return g.join(d).replace(/^&/,"").replace(/%20/g,"+")};var qq=qq||{};qq.FileUploaderBasic=function(a){this._options={debug:false,action:"/server/upload",params:{},button:null,multiple:true,maxConnections:3,autoUpload:true,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,dragDrop:false,onSubmit:function(d,c,b){},onProgress:function(e,d,b,c){},onComplete:function(d,c,b){},onCancel:function(c,b){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(b){alert(b)}};qq.extend(this._options,a);this._filesInProgress=0;this._handler=this._createUploadHandler();if(this._options.button){this._button=this._createUploadButton(this._options.button)}if(this._options.dragDrop==false){$(".qq-upload-drop-area").hide()}this._preventLeaveInProgress()};qq.FileUploaderBasic.prototype={setParams:function(a){this._options.params=a},startUpload:function(){var a=this.getUploadFiles();for(ik in a){if(a[ik]){this._handler.upload(ik,this._options.params)}}},getUploadFiles:function(){if(this._handler instanceof qq.UploadHandlerXhr){return this._handler._files}else{return this._handler._inputs}},clearQueue:function(){this._handler._files=[];this._filesInProgress=0},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(b){var a=this;return new qq.UploadButton({element:b,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(c){a._onInputChange(c)}})},_createUploadHandler:function(){var a=this,c;if(qq.UploadHandlerXhr.isSupported()){c="UploadHandlerXhr"}else{c="UploadHandlerForm"}var b=new qq[c]({debug:this._options.debug,action:this._options.action,maxConnections:this._options.maxConnections,autoUpload:true,onProgress:function(g,f,d,e){a._onProgress(g,f,d,e);a._options.onProgress(g,f,d,e)},onComplete:function(f,e,d){a._onComplete(f,e,d);a._options.onComplete(f,e,d)},onCancel:function(e,d){a._onCancel(e,d);a._options.onCancel(e,d)}});return b},_preventLeaveInProgress:function(){var a=this;qq.attach(window,"beforeunload",function(b){if(!a._filesInProgress){return}var b=b||window.event;b.returnValue=a._options.messages.onLeave;return a._options.messages.onLeave})},_onSubmit:function(b,a){this._filesInProgress++},_onProgress:function(d,c,a,b){},_onComplete:function(c,b,a){this._filesInProgress--;if(a.error){this._options.showMessage(a.error)}},_onCancel:function(b,a){this._filesInProgress--},_onInputChange:function(a){if(this._handler instanceof qq.UploadHandlerXhr){this._uploadFileList(a.files)}else{if(this._validateFile(a)){this._uploadFile(a)}}this._button.reset()},_uploadFileList:function(b){for(var a=0;a<b.length;a++){if(this._options.multiple==false&&a>0){alert("Please select only single file!!");return}if(!this._validateFile(b[a])){return}}for(var a=0;a<b.length;a++){this._uploadFile(b[a])}},_uploadFile:function(a){var c=this._handler.add(a);var b=this._handler.getName(c);if(this._options.onSubmit(c,b,a)!==false){this._onSubmit(c,b);if(this._options.autoUpload){this._handler.upload(c,this._options.params)}}},_validateFile:function(c){var a,b;if(c.value){a=c.value.replace(/.*(\/|\\)/,"")}else{a=c.fileName!=null?c.fileName:c.name;b=c.fileSize!=null?c.fileSize:c.size}if(!this._isAllowedExtension(a)){this._error("typeError",a);return false}else{if(b===0){this._error("emptyError",a);return false}else{if(b&&this._options.sizeLimit&&b>this._options.sizeLimit){this._error("sizeError",a);return false}else{if(b&&b<this._options.minSizeLimit){this._error("minSizeError",a);return false}}}}return true},_error:function(c,d){var b=this._options.messages[c];function a(e,f){b=b.replace(e,f)}a("{file}",this._formatFileName(d));a("{extensions}",this._options.allowedExtensions.join(", "));a("{sizeLimit}",this._formatSize(this._options.sizeLimit));a("{minSizeLimit}",this._formatSize(this._options.minSizeLimit));this._options.showMessage(b)},_formatFileName:function(a){if(a.length>33){a=a.slice(0,19)+"..."+a.slice(-13)}return a},_isAllowedExtension:function(d){var b=(-1!==d.indexOf("."))?d.replace(/.*[.]/,"").toLowerCase():"";var c=this._options.allowedExtensions;if(!c.length){return true}for(var a=0;a<c.length;a++){if(c[a].toLowerCase()==b){return true}}return false},_formatSize:function(a){var b=-1;do{a=a/1024;b++}while(a>99);return Math.max(a,0.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][b]}};qq.FileUploader=function(a){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-button">Upload a file</div><div class="qq-upload-list"></div></div>',fileTemplate:'<div><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></div>',classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",success:"qq-upload-success",fail:"qq-upload-fail"}});qq.extend(this._options,a);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||this._find(this._element,"list");this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,"button"));this._bindCancelEvent();if(this._options.dragDrop){this._setupDragDrop()}};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);qq.extend(qq.FileUploader.prototype,{_find:function(c,b){var a=qq.getByClass(c,this._options.classes[b])[0];if(!a){throw new Error("element not found "+b)}return a},_setupDragDrop:function(){var b=this,c=this._find(this._element,"drop");var a=new qq.UploadDropZone({element:c,onEnter:function(d){qq.addClass(c,b._classes.dropActive);d.stopPropagation()},onLeave:function(d){d.stopPropagation()},onLeaveNotDescendants:function(d){qq.removeClass(c,b._classes.dropActive)},onDrop:function(d){c.style.display="none";qq.removeClass(c,b._classes.dropActive);b._uploadFileList(d.dataTransfer.files)}});c.style.display="none";qq.attach(document,"dragenter",function(d){if(!a._isValidFileDrag(d)){return}c.style.display="block"});qq.attach(document,"dragleave",function(f){if(!a._isValidFileDrag(f)){return}var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||d.nodeName=="HTML"){c.style.display="none"}})},_onSubmit:function(b,a){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(b,a)},_onProgress:function(g,f,a,d){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var c=this._getItemByFileId(g);var b=this._find(c,"size");b.style.display="inline";var e;if(a!=d){e=Math.round(a/d*100)+"% from "+this._formatSize(d)}else{e=this._formatSize(d)}qq.setText(b,e)},_onComplete:function(d,c,a){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var b=this._getItemByFileId(d);qq.remove(this._find(b,"cancel"));qq.remove(this._find(b,"spinner"));if(a.success){qq.addClass(b,this._classes.success)}else{qq.addClass(b,this._classes.fail)}},_addToList:function(d,c){var a=qq.toElement(this._options.fileTemplate);a.qqFileId=d;var b=this._find(a,"file");qq.setText(b,this._formatFileName(c));this._find(a,"size").style.display="none";this._listElement.appendChild(a)},_getItemByFileId:function(b){var a=this._listElement.firstChild;while(a){if(a.qqFileId==b){return a}a=a.nextSibling}},_bindCancelEvent:function(){var a=this,b=this._listElement;qq.attach(b,"click",function(f){f=f||window.event;var d=f.target||f.srcElement;if(qq.hasClass(d,a._classes.cancel)){qq.preventDefault(f);var c=d.parentNode;a._handler.cancel(c.qqFileId);qq.remove(c)}})}});qq.UploadDropZone=function(a){this._options={element:null,onEnter:function(b){},onLeave:function(b){},onLeaveNotDescendants:function(b){},onDrop:function(b){}};qq.extend(this._options,a);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};qq.UploadDropZone.prototype={_disableDropOutside:function(a){if(!qq.UploadDropZone.dropOutsideDisabled){qq.attach(document,"dragover",function(b){if(b.dataTransfer){b.dataTransfer.dropEffect="none";b.preventDefault()}});qq.UploadDropZone.dropOutsideDisabled=true}},_attachEvents:function(){var a=this;qq.attach(a._element,"dragover",function(c){if(!a._isValidFileDrag(c)){return}var b=c.dataTransfer.effectAllowed;if(b=="move"||b=="linkMove"){c.dataTransfer.dropEffect="move"}else{c.dataTransfer.dropEffect="copy"}c.stopPropagation();c.preventDefault()});qq.attach(a._element,"dragenter",function(b){if(!a._isValidFileDrag(b)){return}a._options.onEnter(b)});qq.attach(a._element,"dragleave",function(c){if(!a._isValidFileDrag(c)){return}a._options.onLeave(c);var b=document.elementFromPoint(c.clientX,c.clientY);if(qq.contains(this,b)){return}a._options.onLeaveNotDescendants(c)});qq.attach(a._element,"drop",function(b){if(!a._isValidFileDrag(b)){return}b.preventDefault();a._options.onDrop(b)})},_isValidFileDrag:function(c){var b=c.dataTransfer,a=navigator.userAgent.indexOf("AppleWebKit")>-1;return b&&b.effectAllowed!="none"&&(b.files||(!a&&b.types.contains&&b.types.contains("Files")))}};qq.UploadButton=function(a){this._options={element:null,multiple:false,name:"file",onChange:function(b){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(this._options,a);this._element=this._options.element;qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"});this._input=this._createInput()};qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){if(this._input.parentNode){qq.remove(this._input)}qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput:function(){var b=document.createElement("input");if(this._options.multiple){b.setAttribute("multiple","multiple")}b.setAttribute("type","file");b.setAttribute("name",this._options.name);qq.css(b,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,padding:0,cursor:"pointer",opacity:0});this._element.appendChild(b);var a=this;qq.attach(b,"change",function(){a._options.onChange(b)});qq.attach(b,"mouseover",function(){qq.addClass(a._element,a._options.hoverClass)});qq.attach(b,"mouseout",function(){qq.removeClass(a._element,a._options.hoverClass)});qq.attach(b,"focus",function(){qq.addClass(a._element,a._options.focusClass)});qq.attach(b,"blur",function(){qq.removeClass(a._element,a._options.focusClass)});if(window.attachEvent){b.setAttribute("tabIndex","-1")}return b}};qq.UploadHandlerAbstract=function(a){this._options={debug:false,action:"/upload.php",maxConnections:999,autoUpload:true,onProgress:function(e,d,b,c){},onComplete:function(d,c,b){},onCancel:function(c,b){}};qq.extend(this._options,a);this._queue=[];this._params=[]};qq.UploadHandlerAbstract.prototype={log:function(a){if(this._options.debug&&window.console){console.log("[uploader] "+a)}},add:function(a){},upload:function(d,b){var a=this._queue.push(d);var c={};qq.extend(c,b);this._params[d]=c;if(a<=this._options.maxConnections){this._upload(d,this._params[d])}},cancel:function(a){this._cancel(a);this._dequeue(a)},cancelAll:function(){for(var a=0;a<this._queue.length;a++){this._cancel(this._queue[a])}this._queue=[]},getName:function(a){},getSize:function(a){},getQueue:function(){return this._queue},_upload:function(a){},_cancel:function(a){},_dequeue:function(d){var b=qq.indexOf(this._queue,d);this._queue.splice(b,1);var a=this._options.maxConnections;if(this._queue.length>=a&&b<a){var c=this._queue[a-1];this._upload(c,this._params[c])}}};qq.UploadHandlerForm=function(a){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerForm.prototype,{add:function(a){a.setAttribute("name","qqfile");var b="qq-upload-handler-iframe"+qq.getUniqueId();this._inputs[b]=a;if(a.parentNode){qq.remove(a)}return b},getName:function(a){return this._inputs[a].value.replace(/.*(\/|\\)/,"")},_cancel:function(b){this._options.onCancel(b,this.getName(b));delete this._inputs[b];var a=document.getElementById(b);if(a){a.setAttribute("src","javascript:false;");qq.remove(a)}},_upload:function(g,e){var b=this._inputs[g];if(!b){throw new Error("file with passed id was not added, or already uploaded or cancelled")}var f=this.getName(g);var c=this._createIframe(g);var d=this._createForm(c,e);d.appendChild(b);var a=this;this._attachLoadEvent(c,function(){a.log("iframe loaded");var h=a._getIframeContentJSON(c);a._options.onComplete(g,f,h);a._dequeue(g);delete a._inputs[g];setTimeout(function(){qq.remove(c)},1)});d.submit();qq.remove(d);return g},_attachLoadEvent:function(a,b){qq.attach(a,"load",function(){if(!a.parentNode){return}if(a.contentDocument&&a.contentDocument.body&&a.contentDocument.body.innerHTML=="false"){return}b()})},_getIframeContentJSON:function(iframe){var doc=iframe.contentDocument?iframe.contentDocument:iframe.contentWindow.document,response;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+doc.body.innerText);try{response=eval("("+doc.body.innerText+")")}catch(err){response={}}return response},_createIframe:function(b){var a=qq.toElement('<iframe src="javascript:false;" name="'+b+'" />');a.setAttribute("id",b);a.style.display="none";document.body.appendChild(a);return a},_createForm:function(a,c){var b=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');var d=qq.obj2url(c,this._options.action);b.setAttribute("action",d);b.setAttribute("target",a.name);b.style.display="none";document.body.appendChild(b);return b}});qq.UploadHandlerXhr=function(a){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var a=document.createElement("input");a.type="file";return("multiple" in a&&typeof File!="undefined"&&typeof(new XMLHttpRequest()).upload!="undefined")};qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);qq.extend(qq.UploadHandlerXhr.prototype,{add:function(a){if(!(a instanceof File)){throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)")}return this._files.push(a)-1},getName:function(b){var a=this._files[b];return a.fileName!=null?a.fileName:a.name},getSize:function(b){var a=this._files[b];return a.fileSize!=null?a.fileSize:a.size},getLoaded:function(a){return this._loaded[a]||0},_upload:function(h,f){var d=this._files[h],b=this.getName(h),c=this.getSize(h);this._loaded[h]=0;var e=this._xhrs[h]=new XMLHttpRequest();var a=this;e.upload.onprogress=function(k){if(k.lengthComputable){a._loaded[h]=k.loaded;a._options.onProgress(h,b,k.loaded,k.total)}};e.onreadystatechange=function(){if(e.readyState==4){a._onComplete(h,e)}};f=f||{};f.qqfile=b;var g=qq.obj2url(f,this._options.action);e.open("POST",g,true);e.setRequestHeader("X-Requested-With","XMLHttpRequest");e.setRequestHeader("X-File-Name",encodeURIComponent(b));e.setRequestHeader("Content-Type","application/octet-stream");e.send(d)},_onComplete:function(id,xhr){if(!this._files[id]){return}var name=this.getName(id);var size=this.getSize(id);this._options.onProgress(id,name,size,size);if(xhr.status==200){this.log("xhr - server response received");this.log("responseText = "+xhr.responseText);var response;try{var temp=xhr.responseText;temp=temp.replace(/&lt;/g,"<");temp=temp.replace(/&gt;/g,">");response=eval("("+temp+")")}catch(err){response={}}this._options.onComplete(id,name,response)}else{this._options.onComplete(id,name,{})}this._files[id]=null;this._xhrs[id]=null;this._dequeue(id)},_cancel:function(a){this._options.onCancel(a,this.getName(a));this._files[a]=null;if(this._xhrs[a]){this._xhrs[a].abort();this._xhrs[a]=null}}});$.validator.setDefaults({errorClass:"error-block",highlight:function(c,a,b){$(c).closest(".form-group").addClass("has-error").removeClass("has-success");if(typeof Placeholders!=="undefined"){Placeholders.enable()}},unhighlight:function(c,a,b){if($.hasData(c)){$(c).closest(".form-group").removeClass("has-error").addClass("has-success");if($(c).parent(".input-group").length||$(c).prop("type")==="checkbox"||$(c).prop("type")==="radio"){$(c).parent(".input-group").siblings(".error-block").html("&nbsp;")}else{$(c).siblings(".error-block").html("&nbsp;")}}},errorPlacement:function(a,b){var c=(b.parent(".input-group").length)?b.parent(".input-group"):b;if(c.siblings(".error-block").length){if(b.parent(".input-group").length||b.prop("type")==="checkbox"||b.prop("type")==="radio"){b.parent(".input-group").siblings(".error-block").html(a.html())}else{b.siblings(".error-block").html(a.html())}}else{if(b.parent(".input-group").length||b.prop("type")==="checkbox"||b.prop("type")==="radio"){$('<span class="error-block text-danger"></span>').html(a.html()).insertAfter(b.parent())}else{$('<span class="error-block text-danger"></span>').html(a.html()).insertAfter(b)}}}});(function(b){var a=b.fn.popover.Constructor.prototype.hide;b.fn.popover.Constructor.prototype.hide=function(){if(this.options.trigger==="hover"&&this.tip().is(":hover")){var c=this;setTimeout(function(){return c.hide.call(c,arguments)},c.options.delay.hide);return}a.call(this,arguments)}})(jQuery);
/*! A fix for the iOS orientationchange zoom bug. Script by @scottjehl, rebound by @wilto.MIT / GPLv2 License.*/
(function(D){function r(){A.setAttribute("content",x),w=!0}function q(){A.setAttribute("content",y),w=!1}function p(a){s=a.accelerationIncludingGravity,v=Math.abs(s.x),u=Math.abs(s.y),t=Math.abs(s.z),(!D.orientation||D.orientation===180)&&(v>7||(t>6&&u<8||t<8&&u>6)&&v>5)?w&&q():w||r()}var C=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-9]_[0-9_]* like Mac OS X/i.test(C)&&C.indexOf("AppleWebKit")>-1)){return}var B=D.document;if(!B.querySelector){return}var A=B.querySelector("meta[name=viewport]"),z=A&&A.getAttribute("content"),y=z+",maximum-scale=1",x=z+",maximum-scale=10",w=!0,v,u,t,s;if(!A){return}D.addEventListener("orientationchange",r,!1),D.addEventListener("devicemotion",p,!1)})(this);var ios=false;if(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-9]_[0-9_]* like Mac OS X/i.test(navigator.userAgent)&&navigator.userAgent.indexOf("AppleWebKit")>-1){ios=true}jQuery(document).ready(function(e){function a(){e(".selectpicker").selectpicker();e("input.pretty").each(function(){if(e.hasData(this)){e(this).prettyCheckable("destroy")}});e("input.pretty").each(function(){e(this).prettyCheckable()});e("[data-toggle=tooltip]").tooltip({container:"body",trigger:ios?"click":"hover"}).on("shown.bs.tooltip",function(){if(ios){var f=e(this);setTimeout(function(){f.tooltip("hide")},2000)}});e("[data-toggle=popover]").popover({html:true,content:function(){return e("#"+this.id+"_content").remove().html()}}).on("shown.bs.popover",function(){$tip=e(this).data("bs.popover")?e(this).data("bs.popover").tip():e(this).data("popover").tip();$tip.attr("id",this.id+"_popupcontent");if(typeof Placeholders!=="undefined"){Placeholders.enable()}if(e(".popover.in form").length){e(".popover.in").each(function(){e(this).find("form").validate();d()})}});e("html").on("mouseup",function(f){if(e(f.target).data("toggle")!="popover"&&!e(f.target).closest(".popover").length&&!e(f.target).parent("[data-toggle=popover]").length){e("[data-toggle=popover]").popover("hide")}});if(typeof e.fn.fancybox!=="undefined"){e("[data-toggle=fancybox]").fancybox()}}window.init_plugins=a;a();function c(f){if(f>768){e("[data-originalmenu=cssmenu]").attr("id","cssmenu")}else{e("#cssmenu").attr("data-originalmenu","cssmenu").attr("id","straightmenu")}if(f>=768){e("#sidebar2").removeClass("collapse").addClass("in");e(".navbar-collapse .navbar-nav li.divider").remove();e(".navbar-collapse .navbar-nav li.exlink").appendTo(e(".top-links:eq(0)"));e(".pagination").removeClass("pagination-sm");e(".dropdown-submenu > a").off("click")}else{e("#sidebar2").addClass("collapse");if(!e(".exlink.divider").length){e('<li class="exlink divider"></li>').appendTo(e(".navbar-collapse .navbar-nav"));e(".top-links:eq(0) li").addClass("exlink").appendTo(e(".navbar-collapse .navbar-nav"))}e(".pagination").addClass("pagination-sm");e(".dropdown-submenu > a").on("click",function(h){h.preventDefault();h.stopPropagation();e(".dropdown-submenu > a").parent().removeClass("open");e(this).parent().addClass("open");var l=e(this).parent().find("ul");var g=l.offset();if((g.left+l.width())+30>e(window).width()){var k=-l.width()}else{var k=e(this).parent().width()}l.css({left:k})})}}e(window).resize(function(){c(e(window).width())});c(e(window).width());e(".date").datepicker({todayBtn:true,autoclose:true,todayHighlight:true});e(".typeahead").typeahead([{name:"products",prefetch:"/search.php",template:'<a href="{{link}}">{{name}}</a>',engine:Hogan}]).bind("typeahead:selected",function(g,f){window.location.href=f.link});e("[data-toggle=offcanvas]").click(function(){e(".row-offcanvas-left").toggleClass("active")});function d(){e("[type=password]").keypress(function(h){var f=e(this),k=e(".tooltip").is(":visible"),g=String.fromCharCode(h.which);if(g.toUpperCase()===g&&g.toLowerCase()!==g&&!h.shiftKey){if(!k){f.tooltip("show")}}else{if(k){f.tooltip("hide")}}f.blur(function(l){f.tooltip("hide")})})}d();if(ALLOW_FANCYBOX_THUMBNAIL==true){e(".fancybox").fancybox({afterLoad:function(){var f=(this.element.data("page-label")!="")?""+this.element.data("page-label"):"";if(f!="undefined"){this.title="<div width='100%' >"+e(".page-header h1").text()+" ( Page : "+f+" ) "+e("#tempcontent_"+this.title).html()+"</div>"}else{this.title=e(".page-header h1").text()+e("#tempcontent_"+this.title).html()}},loop:false,helpers:{title:{type:"inside"},thumbs:{width:50,height:50}}})}else{e(".fancybox").fancybox({afterLoad:function(){var f=(this.element.data("page-label")!="")?""+this.element.data("page-label"):"";if(f!="undefined"){this.title="<div width='100%' >"+e(".page-header h1").text()+" ( Page : "+f+" ) "+e("#tempcontent_"+this.title).html()+"</div>"}else{this.title=e(".page-header h1").text()+e("#tempcontent_"+this.title).html()}},loop:false,helpers:{title:{type:"inside"}}})}function b(f){e("#user_subscribe_"+f).validate({submitHandler:function(h){var g=e("#sub_emailAddress_"+f);g.removeClass("text-danger").addClass("text-info").html('<i class="fa fa-refresh fa-spin"></i>');e.ajax({type:"GET",url:"/subscription_action.php?email="+e("#subemail_address_"+f).val(),success:function(k){if(k=="1"){g.addClass("text-success").html(COMMON_EMAIL_ADDED).fadeOut(5000).fadeIn(1000,function(){g.removeClass("text-success").html("&nbsp;")})}else{g.html(k)}e("#subemail_address_"+f).val("").focus();e("#subemail_address_"+f).parents(".form-group").removeClass("has-success")}})}})}window.subscriber_validate=b});function trim(a){if(a){while(a.substring(0,1)==" "){a=a.substring(1,a.length)}while(a.substring(a.length-1,a.length)==" "){a=a.substring(0,a.length-1)}}return a}function NumericValidation(b){var a;if(b.keyCode){a=b.keyCode}else{if(b.Which){a=b.Which}else{a=b.charCode}}if(a!=8&&a!=9){if((a<48||a>57)&&a!=37&&a!=39&&a!=13&&a!=35&&a!=36&&a!=46){return false}else{return true}}}function OpenHelp(a){var b="/studio_help.php";$.fancybox.open([{type:"iframe",width:1041,href:b,title:"Studio Help"}])}function default_on_submit(){var b=new Array();var a;b=getElementByClass("qq-upload-fail");for(a=0;a<b.lenght;a++){b[a].style.display="none"}}function getElementByClass(h,g){if(!g){g=document.getElementsByTagName("body")[0]}var b=[];var f=new RegExp("\\b"+h+"\\b");var e=g.getElementsByTagName("*");for(var d=0,c=e.length;d<c;d++){if(f.test(e[d].className)){b.push(e[d])}}return b}function removeFile(b,a){if(b==""||a==""){alert("Not enough parameters")}var c=$("#"+a).val();if(c==""){alert("File name not found")}if(confirm(COMMON_ALERT_DELETE)){$.ajax({url:"/"+SITE_UPLOAD_AJAX_DIRECTORY+FILE_COMMON_UPLOAD,data:"file_name="+c+"&page="+b+"&action=delete",success:function(d){$(".qq-upload-list").html("");$("#"+a).val("")}})}}var digitsOnly=/[1234567890]/g;var floatOnly=/[0-9\.-]/g;var floatminusOnly=/[-\0-9\.-]/g;var alphaOnly=/[^0-9]+$/;var alphanum_uscore=/[A-Za-z0-9_`~!@#$%^*()\-+{}:?|\/\\\[\]\.]/g;function restrictCharacters(k,f,d){if(!f){var f=window.event}if(f.keyCode){code=f.keyCode}else{if(f.which){code=f.which}}var c=String.fromCharCode(code);var h=f.keyCode;var b=f.charCode;var g="8,9,13,16,17,20,27,33,34,35,36,37,38,39,40,45,46,144";g=","+g+",";var a=","+h+",";if((g.indexOf(a)!=-1&&b==0)||c.match(d)){return true}else{return false}}function isNumber(a,b){numdecs=0;for(i=0;i<a.length;i++){mychar=a.charAt(i);if((mychar>="0"&&mychar<="9")||mychar=="."){if(mychar=="."){numdecs++}}else{return b}}if(numdecs>1){return b}return""}function CurrencyFormat(e){if(IS_PRICE_VISIBLE){var b=leftSymbol+" ";var a,c;if(e<0){e=0}NewPrice=e;if(e>0&&priceValue>0){NewPrice=priceValue*e}NewPrice=Number(NewPrice);c=NewPrice.numberFormat(JS_FORMAT);var d=c.split(".");IntAmount=d[0].replace(/\,/g,"");if(IntAmount>0){d[0]=d[0].replace(/\,/g,thousandSeprator);d[0]=d[0].replace(/^[0]+/g,"")}else{d[0]=0}c=d.join(decimalSeperator);DisplayAmount=b+c+rightSymbol;return DisplayAmount}else{return CORPORATE_PRICE_TEXT}}function htmlDecode(a){return jQuery("<div/>").html(a).html()};