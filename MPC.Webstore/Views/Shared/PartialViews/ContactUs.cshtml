@model MPC.Webstore.Models.ContactViewModel
@using MPC.Webstore.Common;
<div class="container content_area">
    <div class="left_right_padding">
        <div class="contact_us_heading">
            <label id="lbl_ContactUs">@Html.Raw(Html.GetKeyValueFromResourceFile("lblPageTitle", UserCookieManager.StoreId))</label>

        </div>
        <div class="white-container-lightgrey-border textAlignLeft rounded_corners">
            <div class="cont_us_pad">
                @if (ViewBag.DefaultAddress != null)
                {

                    <table width="100%" cellpadding="5" cellspacing="0">
                        <tr>
                            <td valign="top">
                                @if (ViewBag.DefaultAddress.Tel != null || ViewBag.DefaultAddress.Fax != null)
                                {
                                    <div id="ContactImage" class="contact_item_image float_left">
                                        &nbsp;
                                    </div>
                                }

                                <div class="float_left cntContactImagetxt">
                                    @if (ViewBag.DefaultAddress.Tel != null)
                                    {
                                        @*<label id="lbl_Tel">@Html.Raw(Html.GetKeyValueFromResourceFile("lblTelTxt", UserCookieManager.StoreId))</label>*@
                                        <label style="  font-weight: normal;">@ViewBag.DefaultAddress.Tel</label><br />
                                    }

                                    @if (ViewBag.DefaultAddress.Fax != null)
                                    {
                                        @*<label id="lblFax">@Html.Raw(Html.GetKeyValueFromResourceFile("ltrlfax", UserCookieManager.StoreId))</label>*@
                                        <label style="  font-weight: normal;">@ViewBag.DefaultAddress.Fax</label><br />
                                    }
                                </div>
                                <br />
                                <div class="dashboard_vertical_item_separator">
                                    &nbsp;
                                </div>
                                <div id="EmailImage" class="email_item_image float_left">
                                    &nbsp;
                                </div>
                                <div class="float_left cntEmailImageCntctUS">
                                    @*<label id="lbl_Email">@Html.Raw(Html.GetKeyValueFromResourceFile("ltrlemailtxt", UserCookieManager.StoreId)):</label>*@
                                    <label style="  font-weight: normal;">@ViewBag.DefaultAddress.Email</label><br />
                                </div>
                                <div class="dashboard_vertical_item_separator">
                                    &nbsp;
                                </div>
                                <div id="HomeImage" class="home_item_image float_left">
                                    &nbsp;
                                </div>
                                <div class="float_left cntAddressContactUS">

                                    <div>
                                        <label id="lblAddressLine1">@ViewBag.DefaultAddress.Address1</label>
                                        <label id="lblAddressLine2">@ViewBag.DefaultAddress.Address2</label>
                                    </div>
                                <label id="LblCity">@ViewBag.DefaultAddress.City</label>
                                <label id="lblState">@ViewBag.DefaultAddress.State</label><br />
                                <label id="lblCountry">@ViewBag.DefaultAddress.Country</label><br />
                                <label id="lblZipCode">@ViewBag.DefaultAddress.ZipCode</label>
                            </div>
                        </td>
                        <td valign="top" align="right">
                            @if (ViewBag.MapImage == null)
                            {
                                <div id="gMapContainer" class="rounded_corners cntgMapContactUs">
                                    <div id="gMap" class="rounded_corners gMapContactUs"></div>
                                </div>
                            }
                            else
                            {
                                <div id="imgmapContainer" class="MapPanel rounded_corners">
                                    <img id="imgGoogleImage" src="@ViewBag.MapImage" />
                                </div>
                            }
                           
                           
                        </td>
                    </tr>
                </table>
                }
            </div>
        </div>

        <div id="contactusform" class="white-container-lightgrey-border textAlignLeft rounded_corners">
            <div class="get_in_touch_heading">
                <label id="lbl_GetInTouch">@Html.Raw(Html.GetKeyValueFromResourceFile("ltrlgetintouch", UserCookieManager.StoreId))</label>
            </div>
            @ViewBag.Message
            <div class="get_in_touch_sub_padding">
                @using (Html.BeginForm())
                {

                    <table width="100%" cellpadding="5" cellspacing="5">
                        <tr>
                            <td>
                                <label id="lbl_Person_Name">@Html.Raw(Html.GetKeyValueFromResourceFile("ltrlname", UserCookieManager.StoreId))</label>
                            </td>
                            <td>
                                <div style="display:none"><label id="lbl_Enquiry_Nature">@Html.Raw(Html.GetKeyValueFromResourceFile("ltrlnoi", UserCookieManager.StoreId))</label></div>

                                <label id="lbl_Enquiry">@Html.Raw(Html.GetKeyValueFromResourceFile("ltrlenquiry", UserCookieManager.StoreId))</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                @Html.TextBoxFor(u => u.YourName, new { @class = "text_box400 rounded_corners5" })

                            </td>
                            <td rowspan="5" valign="top">
                                <div style="display:none">
                                    <select id="ddlEnqiryNature" class="dropdown rounded_corners5" style="width:200px;">
                                        <option>General</option>
                                        <option>Need a Quote</option>
                                        <option>Design inquiry</option>
                                        <option>Book studio/ design time</option>
                                        <option>Status on delivery</option>
                                    </select>

                                </div>
                                @Html.TextBoxFor(u => u.YourEnquiry, new { @class = "text_box400 rounded_corners5" })
                            </td>
                        </tr>
                        <tr>
                            <td>

                                <label id="lbl_CompanyName">@Html.Raw(Html.GetKeyValueFromResourceFile("divcompanyname", UserCookieManager.StoreId))</label>
                                <asp:literal id="ltrlcompany" text=""></asp:literal>
                            </td>

                        </tr>
                        <tr>
                            <td>
                                @Html.TextBoxFor(u => u.CompanyName, new { @class = "text_box400 rounded_corners5" })

                            </td>

                        </tr>
                        <tr>
                            <td>
                                <label>Your email</label>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                @Html.TextBoxFor(u => u.Email, new { @class = "text_box400 rounded_corners5" })

                            </td>
                        </tr>
                        <tr>
                            <td></td>
                            <td align="right">
                                <input type="submit" class="start_creating_btn rounded_corners5" />
                            </td>
                        </tr>
                    </table>
                }
            </div>
        </div>
    </div>
</div>

<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
@Html.Raw(ViewBag.googleMapScript)
<script>
    var geocoder;
    var map;
    function initialize() {
        var latlng;
        geocoder = new google.maps.Geocoder();
        if (isGeoCode) {
            latlng = new google.maps.LatLng(51.507674, -0.166196);
        }
        else {

            latlng = new google.maps.LatLng(lat, long);
        }

        var mapOptions = {
            zoom: 14,
            center: latlng,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            mapTypeControl: true,
            mapTypeControlOptions: {
                style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
                position: google.maps.ControlPosition.BOTTOM_CENTER
            },
            panControl: true,
            panControlOptions: {
                position: google.maps.ControlPosition.TOP_RIGHT
            },
            zoomControl: true,
            zoomControlOptions: {
                style: google.maps.ZoomControlStyle.LARGE,
                position: google.maps.ControlPosition.LEFT_CENTER
            },
            scaleControl: true,
            scaleControlOptions: {
                position: google.maps.ControlPosition.TOP_LEFT
            },
            streetViewControl: true,
            streetViewControlOptions: {
                position: google.maps.ControlPosition.LEFT_TOP
            }

        }




        map = new google.maps.Map(document.getElementById('gMap'), mapOptions);


        var infowindow = new google.maps.InfoWindow({
            content: info
        });


        if (isGeoCode) {


            codeAddress(addressline);


        } else {

            var marker = new google.maps.Marker({
                position: latlng,
                map: map,
                title: 'Click for more details'
            });
            google.maps.event.addListener(marker, 'click', function () {
                infowindow.open(map, marker);
            });;
        }

    }

    function codeAddress(address) {


        geocoder.geocode({ 'address': address }, function (results, status) {
            if (status == google.maps.GeocoderStatus.OK) {
                map.setCenter(results[0].geometry.location);
                var infowindow = new google.maps.InfoWindow({
                    content: info
                });

                var marker = new google.maps.Marker({
                    position: results[0].geometry.location,
                    map: map,
                    title: 'Click for more details'
                });
                google.maps.event.addListener(marker, 'click', function () {
                    infowindow.open(map, marker);
                });;
            } else {
                alert('Geocode was not successful for the following reason: ' + status);
            }
        });
    }

    google.maps.event.addDomListener(window, 'load', initialize);

</script>
